var inkgoWoo={data:{},variation:{},images_old:"",gallary_class:{},init:function(){var t,s=jQuery(".variations_form"),e=s.data("product_variations");if(null==e[0])return!1;0==jQuery(".reset_variations").length&&s.append('<a class="reset_variations" href="#">test</a>'),inkgoWoo.data=e,0==s.find("select.inkgo-swatches").length&&null!=inkgo_campaign_id&&""!=inkgo_campaign_id&&(s.find("select[data-attribute_name]").each(function(t,e){jQuery(this).addClass("inkgo-swatches");var i=0;jQuery(this).find("option").each(function(t,e){""!=jQuery(this).attr("value")&&(jQuery(this).attr("data-swatch_index",i),i++)})}),null!=(t=jQuery(".inkgo-attrs-json").data("product_attrs"))&&(jQuery(".reset_variations").trigger("click"),jQuery.each(t,function(t,e){var i;0<jQuery("select#"+t).length&&(null!=e.products?(jQuery("select#"+t).attr({"data-swatch_type":"product","data-swatches":JSON.stringify(e.products)}),i=jQuery("select#"+t).find("option"),jQuery(i[0]).attr("data-swatch_val","").data("swatch_val",""),jQuery.each(e.products,function(t,e){jQuery(i[t+1]).attr("data-swatch_val",JSON.stringify(e)).data("swatch_val",JSON.stringify(e))})):null!=e.colors?(jQuery("select#"+t).attr({"data-swatch_type":"color","data-swatches":JSON.stringify(e.colors)}),i=jQuery("select#"+t).find("option"),jQuery(i[0]).attr("data-swatch_val","").data("swatch_val",""),jQuery.each(e.colors,function(t,e){jQuery(i[t+1]).attr("data-swatch_val",e).data("swatch_val",e)})):(jQuery("select#"+t).attr({"data-swatch_type":""}),i=jQuery("select#"+t).find("option"),jQuery(i[0]).attr("data-swatch_val","").data("swatch_val",""),jQuery.each(e.values,function(t,e){jQuery(i[t+1]).attr("data-swatch_val",e).data("swatch_val",e)})),s.find("td").each(function(){jQuery(this).children().each(function(){if(jQuery(this).html()==e.name)return jQuery(this).addClass("inkgo-label-"+t),!1})}))}))),this.update(),this.swatches(s),jQuery(document).on("wc_variation_form",function(t){var e=jQuery(t.target);inkgoWoo.selected(e,!0),0<jQuery(".flex-direction-nav").length&&0==jQuery(".flex-nav-next").find("svg").length&&(jQuery(".flex-nav-next .flex-next").html('<svg class="inkgo-button-icon" viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow" transform="translate(100, 100) rotate(180) "></path></svg>'),jQuery(".flex-nav-prev .flex-prev").html('<svg class="inkgo-button-icon" viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow"></path></svg>'))}),1<jQuery(".inkgo-sw-item.inkgo-sw-item-type-img").length&&null!=inkgo_woo_id&&null==inkgoWoo.description&&(0<jQuery(".inkgo-products-description").length?inkgoWoo.description=jQuery(".inkgo-products-description").data("products_description"):jQuery.get(inkgo_ajax_url+"?action=inkgo_product_description&product_id="+inkgo_woo_id,function(t){inkgoWoo.description=t.data}))},swatches:function(t){var c=jQuery;t.addClass("inkgo-has-swatches").closest(".product").addClass("product-inkgo-swatches"),t.find("select.inkgo-swatches").length&&(t.closest(".product"),t.find("select.inkgo-swatches").each(function(){var t=c(this),e=t.parent();e.addClass("inkgo-td-swatches");var h,d=t.data("swatch_type");if("product"==d){if(0<jQuery(".inkgo-sw-item-type-img").length)return;var i=t.data("swatches"),s="";if(e.find(".inkgo-sw-items").length||e.append('<div class="inkgo-sw-items"></div>'),i.length)for(var n=0;n<i.length;n++){var a="";t.find("option[data-swatch_index="+n+"]").is(":selected")&&(a="selected-item"),s+='<div data-swatch_index="'+n+'" title="'+i[n].name.replace(/"/g,"&quot;")+'" data-product_id="'+i[n].product_id+'"  class="inkgo-sw-item inkgo-sw-item-type-img inkgo-sw-item-type-'+d+" "+a+'"><img class="inkgo-sw-img" src="'+inkgo.getIMGJPG(i[n].src,"resize-autox150")+'" /></div>'}e.find(".inkgo-sw-items").html(s),0==c(".inkgo-sw-item.inkgo-sw-item-type-img.selected-item").length&&c(c(".inkgo-sw-item.inkgo-sw-item-type-img")[0]).trigger("click")}else{"color"==d?(h="",e.find(".inkgo-sw-items").length||e.append('<div class="inkgo-sw-items"></div>'),t.find("option").each(function(){var t=c(this).is(":selected"),e=c(this).data("swatch_val"),i=c(this).attr("value"),s=c(this).data("swatch_index");if(null!=e&&""!=e){var n=t?"selected-item":"",a=e.split(",");if(1<a.length){for(var o="",r=0;r<a.length;r++)o+='<span style="background-color: '+a[r]+';" class="inkgo-sw-'+d+'"></span>';var l=i.replace(/"/g,"&quot;");h+='<div data-swatch_index="'+s+'" title="'+l+'" class="inkgo-sw-item inkgo-sw-item-'+a.length+"-color inkgo-sw-item-type-"+d+" "+n+'">'+o+i+"</div>"}else{l=i.replace(/"/g,"&quot;");h+='<div data-swatch_index="'+s+'" title="'+l+'" class="inkgo-sw-item inkgo-sw-item-1-color inkgo-sw-item-type-'+d+" "+n+'"><span style="background-color: '+a[0]+';" class="inkgo-sw-'+d+'">'+i+"</span></div>"}}}),e.find(".inkgo-sw-items").html(h),0==c(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item").length&&c(c(".inkgo-sw-item.inkgo-sw-item-type-color")[0]).trigger("click"),c(".inkgo-sw-item.inkgo-sw-item-type-color").length<=1?e.parents("tr").hide():e.parents("tr").show()):(h="",e.find(".inkgo-sw-items").length||e.append('<div class="inkgo-sw-items"></div>'),t.find("option").each(function(){var t,e=c(this).is(":selected"),i=(c(this).data("swatch_val"),c(this).attr("value")),s=c(this).data("swatch_index"),n=e?"selected-item":"";""!=i&&(t=i.replace(/"/g,"&quot;"),h+='<div data-swatch_index="'+s+'" title="'+t+'" class="inkgo-sw-item inkgo-sw-item-type-size '+n+'"><span class="inkgo-sw-size">'+i+"</span></div>")}),e.find(".inkgo-sw-items").html(h))}}),this.selected(t,!0))},update:function(){var r=jQuery;r(document).on("click",".inkgo-sw-items .inkgo-sw-item",function(t){var e=r(this);if(1==e.hasClass("selected-item")&&""!=e.parent().find("select").val())return!1;e.parent().find(".inkgo-sw-item").removeClass("selected-item"),e.addClass("selected-item");var i,s,n=e.closest(".value"),a=e.closest("form"),o=e.data("swatch_index");return e.hasClass("inkgo-sw-item-type-img")&&(a.find(".reset_variations").trigger("click"),i=jQuery(this).data("product_id"),null!=inkgoWoo.description&&null!=inkgoWoo.description[i]&&jQuery(".inkgo-product-description").html(inkgoWoo.description[i])),s=n.find(".inkgo-swatches option[data-swatch_index="+o+"]").length?n.find(".inkgo-swatches option[data-swatch_index="+o+"]").attr("value"):n.find(".inkgo-swatches option[data-swatch_index=1]").length?(a.find(".reset_variations").trigger("click"),n.find(".inkgo-swatches option[data-swatch_index=1]").attr("value")):n.find(".inkgo-swatches option[data-swatch_index=0]").attr("value"),n.find("select.inkgo-swatches").val(s).trigger("change"),inkgoWoo.selected(a),t.preventDefault(),!1})},selected:function(r,t){var l=0;if(0<r.find("option.enabled").length&&(l=1),r.find("select.inkgo-swatches").each(function(t,e){var i=jQuery(this),s=i.attr("id"),n=i.val(),a=i.find("option:selected").data("swatch_index"),o=r.find('label[for="'+s+'"]');0==o.length&&(o=r.find(".inkgo-label-"+s)),void 0!==a&&!1!==typeof a&&""!==a||(n=""),o.length&&(o.find(".selected-swatch-span").length||o.append(': <span class="selected-swatch-span"></span>'),o.find(".selected-swatch-span").html(n)),jQuery(this).parent().find(".inkgo-sw-item").each(function(){var t;jQuery(this).hasClass("inkgo-sw-item-type-img")||((t=jQuery(this).attr("title").replace(/&quot;/g,'"'))==n?jQuery(this).addClass("selected-item"):jQuery(this).removeClass("selected-item"),1==l?0<i.find("option.enabled[value='"+t+"']").length?jQuery(this).addClass("inkgo-enabled").show():jQuery(this).removeClass("inkgo-enabled").hide():0<i.find("option[value='"+t+"']").length?jQuery(this).addClass("inkgo-enabled").show():jQuery(this).removeClass("inkgo-enabled").hide())})}),0==jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item").length){var e=jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.inkgo-enabled")[0];return jQuery(e).trigger("click"),!1}this.getVariant(r),this.images(r)},getVariant:function(){var t,e,i,s,n,a,o,r=jQuery('input[name="variation_id"]').val();inkgoWoo.variation={},0!=r?jQuery.each(inkgoWoo.data,function(t,e){if(r==e.variation_id)return inkgoWoo.variation=e,!1}):0<jQuery(".inkgo-sw-item.inkgo-sw-item-type-img.inkgo-sw-item-type-product").length?(e=(0<(t=jQuery(".inkgo-sw-item.inkgo-sw-item-type-img.inkgo-sw-item-type-product.selected-item")).length||(t=jQuery(".inkgo-sw-item.inkgo-sw-item-type-img.inkgo-sw-item-type-product")).trigger("click"),t[0]),i=jQuery(e).parent().parent().find("select.inkgo-swatches").attr("id"),s=jQuery(e).attr("title"),n=jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item")[0],a=jQuery(n).parent().parent().find("select.inkgo-swatches").attr("id"),o=jQuery(n).attr("title"),jQuery.each(inkgoWoo.data,function(t,e){if(null!=e.attributes["attribute_"+i]&&e.attributes["attribute_"+i]==s&&null!=e.attributes["attribute_"+a]&&e.attributes["attribute_"+a]==o)return inkgoWoo.variation=e,!1})):(n=jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item")[0],a=jQuery(n).parent().parent().find("select.inkgo-swatches").attr("id"),o=jQuery(n).attr("title"),jQuery.each(inkgoWoo.data,function(t,e){if(null!=e.attributes["attribute_"+a]&&e.attributes["attribute_"+a]==o)return inkgoWoo.variation=e,!1}))},images:function(){if(null==inkgoWoo.variation.variation_id)return!1;var t=inkgoWoo.variation;jQuery(".woocommerce-variation-description").html(t.variation_description),jQuery(".woocommerce-variation.single_variation").addClass("inkgo-show");var e,i,s,n,a,o,r,l,h=JSON.stringify(t.inkgo_variation_images);if(h==inkgo.images_old)return!1;inkgo.images_old=h,null!=t.inkgo_variation_images&&0<t.inkgo_variation_images.length&&(0==(a=jQuery(".product-inkgo-swatches .woocommerce-product-gallery")).length&&0<(a=jQuery(".product-inkgo-swatches .product-gallery > div:eq(0)")).length&&0==a.hasClass("woocommerce-product-gallery")&&a.addClass("woocommerce-product-gallery"),e=a.height(),a.parent().css({height:e+"px",visibility:"hidden",opacity:1}),i=a[0].attributes,0==(s=a.next()).length&&(n=a.parent()),a.remove(),a=document.createElement("div"),jQuery.each(i,function(t,e){a.setAttribute(e.name,e.value)}),a.innerHTML='<figure class="woocommerce-product-gallery__wrapper"></div>',null!=n?n.append(a):jQuery(a).insertBefore(s),a=jQuery(".product-inkgo-swatches .woocommerce-product-gallery__wrapper"),o={},jQuery.each(t.inkgo_variation_images,function(t,e){var i=e.src,s=e.id;null!=e.mockup_id&&(s=s+" "+e.mockup_id,o[e.mockup_id]=i),a.append('<div data-thumb="'+inkgo.getIMGJPG(i,"resize-autox150")+'" data-thumb-alt="" class="woocommerce-product-gallery__image inkgo-variarion-thumb"><a href="'+inkgo.getIMGJPG(i)+'"><img src="'+inkgo.getIMGJPG(i)+'" class="inkgo-woo-thumb inkgo-'+inkgo_campaign_id+"-"+s+'" alt="" data-caption="" data-src="'+inkgo.getIMGJPG(i)+'" data-large_image="'+inkgo.getIMGJPG(i)+'" data-large_image_width="'+e.width+'" data-large_image_height="'+e.height+'" sizes="" draggable="false"></a></div>')}),(r=wc_single_product_params).flexslider_enabled=1,r.photoswipe_enabled=1,r.flexslider={rtl:!1,animation:"slide",smoothHeight:!1,directionNav:!0,controlNav:"thumbnails",slideshow:!1,animationSpeed:500,animationLoop:!1,allowOneSlide:!1},r.zoom_enabled=!1,jQuery(".woocommerce-product-gallery").each(function(){var i;null!=jQuery(this).wc_product_gallery&&(jQuery(this).trigger("wc-product-gallery-before-init",[this,r]),jQuery(this).wc_product_gallery(r),jQuery(this).trigger("wc-product-gallery-after-init",[this,r])),1<jQuery(".woocommerce-product-gallery__image").length&&(jQuery(".flex-nav-next .flex-next").html('<svg class="inkgo-button-icon" viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow" transform="translate(100, 100) rotate(180) "></path></svg>'),jQuery(".flex-nav-prev .flex-prev").html('<svg class="inkgo-button-icon" viewBox="0 0 100 100"><path d="M 10,50 L 60,100 L 70,90 L 30,50  L 70,10 L 60,0 Z" class="arrow"></path></svg>'),25<(i=100/jQuery(".flex-control-thumbs li").length)&&(i=25),jQuery(".flex-control-thumbs li").each(function(t,e){jQuery(this).css({width:i+"%"}),0}))}),null!=(l=jQuery(".woocommerce-product-gallery__image.inkgo-variarion-thumb img.inkgo-woo-thumb"))[0]&&1<l.length?l[0].onload=function(){jQuery(".flex-control-thumbs li").height();jQuery(".woocommerce-product-gallery").flexslider(0),setTimeout(function(){jQuery(".product-inkgo-swatches .woocommerce-product-gallery").css("opacity",1).parent().css({height:"auto",visibility:"inherit"})},100)}:setTimeout(function(){jQuery(".product-inkgo-swatches .woocommerce-product-gallery").css("opacity",1).parent().css({height:"auto",visibility:"inherit"})},100),inkgoWoo.mockup(o),jQuery(document).triggerHandler("inkgo_mockup_loaded"));var d,c,u=jQuery(".inkgo-sw-item.inkgo-sw-item-type-color.selected-item");0<u.length&&null!=inkgo.data&&null!=inkgo.data.products&&((d=u.parent().parent().find("select.inkgo-swatches option:selected")).length&&(c=d.data("swatch_val").split(","),inkgo.data.products[inkgo.product_id].color=c[0]))},mockup:function(t){var e=["a","div","img"],a=["src","srcset","data-src","data-large_image","href","data-thumb","data-o_data-thumb"];jQuery.each(t,function(s,n){for(var t=0;t<e.length;t++)jQuery(".woocommerce-product-gallery").find(e[t]).each(function(t,e){for(var i=0;i<a.length;i++)if(null!=jQuery(this).attr(a[i])&&jQuery(this).attr(a[i])==n&&0==jQuery(this).hasClass(s)){jQuery(this).addClass(s);break}})}),inkgo.fields.init(inkgo.data_json)}},inkgo_clipart_size=100;"undefined"!=typeof inkgo_custom_clipart_size&&(inkgo_clipart_size=inkgo_custom_clipart_size);var cart_ps,inkgo={loading_icon:"https://cdn.inkgo.io/images/loading.gif",is_mobile:!1,init:function(){var t;"undefined"!=typeof inkgo_woo_id&&0<jQuery(".inkgo-design").length&&(t=jQuery(".inkgo-design").data("id"),this.load(t))},product:function(){var t;"undefined"!=typeof inkgo_woo_id&&0<jQuery(".variations_form").length&&0==jQuery(".variations_form").data("product_variations")&&(0<jQuery(".inkgo-product-variations").length?(t=jQuery(".inkgo-product-variations").data("product_variations"),jQuery(".variations_form").find(".reset_variations").trigger("click"),jQuery(".variations_form").data("product_variations",t),inkgoWoo.init(),jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()})):jQuery.ajax({url:inkgo_ajax_url,type:"POST",dataType:"json",data:{action:"inkgo_variations",product_id:inkgo_woo_id}}).done(function(t){null!=t.data&&(jQuery(".variations_form").find(".reset_variations").trigger("click"),jQuery(".variations_form").data("product_variations",t.data),inkgoWoo.init(),jQuery(".variations_form").each(function(){jQuery(this).wc_variation_form()}))}))},load:function(t){inkgo.design_id=t,this.getDesign(t,inkgo.fields.init)},fields:{init:function(t){if(null!=t&&0!=inkgo_campaign_custom){if(null==t.design)return jQuery(".inkgo-design").remove(),jQuery(".inkgo-custom-mobile").remove(),void jQuery(".inkgo_design_info").remove();jQuery(".inkgo-design-items").html(""),1<jQuery(".inkgo-design-items").length&&jQuery(".inkgo-design-items").each(function(){0==jQuery(this).parents(".product-inkgo-swatches").length&&jQuery(this).remove()}),inkgo.layout.init(),inkgo_layout();var e=jQuery(".inkgo-sw-item-type-img.inkgo-sw-item-type-product.selected-item");if(0<e.length?inkgo.product_id=e.data("product_id"):jQuery.each(t.design,function(t,e){return inkgo.product_id=t,!1}),null==t.design[inkgo.product_id])return!1;inkgo.data_json=t,inkgo.data={},inkgo.data.design=t.design[inkgo.product_id],inkgo.data.products=t.products,inkgo.data.mockups=t.mockups;inkgo.fields.layers={},inkgo.fields.layers.text={},inkgo.fields.layers.img={},inkgo.fields.layers.option={},inkgo.fields.mockups(),jQuery.each(t.design[inkgo.product_id],function(t,e){jQuery("#inkgo-thumb-"+t).remove(),0==jQuery(".inkgo_design_thumb").length&&jQuery(".inkgo-thumbs").append('<textarea name="inkgo_design_thumb['+t+']" class="inkgo_design_thumb" id="inkgo-thumb-'+t+'" style="display:none;"></textarea>'),0<e.layers.length&&(inkgo.fields.getLayers(t,e.layers),0)}),inkgo.fields.layout(),inkgo.fields.items(),inkgo.modal.init(),inkgo.fields.addEvents(),Object.entries(inkgo.design.customize).length&&inkgo.design.init(),inkgo.fields.buttons(),inkgo.fields.loadImages()}},addEvents:function(){jQuery(".inkgo-button").click(function(t){inkgo.design.init()}),jQuery(".inkgo-modal-close").click(function(t){inkgo.modal.show(!1)}),jQuery(".inkgo-button-upload").click(function(t){jQuery(this).parent().find("input.inkgo-custom-img").trigger("click")}),jQuery(".inkgo-edit").click(function(t){var e,i;jQuery(this).hasClass("inkgo-uploaded")?(i=(e=jQuery(this).parents(".inkgo-field-group")).find("img"),jQuery(".inkgo-modal-body").html('<img src="'+i.attr("src")+'" data-width="'+i.data("width")+'" data-height="'+i.data("height")+'" id="img-item-'+e.data("id")+'" alt=""><div class="mask-bg"><div class="mask-bg-left"></div><div class="mask-bg-right"></div><div class="mask-bg-top"></div><div class="mask-bg-bottom"></div></div> <div class="mask-item"></div>'),inkgo.modal.show(!0),inkgo.upload.edit(e.data("id"))):jQuery(this).parents(".inkgo-field-img").find("input.inkgo-custom-img").trigger("click")}),jQuery(".inkgo-custom-field").change(function(){jQuery(".inkgo-editor-head .inkgo-btn-done").show(),jQuery(this).parents(".inkgo-field-group").removeClass("inkgo-required"),inkgo.design.update(this),inkgo.design.uploadJson()}),jQuery(".inkgo-textarea").inkgoWithDelay("keyup",function(t){var e=jQuery(this).parent().find(".inkgo-custom-text");e.val(this.value),e.trigger("keyup")},300),jQuery(".inkgo-custom-text").inkgoWithDelay("keyup",function(t){var e,i,s;null!=jQuery(this).attr("maxlength")&&(e=jQuery(this).attr("maxlength"),i=jQuery(this).val().length,jQuery(this).parent().find(".inkgo-text-leng").html(" ("+i+" | "+e+")")),0<jQuery(this).parents(".inkgo-has-group-custom").length&&(s=jQuery(this).parents(".inkgo-has-group-custom").data("group"),jQuery('.inkgo-has-group-custom[data-group="'+s+'"]').find(".inkgo-custom-field").val(jQuery(this).val()).trigger("change"));var n=jQuery(this).attr("id").replace("inkgo-custom-","");delete inkgo.design.canvas_layers["cache_"+n],jQuery(this).trigger("change")},300),jQuery(".inkgo-custom-text").click(function(t){var i,e,s;1==inkgo.is_mobile&&(i=jQuery(this).attr("id").replace("inkgo-custom-",""),e=jQuery(this).parents(".inkgo-field-group").data("view"),s=inkgo.data.design[e].layers,jQuery.each(s,function(t,e){if(e.id==i)return inkgo.mobile.edit(e),!1}),t.stopPropagation(),t.preventDefault())}),jQuery(".inkgo-custom-mobile").removeClass("inkgo-hidden"),jQuery(".inkgo-custom-img").change(function(t){t.stopPropagation(),t.preventDefault();var e,i=this.files[0];null!=i&&(e=jQuery(this).data("id"),inkgo.upload.init(e,i))}),0<jQuery(".inkgo-design-items .inkgo-field-group").length?(inkgo.cart(),inkgo.getStore(inkgo.fields.layers),inkgo.addtocart()):jQuery(".inkgo-design").remove()},loadImages:function(){var t=inkgo.data_json.mockups;jQuery.each(t,function(t,e){jQuery.each(e,function(t,e){jQuery.each(e.layers,function(t,e){var i;null!=e.mask_img&&((i=new Image).onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(i,0,0),inkgo.mockups.canvas_layers[md5(e.mask_img)]=t},i.crossOrigin="",i.src=e.mask_img)})})})},buttons:function(){var t;0==jQuery(".inkgo-preview").length&&(t='<button type="button" onclick="inkgo_preview();" class="inkgo-preview inkgo-show-mobile">'+inkgo_lang.preview+"</button>"),jQuery(t).insertBefore(".inkgo-thumbs"),0<jQuery(".inkgo-label-design").length||0!=inkgo_dis_mobile&&jQuery(window).width()<500&&(null==inkgo_lang.personalize&&(inkgo_lang.personalize=jQuery(".inkgo-custom-mobile").text()),null==inkgo_lang.preview&&(inkgo_lang.preview="Preview your design"),t='<button type="button" class="inkgo-label-design">'+inkgo_lang.personalize+"</button>",jQuery(t).insertBefore(".inkgo-thumbs"),inkgo_show_label(),jQuery(".inkgo-label-design").click(function(t){var e=jQuery(".inkgo-design-items").offset().top-(jQuery(window).height()-jQuery(".inkgo-design-items").height())/2;jQuery([document.documentElement,document.body]).animate({scrollTop:e},1e3)}))},mockups:function(){var h=inkgo.data_json,t=h.mockups;jQuery.each(t,function(n,t){var i,a,o,s=0,r="",l=h.design[n];jQuery.each(t,function(t,e){jQuery.each(e.layers,function(t,e){if(null!=e.area_id&&(""==r&&(r=e.area_id),null!=l[e.area_id]))return!(s=1)})}),0==s&&(i={},a="",jQuery.each(l,function(t,e){return i=e,a=t,!1}),o=!1,jQuery.each(t,function(i,s){return 1!=o&&void jQuery.each(s.layers,function(t,e){if(null!=e.area_id)return s.layers[t].area_id=a,h.mockups[n][i]=s,!(o=!0)})}),h.design[n]={},h.design[n][r]=i)}),inkgo.data_json=h,jQuery.each(inkgo.data.design,function(t,e){inkgo.data.design[t].id=t})},getLayers:function(t,e){null==inkgo.design.layout_id&&(inkgo.design.layout_id=0);var i={};null!=inkgo.data_json.arts&&(i=inkgo.data_json.arts);for(var s=0;s<e.length;s++){var n=e[s],a=0;void 0!==n.layouts&&void 0!==n.layouts[inkgo.design.layout_id]?a=n.layouts[inkgo.design.layout_id]:void 0!==n.hidden&&(a=n.hidden),1!=a&&(n.view_id=t,void 0!==n.allow_custom&&1==n.allow_custom&&("text"==n.type?inkgo.fields.layers.text[n.id]=n:inkgo.fields.layers.img[n.id]=n),void 0!==n.allow_change_art&&1==n.allow_change_art&&null!=n.art_cate_id&&0!=n.art_cate_id&&null!=i[n.art_cate_id]&&(inkgo.fields.layers.option[n.id]=n))}},items:function(){var t=this.text(inkgo.fields.layers.text),e=this.img(inkgo.fields.layers.img),i=this.option(inkgo.fields.layers.option);void 0!==inkgo.data_json.templates&&this.templates(),""!=i&&(0==jQuery(".inkgo-items-options").length&&jQuery(".inkgo-design-items").append('<div class="inkgo-items-options"></div>'),jQuery(".inkgo-items-options").append(i),jQuery(".inkgo-art-thum").click(function(t){inkgo.fields.changeArt(this)}),jQuery(".inkgo-art-select").change(function(t){inkgo.fields.changeArt(this,"select")}),jQuery("select.inkgo-art").change(function(){var t=jQuery(this).data("id"),e=jQuery(this).val();jQuery(this).parent().find(".inkgo-arts").remove();var i=inkgo.data_json.arts;if(null!=i[t]&&null!=i[t].child&&null!=i[t].child[e]){var s,n="",a="img";null!=i[t].child[e].settings&&(null!=(s=i[t].child[e].settings).display_type&&(a=s.display_type),"color"!=a&&"select"!=a&&(a="img"),null!=s.size&&(s.size<30&&(s.size=60),n="color"==a?'style="height:'+s.size+"px;width:"+s.size+'px;"':'style="height:'+s.size+'px;"',parseInt(1.4*s.size)<30&&0));for(var o='<div class="inkgo-arts">',r="",l=0;l<i[t].child[e].arts.length;l++){var h=i[t].child[e].arts[l];null!=h.color&&""!=h.color&&null!=h.color||(h.color="FFFFFF"),"select"==a?(r+='<option value="'+h.id+'">'+h.title+"</option>",o+='<a href="javascript:void(0);" class="inkgo-art-thum inkgo-hidden" data-id="'+h.id+'" '+n+'><img src="'+h.thumb+'" alt="'+h.title+'"></a>'):"color"==a?(null==h.color&&(h.color="FFFFFF"),o+='<a href="javascript:void(0);" class="inkgo-art-thum" data-id="'+h.id+'" '+n+'><span class="inkgo-art-color" style="background-color:#'+h.color+'"></span><img src="'+h.thumb+'" alt="'+h.title+'" style="display:none;"></a>'):o+='<a href="javascript:void(0);" class="inkgo-art-thum" data-id="'+h.id+'" '+n+' style="background-color:#'+h.color+'"><img src="'+h.thumb+'" alt="'+h.title+'"></a>'}"select"==a&&(o+='<select class="inkgo-select inkgo-art-select">'+r+"</select>"),o+="</div>",jQuery(this).parent().append(o),jQuery(this).parent().find(".inkgo-art-thum").click(function(t){inkgo.fields.changeArt(this)}),jQuery(this).parent().find(".inkgo-art-select").change(function(t){inkgo.fields.changeArt(this,"select")})}}),inkgo.is_mobile=0,inkgo_dis_mobile=1,jQuery("body").removeClass("inkgo-mobile")),""!=t&&(0==jQuery(".inkgo-items-text").length&&jQuery(".inkgo-design-items").append('<div class="inkgo-items-text"></div>'),jQuery(".inkgo-items-text").append(t)),""!=e&&(0==jQuery(".inkgo-items-img").length&&jQuery(".inkgo-design-items").append('<div class="inkgo-items-img"></div>'),jQuery(".inkgo-items-img").append(e),inkgo.fields.shape()),jQuery.each(inkgo.design.customize,function(t,e){var i=jQuery("#inkgo-custom-"+t);0<i.length&&(i.hasClass("inkgo-custom-text")?(i.val(e.text),setTimeout(function(){i.trigger("change")},200)):(jQuery("#inkgo-custom-"+t).val(JSON.stringify(e.data)),null!=e.src&&(jQuery("#inkgo-custom-"+t).parents(".inkgo-field-img").find("img").attr("src",e.src),jQuery("#inkgo-custom-"+t).parents(".inkgo-field-img").find(".inkgo-edit").addClass("inkgo-uploaded"))),delete inkgo.design.canvas_layers[t])}),isFacebookApp()&&jQuery(".inkgo-custom-img").removeAttr("accept"),null!=inkgo.data_json.settings&&null!=inkgo.data_json.settings.items&&inkgo.fields.settings(inkgo.data_json.settings.items),""==e&&""==t||1==inkgo.is_mobile&&(inkgo.mobile.thumb(),setTimeout(function(){inkgo.design.init()},300)),jQuery(document).triggerHandler("initDesign.inkgo")},shape:function(){jQuery(".inkgo-field-img img").each(function(){var s,t,i;1==jQuery(this).parent().data("shape")&&(s=jQuery(this).parents(".inkgo-field-img").find(".inkgo-custom-img").data("id"),t=jQuery(this).attr("src"),(i=new Image).onerror=function(){var i=new Image;i.onload=function(){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=this.width,t.height=this.height,e.drawImage(i,0,0),inkgo.design.shapes[s]=t},i.crossOrigin="",i.src=inkgo.getIMGCache(t)},i.onload=function(){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=this.width,t.height=this.height,e.drawImage(i,0,0),inkgo.design.shapes[s]=t},i.crossOrigin="",i.src=t)})},settings:function(t){var n=0,i=0;if(jQuery.each(t,function(t,e){i+=1}),i<=1)return!1;var a="";0<jQuery(".inkgo-group-templates").length&&(a=".inkgo-group-templates"),jQuery.each(t,function(t,e){var i,s=jQuery('.inkgo-field-group[data-id="'+t+'"]');s.hasClass("inkgo-field-sort")||(s.addClass("inkgo-field-sort"),0<s.length?i=s:null!=e.text&&(i=jQuery('<span class="inkgo-help-text inkgo-field-group" data-id="'+t+'">'+e.text+"</span>")),void 0!==i&&(""==a?i.appendTo(".inkgo-design-items"):i.insertAfter(a),a='.inkgo-field-group[data-id="'+t+'"]',n++))}),0<n&&(0==jQuery(".inkgo-items-options .inkgo-field-group").length&&jQuery(".inkgo-items-options").remove(),0==jQuery(".inkgo-items-text .inkgo-field-group").length&&jQuery(".inkgo-items-text").remove(),0==jQuery(".inkgo-items-img .inkgo-field-group").length&&jQuery(".inkgo-items-img").remove())},changeArt:function(t,e){var i,s,n,a,o,r=jQuery(t);null!=e&&(i=r.val(),r=t=r.parent().find('a[data-id="'+i+'"]')),r.hasClass("selected-item")||(r.parent().find(".inkgo-art-thum").removeClass("selected-item"),r.addClass("selected-item"),s=r.parents(".inkgo-field-group").data("id"),n=r.data("id"),a=r.find("img").attr("src"),(o=new Image).onload=function(){var t=a.replace(n+"-100x100",n+"-300x300"),e={id:n,thumb:a,width:this.width,height:this.height,design:t};null!=inkgo.fields.layers.option&&null!=inkgo.fields.layers.option[s]&&300<inkgo.fields.layers.option[s].width&&"undefined"!=typeof inkgo_custom_load_thumb&&(e.preview=a.replace(n+"-100x100",n+"-500x500")),null!=inkgo.design.canvas_layers[s]&&delete inkgo.design.canvas_layers[s],null!=inkgo.design.canvas_images[md5(t)]&&(inkgo.design.canvas_layers[s]=inkgo.design.canvas_images[md5(t)]),jQuery("#inkgo-custom-"+s).val(JSON.stringify(e)).trigger("change")},o.src=a)},option:function(t){var d="",c=inkgo.data_json.arts;return jQuery.each(t,function(t,e){d=d+'<div class="inkgo-field-group" data-view="'+e.view_id+'" data-id="'+t+'">';var i=inkgo_lang.photo_title;null!=e.change_art_label&&""!=e.change_art_label&&(i=e.change_art_label);var s,n,a,o,r,l,h="";null!=c[e.art_cate_id].child?(s=[],n=0,jQuery.each(c[e.art_cate_id].child,function(t,e){s[n]=e,n++}),s.sort(function(t,e){return null==t.order&&(t.order=0),null==e.order&&(t.order=0),t.order-e.order}),null==c[e.art_cate_id].title&&(c[e.art_cate_id].title=inkgo_lang.select),h='<select class="inkgo-art" data-id="'+e.art_cate_id+'">',h+='<option value="0">'+c[e.art_cate_id].title+"</option>",jQuery.each(s,function(t,e){h+='<option value="'+e.id+'">'+e.title+"</option>"}),h+="</select>"):(h='<div class="inkgo-arts">',a="",o={},r="img",null!=c[e.art_cate_id].settings&&(null!=(o=c[e.art_cate_id].settings).display_type&&(r=o.display_type),"color"!=r&&"select"!=r&&(r="img"),null!=o.size&&(o.size<30&&(o.size=60),a="color"==r?'style="height:'+o.size+"px;width:"+o.size+'px;"':'style="height:'+o.size+'px;"',parseInt(1.4*o.size))),"color"==r&&null!=c[e.art_cate_id].arts[0]&&null==c[e.art_cate_id].arts[0].color&&(r="img"),l="",jQuery.each(c[e.art_cate_id].arts,function(t,e){null!=e.color&&""!=e.color&&null!=e.color||(e.color="FFFFFF"),"select"==r?(l+='<option value="'+e.id+'">'+e.title+"</option>",h+='<a href="javascript:void(0);" class="inkgo-art-thum inkgo-hidden" data-id="'+e.id+'" '+a+'><img src="'+e.thumb+'" srcset="'+inkgo.loading_icon+'" alt="'+e.title+'"></a>'):h+="color"==r?'<a href="javascript:void(0);" class="inkgo-art-thum" data-id="'+e.id+'" '+a+'><span class="inkgo-art-color" style="background-color:#'+e.color+'"></span><img src="'+e.thumb+'" srcset="'+inkgo.loading_icon+'" alt="'+e.title+'" style="display:none;"></a>':'<a href="javascript:void(0);" class="inkgo-art-thum" data-id="'+e.id+'" '+a+' style="background-color:#'+e.color+'"><img src="'+e.thumb+'" srcset="'+inkgo.loading_icon+'" data-src="'+e.thumb+'" alt="'+e.title+'"></a>'}),"select"==r&&(h+='<select class="inkgo-select inkgo-art-select">'+l+"</select>"),h+="</div>"),d+='<div class="inkgo-field-option">',d=(d+='<input type="hidden" class="inkgo-custom-field inkgo-custom-option" id="inkgo-custom-'+t+'" name="inkgo_custom['+t+']">')+'<span class="inkgo-label">'+i+"</span>",d+=h,d+="</div>",d+="</div>"}),d},text:function(t){var h="",d="";return jQuery(".inkgo-group-text").remove(),jQuery.each(t,function(t,e){var i;void 0!==e.font_type&&("google"==e.font_type?d=""==d?e.fontFamily:d+"|"+e.fontFamily:(i="https://cdn.inkgo.io/"+e.font_type,jQuery("head").append('<style type="text/css">@font-face{font-family:"'+e.fontFamily+'";src:url("'+i+'") format("truetype");}</style>')),jQuery("body").append('<div class="inkgo-cache-font" style="font-family:\''+e.fontFamily+"';\">abc</div>"));var s="",n="";null!=e.class_name&&""!=e.class_name&&(s="inkgo-has-group-custom",n='data-group="'+e.class_name+'"'),h=h+'<div class="inkgo-field-group '+s+" inkgo-group-"+e.type+" inkgo-custom-view-"+e.view_id+'" '+n+' data-view="'+e.view_id+'" data-id="'+t+'">';var a=e.text;null!=e.personalized_label&&""!=e.personalized_label&&(a=e.personalized_label);var o="";null!=e.max_textlength&&(a=a+' <span class="inkgo-text-leng">(0 | '+e.max_textlength+")</span>",o='maxlength="'+e.max_textlength+'"');var r,l=e.text.split("\n");r=1==l.length?'<input type="text" autocomplete="off" '+o+' class="inkgo-custom-field inkgo-custom-text" id="inkgo-custom-'+t+'" name="inkgo_custom['+t+']" placeholder="'+e.text+'">':(r='<input type="hidden" '+o+' data-line="'+l.length+'" class="inkgo-custom-field inkgo-custom-text" id="inkgo-custom-'+t+'" name="inkgo_custom['+t+']" placeholder="'+e.text+'">')+'<textarea class="inkgo-textarea" data-id="'+t+'" rows="'+l.length+'" placeholder="'+e.text+'"></textarea>',h=(h+='<div class="inkgo-field-text">')+'<span class="inkgo-label">'+a+"</span>",h+=r,h+='<a href="javascript:void(0);" class="inkgo-view-design"><svg viewBox="0 0 488.85 488.85" width="24" height="24"><g fill="#FFFFFF"><path d="M244.425,98.725c-93.4,0-178.1,51.1-240.6,134.1c-5.1,6.8-5.1,16.3,0,23.1c62.5,83.1,147.2,134.2,240.6,134.2   s178.1-51.1,240.6-134.1c5.1-6.8,5.1-16.3,0-23.1C422.525,149.825,337.825,98.725,244.425,98.725z M251.125,347.025   c-62,3.9-113.2-47.2-109.3-109.3c3.2-51.2,44.7-92.7,95.9-95.9c62-3.9,113.2,47.2,109.3,109.3   C343.725,302.225,302.225,343.725,251.125,347.025z M248.025,299.625c-33.4,2.1-61-25.4-58.8-58.8c1.7-27.6,24.1-49.9,51.7-51.7   c33.4-2.1,61,25.4,58.8,58.8C297.925,275.625,275.525,297.925,248.025,299.625z"/></g></svg></a>',h+="</div>",h+="</div>"}),""!=d&&jQuery("head").append("<link rel='stylesheet' id='storefront-fonts-css'  href='https://fonts.googleapis.com/css?family="+d+"' type='text/css' media='all' />"),h},img:function(t){var h="";return jQuery(".inkgo-field-group.inkgo-group-img").remove(),jQuery.each(t,function(t,e){0;var i="",s="";null!=e.class_name&&""!=e.class_name&&(i="inkgo-has-group-custom",s='data-group="'+e.class_name+'"'),h=h+'<div class="inkgo-field-group '+i+'" '+s+' data-view="'+e.view_id+'" data-id="'+t+'">';var n=inkgo_lang.photo_title+" "+e.title;null!=e.personalized_label&&""!=e.personalized_label&&(n=e.personalized_label);var a=e.src,o="";null!=inkgo.design.customize[t]&&null!=inkgo.design.customize[t].src&&(a=inkgo.design.customize[t].src,o='id="inkgo-print-'+e.id+'" class="inkgo-print-file" data-width="'+inkgo.design.customize[t].data.width+'" data-height="'+inkgo.design.customize[t].data.height+'"'),null!=e.thumb_design&&(a=e.thumb_design);var r="";void 0!==e.is_shape&&1==e.is_shape&&1!=e.photo_effect&&(r='data-shape="1"');var l=n,n='<a href="javascript:void(0);" title="'+l+'" '+r+' class="inkgo-edit"><img src="'+inkgo.getSRC(a)+'" '+o+' alt="'+l+'"></a>';h=(h=(h=(h=(h=(h+='<div class="inkgo-field-img">')+'<span class="inkgo-label">'+l+"</span>")+'<span class="inkgo-field-name">'+n+"</span>")+'<input type="hidden" class="inkgo-custom-field" id="inkgo-custom-'+t+'" name="inkgo_custom['+t+']">')+'<input type="file" class="inkgo-custom-img inkgo-custom-img-'+t+'" data-id="'+t+'" accept=".jpg,.png,.jpge" style="display:none;">')+'<a href="javascript:void(0);" class="btn inkgo-hide-mobile inkgo-button-upload">'+inkgo_lang.change+"</a>",h+="</div>",h+="</div>"}),h},templates:function(){var a,o,r,l,h;0<jQuery(".inkgo-group-templates").length||(a=inkgo.data_json.templates,o='<div class="inkgo-group-templates">',o+='<div class="inkgo-field-group">',o+='<span class="inkgo-label">'+a.label+"</span>",o+='<div class="inkgo-templates">',r="image",l="",null!=a.settings&&null!=a.settings.display_type&&(r=a.settings.display_type,null!=a.settings.size&&(l='style="height:'+a.settings.size+'px;"',parseInt(1.5*a.settings.size))),"image"!=r&&"select"!=r&&(r="image"),h="",jQuery.each(a.designs,function(t,e){var i="",s="";null!=inkgo.template_id&&inkgo.template_id==e.design_id&&(i="selected-item",s='selected="selected"');var n="";"select"==r&&(n="inkgo-hidden",h+='<option value="'+e.design_id+'" '+s+">"+e.name+"</option>"),o+='<a href="javascript:void(0);" class="inkgo-template '+n+" "+i+'" data-id="'+e.design_id+'" '+l+' data-product_id="'+e.product_id+'" title="'+e.name+'">',o+='<img src="'+inkgo.getSRC(e.thumb)+'" data-src="'+inkgo.getSRC(e.thumb)+'" srcset="'+inkgo.loading_icon+'" alt="'+e.name+'">',o+="</a>"}),"select"==r&&(o+='<select class="inkgo-select inkgo-select-template"><option value="0">'+a.label+"</option>"+h+"</select>"),o+="</div>",o+="</div>",o+="</div>",jQuery(".inkgo-design-items").append(o),jQuery(".inkgo-select-template").change(function(){var t=jQuery(this).val();jQuery(this).parent().find('a[data-id="'+t+'"]').trigger("click")}),jQuery(".inkgo-template").click(function(t){if(!jQuery(this).hasClass("selected-item")){jQuery(".inkgo-template").removeClass("selected-item"),jQuery(this).addClass("selected-item");var e=jQuery(this).data("id");inkgo.template_id=e,delete inkgo.token_id;for(var i=0;i<a.designs.length;i++){var s=a.designs[i];if(s.design_id==e){void 0!==s.settings&&(inkgo.data_json.settings=jQuery.parseJSON(s.settings));var n=jQuery.parseJSON(s.vectors);jQuery.each(inkgo.data_json.design,function(t,e){inkgo.data_json.design[t]=n}),inkgo.fields.init(inkgo.data_json);break}}}}))},layout:function(){var t,i;null!=inkgo.data_json.settings&&null!=inkgo.data_json.settings.layouts&&(null==(t=inkgo.data_json.settings.layouts).title&&(t.title="Choose a value"),null==t.type&&(t.type="select"),i='<div class="inkgo-group-layouts"><div class="inkgo-field-group"><span class="inkgo-label">'+t.title+"</span>",null==t.type&&(t.type="select"),"select"==t.type?(i+='<select class="inkgo-layout inkgo-select">',i+='<option value="0"> -- '+t.title+" -- </option>",jQuery.each(t.options,function(t,e){i+='<option value="'+t+'">'+e+"</option>"}),i+="</select>"):(i+='<div class="inkgo-layout-group">',jQuery.each(t.options,function(t,e){i+='<span data-id="'+t+'" class="btn-inkgo-layout">'+e+"</span>"}),i+="</div>"),i+="</div></div>",jQuery(".inkgo-design-items").append(i),"select"==t.type?jQuery(".inkgo-layout").change(function(){inkgo.design.layout_id=jQuery(this).val(),inkgo.fields.updateItem()}):jQuery(".btn-inkgo-layout").click(function(t){jQuery(this).hasClass("active")||(jQuery(".btn-inkgo-layout").removeClass("active"),jQuery(this).addClass("active"),inkgo.design.layout_id=jQuery(this).data("id"),inkgo.fields.updateItem())}))},updateItem:function(){inkgo.fields.layers={},inkgo.fields.layers.text={},inkgo.fields.layers.img={},inkgo.fields.layers.option={},inkgo.fields.layers.group={},jQuery.each(inkgo.data.design,function(t,e){0<e.layers.length&&inkgo.fields.getLayers(t,e.layers)}),jQuery(".inkgo-custom-field").parents(".inkgo-field-group").remove(),inkgo.fields.items(),inkgo.fields.addEvents()}},getStore:function(n){var t,i,s,e;void 0===inkgo.token_id&&(t=(new Date).toString().split("GMT")[1].split("(")[0].slice(0,-1),i={},s=0,jQuery.each(n,function(t,e){jQuery.each(e,function(t,e){i[s]=t,s++})}),inkgo.token_id="",e={},-1==inkgo_ajax_url.indexOf("admin-ajax.php")?(e.inkgo_campaign_id=inkgo_campaign_id,e.doamin=inkgo.domain,e.shop_id=inkgo.domain):(e.action="inkgo_token",e.inkgo_campaign_id=inkgo_campaign_id),e.layers=i,e.timezone=t,jQuery.ajax({url:inkgo_ajax_url,type:"POST",dataType:"json",data:e}).done(function(t){var e,i;if(void 0!==(e="string"==typeof t?jQuery.parseJSON(t):t).code&&200==e.code&&(e=e.data),void 0!==e.token&&""==e.token&&0<inkgo_ajax_url.indexOf("admin-ajax.php")){var s=inkgo_ajax_url.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return inkgo.domain=s[1],inkgo_ajax_url="https://api.inkgo.io/shopify/token?doamin="+inkgo.domain,delete inkgo.token_id,inkgo.getStore(n),!1}inkgo.token_id="",null!=e.token&&""!=e.token&&(inkgo.token_id=e.token,null!=e.s3_base_url?inkgo.s3_base_url=e.s3_base_url:null!=e.base_image_url&&(inkgo.s3_base_url=e.base_image_url),null!=e.s3_domain&&(inkgo.s3_domain=e.s3_domain),null!=e.s3_upload_urls?inkgo.s3_upload_urls=e.s3_upload_urls:null!=e.urls&&(inkgo.s3_upload_urls=e.urls),0==jQuery(".inkgo_token_id").length?jQuery('<input type="hidden" name="inkgo_token_id" class="inkgo_token_id" value="'+inkgo.token_id+'">').insertBefore(".inkgo_design_info"):jQuery(".inkgo_token_id").val(inkgo.token_id),void 0!==inkgo.token_time&&""==inkgo.token_time&&null!=inkgo.add_cart_btn?(i=new Date,inkgo.token_time=i.getTime(),inkgo.mobile.loading(0),inkgo.add_cart_btn.trigger("click")):(i=new Date,inkgo.token_time=i.getTime()),setTimeout(function(){delete inkgo.token_id,inkgo.getStore(n)},6e5))}).fail(function(){}).always(function(){}))},addtocart:function(){var t,e;0==jQuery(".inkgo-design").length||null!=(t=jQuery(".inkgo-design").parents("form"))&&(0<t.find("[type='submit']").length?e=t.find("[type='submit']"):0<t.find("[name='add-to-cart']").length&&(e=t.find("[name='add-to-cart']")),null!=e&&0==e.hasClass("inkgo-addcart")&&(this.btn_mask(e),e.addClass("inkgo-addcart"),e.click(function(t){var s=jQuery(this);if(null!=inkgo.token_time&&6e5<(new Date).getTime()-inkgo.token_time)return inkgo.mobile.loading(1),t.preventDefault(),t.stopPropagation(),delete inkgo.token_id,inkgo.token_time="",inkgo.add_cart_btn=s,inkgo.getStore(inkgo.fields.layers),!1;var n=0;inkgo.mobile.loading(1),s.addClass("btn-loading disabled").attr("disabled","disabled"),jQuery(".inkgo-print-file").each(function(){var t,e,i=jQuery(this);0==i.hasClass("inkgo-uploaded")&&(n=1,0==i.hasClass("inkgo-uploading")&&(i.addClass("inkgo-uploading"),t=i.attr("id").replace("inkgo-print-",""),e=null!=i.attr("srcset")?i.attr("srcset"):i.attr("src"),inkgo.upload.ajax(t,e,s)))}),1==n?(t.preventDefault(),t.stopPropagation()):(inkgo.mobile.loading(0),s.removeClass("btn-loading disabled").removeAttr("disabled"))})))},btn_mask:function(s){var t;0==jQuery(".inkgo-addcart-mask").length&&(s.outerWidth(),t=s.outerHeight(),s.css({}),s.wrap('<div class="inkgo-has-mask" style="display:inline-block;"></div>'),jQuery(".inkgo-has-mask").append('<span class="inkgo-addcart-mask"></span>'),s.position(),jQuery(".inkgo-addcart-mask").css({width:"100%","min-height":t+"px",top:"0px",left:"0px",bottom:"0px"}),jQuery(".inkgo-addcart-mask").click(function(t){var e,i=jQuery(".inkgo-addcart");if(null!=jQuery(i).attr("disabled"))return alert(inkgo_lang.required),jQuery(".inkgo-custom-field").each(function(t,e){""==jQuery(this).val().trim()||null==jQuery(this).val()?jQuery(this).parents(".inkgo-field-group").addClass("inkgo-required"):jQuery(this).parents(".inkgo-field-group").removeClass("inkgo-required")}),0<jQuery(".inkgo-field-group.inkgo-required").length&&((e=jQuery(".inkgo-field-group.inkgo-required")[0].getBoundingClientRect()).top<0&&jQuery(window).scrollTop(-1*e.top)),t.preventDefault(),t.stopPropagation(),!1;setTimeout(function(){delete inkgo.token_id,inkgo.cart(),inkgo.getStore(inkgo.fields.layers)},2e3),s.trigger("click")})),jQuery(".inkgo-addcart-mask").show()},cart:function(){var t=jQuery(".inkgo-design").parents("form");t.find("[name='add-to-cart']").addClass("disabled").attr("disabled","disabled"),t.find("[type='submit']").addClass("disabled").attr("disabled","disabled");var i=!0;if(jQuery(".inkgo-custom-field").each(function(t,e){""==jQuery(this).val()&&(i=!1)}),1==i){if(inkgo.mobile.loading(0),void 0!==inkgo.token_id&&""==inkgo.token_id)return inkgo.mobile.loading(1),0==jQuery(".inkgo-print-file").length&&jQuery(".inkgo-custom-field").trigger("change"),setTimeout(function(){inkgo.cart()},100),!1;t.find("[name='add-to-cart']").removeClass("disabled").removeAttr("disabled"),t.find("[type='submit']").removeClass("disabled").removeAttr("disabled")}},upload:{init:function(t,e){var i=e.name.substr(e.name.lastIndexOf(".")+1);"png"==(i=i.toLowerCase())||"jpg"==i||"gif"==i||"jpeg"==i?this.image(t,e):alert(inkgo_lang.upload)},image:function(d,c){inkgo.mobile.loading(1);var u=new FileReader;u.onload=function(t){var e=-1,i=new DataView(t.target.result);65496!=i.getUint16(0,!1)&&(e=-2);for(var r,s=i.byteLength,n=2;n<s;){var a=i.getUint16(n,!1);if(n+=2,65505==a){if(1165519206!=i.getUint32(n+=2,!1)){e=-1;break}var o=18761==i.getUint16(n+=6,!1);n+=i.getUint32(n+4,o);var l=i.getUint16(n,o);n+=2;for(var h=0;h<l;h++)274==i.getUint16(n+12*h,o)&&(e=i.getUint16(n+12*h+8,o));break}if(65280!=(65280&a))break;n+=i.getUint16(n,!1)}r=e,u.onload=function(t){jQuery("#inkgo-custom-"+d).val(""),jQuery(".inkgo-modal-body").attr("style","");var o=new Image;o.onload=function(){var t,e,i=this.width,s=this.height,n=document.createElement("canvas"),a=n.getContext("2d");switch(4<r&&r<9?(n.width=s,n.height=i):(n.width=i,n.height=s),r){case 2:a.transform(-1,0,0,1,i,0);break;case 3:a.transform(-1,0,0,-1,i,s);break;case 4:a.transform(1,0,0,-1,0,s);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,s,0);break;case 7:a.transform(0,-1,-1,0,s,i);break;case 8:a.transform(0,-1,1,0,0,i)}a.drawImage(o,0,0),null==inkgo.design.shapes[d]&&(null!=inkgo.fields.layers.img[d]&&1==inkgo.fields.layers.img[d].photo_effect&&((t=document.createElement("canvas")).width=600,t.height=600*n.height/n.width,t.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,t.width,t.height),e=t.toDataURL("image/jpeg"),jQuery.post("https://bg.inkgo.io/v2/index.php",{domain:window.location.hostname,width:i,body:e},function(t,e,i){var s;10<t.length&&((s=new Image).onload=function(){var t=document.createElement("canvas");t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(s,0,0,s.width,s.height,0,0,t.width,t.height);var e=t.toDataURL();0<jQuery("#inkgo-print-"+d).length?(delete inkgo.design.canvas_layers[d],jQuery("#inkgo-print-"+d).attr("src",e),jQuery("#inkgo-custom-"+d).trigger("change")):jQuery("#img-item-"+d).attr("src",e)},s.src=t)})),inkgo.upload.ajax(d,n.toDataURL(),{})),jQuery(".inkgo-modal-body").html('<img src="'+n.toDataURL()+'" data-width="'+n.width+'" data-height="'+n.height+'" id="img-item-'+d+'" alt=""><div class="mask-bg"><div class="mask-bg-left"></div><div class="mask-bg-right"></div><div class="mask-bg-top"></div><div class="mask-bg-bottom"></div></div> <div class="mask-item"></div>'),inkgo.modal.show(!0),document.getElementById("img-item-"+d).onload=function(){inkgo.upload.edit(d),inkgo.mobile.loading(0)}},o.src=t.target.result,jQuery(".inkgo-custom-img-"+d).val(""),delete inkgo.design.canvas_layers[d]},u.readAsDataURL(c)},u.readAsArrayBuffer(c)},edit:function(t,e){var i=jQuery(".inkgo-modal-body"),s=parseInt(jQuery("#inkgo-modal").height())-72,n=i.find("img"),a=n.width(),o=n.height();0<a&&jQuery(".inkgo-modal-content").css("width",a+"px"),i.height()>s&&(i.css("max-height",s+"px"),n.css("max-height",s+"px"));var r,l,h,d,c,u,p,g=jQuery("#inkgo-custom-"+t).val(),i=jQuery(".inkgo-modal-body");""!=g&&null==e?(c=(h=jQuery.parseJSON(g)).crop.mask_w,d=h.crop.mask_h,p=h.crop.mask_top,u=h.crop.mask_left,0==a&&jQuery(".inkgo-modal-content").css("widthx",h.crop.width+"px")):(r=parseInt(i.width()),l=parseInt(i.height()),c=.8*a,.8*o<(d=(h=inkgo.fields.layers.img[t]).height*c/h.width)&&(d=.8*o,c=h.width*d/h.height),u=(r-c)/2,p=(l-d)/2),jQuery(".mask-item").css({width:c+"px",height:d+"px",left:u+"px",top:p+"px"}),jQuery(".mask-item").draggable({containment:".inkgo-modal-body",start:function(t,e){inkgo.upload.mask()},drag:function(t,e){inkgo.upload.mask()},stop:function(t,e){inkgo.upload.mask()}}).resizable({aspectRatio:!0,containment:".inkgo-modal-body",handles:"ne, se, sw, nw",start:function(t,e){inkgo.upload.mask()},resize:function(t,e){inkgo.upload.mask()},stop:function(t,e){inkgo.upload.mask()}}),setTimeout(function(){inkgo.upload.mask()},50)},mask:function(){var t=jQuery(".mask-item"),e=t.position(),i=jQuery(".inkgo-modal-body");0==i.width()&&(i=i.find("img")),jQuery(".mask-bg-left").css("width",e.left+"px");var s=i.width()-t.width()-e.left;jQuery(".mask-bg-right").css("width",s+"px"),jQuery(".mask-bg-top").css({left:e.left+"px",width:t.width()+"px",height:e.top+"px"});var n=i.height()-t.height()-e.top;jQuery(".mask-bg-bottom").css({left:e.left+"px",width:t.width()+"px",height:n+"px"})},save:function(){var t,e,i,s,n,a,o,r,l,h,d,c,u,p,g=jQuery(".inkgo-modal-body img");0<g.length&&(inkgo.mobile.loading(1),t=g.attr("id").replace("img-item-",""),e=g.attr("src"),(i=jQuery("#inkgo-custom-"+t).parents(".inkgo-field-group")).find(".inkgo-field-name").html('<a href="javascript:void(0);" class="inkgo-edit"><img src="'+e+'" id="inkgo-print-'+t+'" class="inkgo-print-file" data-width="'+g.data("width")+'" data-height="'+g.data("height")+'" alt=""></a>'),s=jQuery(".inkgo-modal-body"),n=jQuery(".mask-item"),(a={}).width=s.width(),a.height=s.height(),a.mask_w=n.width(),a.mask_h=n.height(),a.mask_top=n.position().top,a.mask_left=n.position().left,(o={}).width=g.data("width"),o.height=g.data("height"),o.crop=a,delete inkgo.design.canvas_layers[t],inkgo.design.customize[t]={},inkgo.design.customize[t].data=o,inkgo.design.customize[t].src=e,null!=inkgo.design.shapes[t]&&(i.find("img").parent().attr("data-shape",1),r=o.width/a.width,h=(l=document.createElement("canvas")).getContext("2d"),l.width=o.width,l.height=o.height,d=a.mask_w*r,c=a.mask_h*r,u=a.mask_left*r,p=a.mask_top*r,h.drawImage(inkgo.design.shapes[t],0,0,inkgo.design.shapes[t].width,inkgo.design.shapes[t].height,u,p,d,c),h.globalCompositeOperation="source-in",h.drawImage(g[0],0,0),i.find("img").attr("srcset",l.toDataURL())),jQuery("#inkgo-custom-"+t).val(JSON.stringify(o)).trigger("change"),i.find(".inkgo-edit").click(function(){var t=jQuery(this).parents(".inkgo-field-group"),e=t.find("img");jQuery(".inkgo-modal-body").html('<img src="'+e.attr("src")+'" data-width="'+e.data("width")+'" data-height="'+e.data("height")+'" id="img-item-'+t.data("id")+'" alt=""><div class="mask-bg"><div class="mask-bg-left"></div><div class="mask-bg-right"></div><div class="mask-bg-top"></div><div class="mask-bg-bottom"></div></div> <div class="mask-item"></div>'),inkgo.modal.show(!0),inkgo.upload.edit(t.data("id"))}),inkgo.mobile.loading(0))},ajax:function(t,e,i,s){if(null==inkgo.s3_upload_urls)return!1;var n=inkgo.s3_upload_urls[t],a=dataURItoBlob(e,"image/png");jQuery.ajax({url:n,type:"PUT",processData:!1,contentType:"image/png",data:a}).done(function(){jQuery("#inkgo-print-"+t).addClass("inkgo-uploaded"),null!=i[0]&&i.trigger("click"),null!=s&&s(t)}).fail(function(){}).always(function(){})}},design:{customize:{},shapes:{},custom:{},output:{},canvas_layers:{},canvas_images:{},init:function(t){return 0!=jQuery(".inkgo-design").length&&((0!=this.fields()||null!=inkgo.is_mobile)&&(jQuery(".inkgo-text-cache").remove(),1==inkgo.is_mobile&&inkgo.mobile.reload(),void this.area()))},area:function(){var i=!0;jQuery.each(inkgo.data.design,function(t,e){if(null==inkgo.design.output[t])return inkgo.design.custom["view_"+t]=e.name,inkgo.design.custom[t]={},i=!1,inkgo.design.view(e),!1}),1==i&&(inkgo.mockups.init(),inkgo.design.custom.domain=inkgo.s3_domain,inkgo.design.custom.product_id=inkgo.product_id,void 0!==inkgo.template_id&&(inkgo.design.custom.template_id=inkgo.template_id),jQuery(document).triggerHandler("inkgo_update_json",inkgo.design.custom),jQuery(".inkgo_design_info").val(JSON.stringify(inkgo.design.custom)))},view:function(t,e){if(0==t.layers.length)return inkgo.design.output[t.id]="",null==e?this.area():e(t.id),!1;null==inkgo.design.layout_id&&(inkgo.design.layout_id=0);var D=document.createElement("canvas");D.width=t.width,D.height=t.height;var O=D.getContext("2d");!function h(d,c){if(null==c.layers[d])return inkgo.design.output[c.id]=D,inkgo.design.area(),!1;var u={};jQuery.each(c.layers[d],function(t,e){u[t]=e});d++;var t=0;void 0!==u.layouts&&void 0!==u.layouts[inkgo.design.layout_id]?t=u.layouts[inkgo.design.layout_id]:void 0!==u.hidden&&(t=u.hidden);if(1==t||"group"==u.type)return void h(d,c);if(void 0!==u.layouts&&void 0!==u.layouts[inkgo.design.layout_id]&&1==u.layouts[inkgo.design.layout_id].hidden)return void h(d,c);"auto"==u.left&&(u.left=0);"auto"==u.top&&(u.top=0);var e=jQuery("#inkgo-custom-"+u.id);{var i,s,n;null!=e&&0<e.length&&""!=e.val()&&null!=e.parents(".inkgo-field-group")&&0<e.parents(".inkgo-field-group").length&&e.parents(".inkgo-field-group").find(".inkgo-field-option").length&&null!=u.cliparts_custom&&(i=e.parents(".inkgo-field-group").find("select"),s=0<i.length?i.val():u.art_cate_id,null!=u.cliparts_custom[s]&&(u.width=u.cliparts_custom[s].width,u.height=u.cliparts_custom[s].height,u.top=u.cliparts_custom[s].top,u.left=u.cliparts_custom[s].left),null!=u.cliparts_size&&(n=e.parents(".inkgo-field-group").find(".selected-item").data("id"),null!=u.cliparts_size[n]&&(u.width=u.cliparts_size[n].width,u.height=u.cliparts_size[n].height,u.top=u.cliparts_size[n].top,u.left=u.cliparts_size[n].left)))}void 0!==u.rotate&&"0"!=u.rotate&&(O.save(),O.translate(u.left,u.top),O.translate(u.width/2,u.height/2),O.rotate(u.rotate*Math.PI/180),u.left=u.width/2*-1,u.top=u.height/2*-1);function a(t,e,i){var s,n,a,o,r=document.createElement("canvas"),l=r.getContext("2d");null!=p?(r.width=p.crop.mask_w,r.height=p.crop.mask_h,l.drawImage(t,0,0,e.width,e.height,-1*p.crop.mask_left,-1*p.crop.mask_top,p.crop.width,p.crop.height)):(r.width=e.width,r.height=e.height,l.drawImage(t,0,0)),inkgo.design.canvas_layers[u.id]=r,null!=i&&(inkgo.design.canvas_images[md5(i)]=r),"text"==u.type&&u.width>r.width?(s=0,"right"==u.align?s=u.width-r.width:"center"==u.align&&(s=(u.width-r.width)/2),n=s+parseInt(u.left),O.drawImage(r,0,0,r.width,r.height,n,u.top,r.width,r.height)):1==u.allow_change_art&&u.width/r.height!=r.width/r.height?(a=r.width*u.height/r.height,o=u.left-(a-u.width)/2,O.drawImage(r,0,0,r.width,r.height,o,u.top,a,u.height)):O.drawImage(r,0,0,r.width,r.height,u.left,u.top,u.width,u.height),O.restore(),h(d,c)}null==u.allow_custom&&(u.allow_custom=0);if("img"==u.type||"text"==u.type&&0==u.allow_custom||"text"==u.type&&1==u.allow_custom&&""==jQuery("#inkgo-custom-"+u.id).val()&&null!=u.thumb_design){null!=u.thumb_design?u.src=u.thumb_design:-1!=u.src.indexOf("/"+u.id+".png")&&null==u.thumb_design&&(u.src=u.src.replace("/"+u.id+".png","/"+md5("inkgo-design-"+u.id)+".png"));var o,p,r,l,g,f,m,v="",e=jQuery("#inkgo-custom-"+u.id);null!=e&&0<e.length&&""!=e.val()&&(o=e.val(),null==inkgo.design.custom[c.id]&&(inkgo.design.custom[c.id]={}),inkgo.design.custom[c.id][u.id]=jQuery.parseJSON(o),f=null!=e.parents(".inkgo-field-group").find("img").attr("srcset")?e.parents(".inkgo-field-group").find("img").attr("srcset"):e.parents(".inkgo-field-group").find("img").attr("src"),null!=e.parents(".inkgo-field-group")&&0<e.parents(".inkgo-field-group").length&&e.parents(".inkgo-field-group").find(".inkgo-field-option").length&&(f=null!=inkgo.design.custom[c.id][u.id].preview?inkgo.design.custom[c.id][u.id].preview:inkgo.design.custom[c.id][u.id].design),null!=f&&(v=f),null!=inkgo.design.custom[c.id][u.id].crop&&(p=inkgo.design.custom[c.id][u.id])),null!=inkgo.design.canvas_layers[u.id]?(m=inkgo.design.canvas_layers[u.id],1==u.allow_change_art&&u.width/u.height!=m.width/m.height?(r=m.width*u.height/m.height,l=u.left-(r-u.width)/2,O.drawImage(m,0,0,m.width,m.height,l,u.top,r,u.height)):"text"==u.type&&u.width>inkgo.design.canvas_layers[u.id].width?(g=0,"right"==u.align?g=u.width-m.width:"center"==u.align&&(g=(u.width-m.width)/2),P=g+parseInt(u.left),O.drawImage(m,0,0,m.width,m.height,P,u.top,m.width,m.height)):O.drawImage(m,0,0,m.width,m.height,u.left,u.top,u.width,u.height),O.restore(),h(d,c)):((f="")!=v?f=inkgo.getSRC(v):null!=u.thumb_design?f=inkgo.getSRC(u.thumb_design):null!=u.src&&(f=inkgo.getSRC(u.src)),""==f?h(d,c):((m=new Image).onerror=function(){var t=new Image;t.onerror=function(){h(d,c)},t.onload=function(){a(t,this,inkgo.getIMGCache(m.src))},t.crossOrigin="",t.src=inkgo.getIMGCache(m.src)},m.onload=function(){a(m,this,f)},m.crossOrigin="",m.src=f))}else{var y=jQuery("#inkgo-custom-"+u.id).val();if(0==jQuery("#inkgo-custom-"+u.id).length)return void h(d,c);y=y.trim();var b=jQuery("#inkgo-custom-"+u.id).data("line");null==b&&(b=1),void 0!==b&&1<b&&(u.height=u.height/b),jQuery("#inkgo-text-cache-"+u.id).remove(),jQuery("body").append('<div class="inkgo-text-cache" id="inkgo-text-cache-'+u.id+'"><span style="font-size:100px;font-family:\''+u.fontFamily+"';\">"+y+"</span></div>");var w=jQuery("#inkgo-text-cache-"+u.id).find("span")[0].getBoundingClientRect();inkgo.design.custom[c.id][u.id]={},inkgo.design.custom[c.id][u.id].text=y,inkgo.design.custom[c.id][u.id].width=u.width,inkgo.design.custom[c.id][u.id].height=u.height,inkgo.design.custom[c.id][u.id].left=u.left,inkgo.design.custom[c.id][u.id].top=u.top;var k,x,_=parseInt(100*u.height/w.height);O.textBaseline="middle",O.textAlign="left",null!=u.pattern_id?(k=inkgo.design.canvas_layers[md5(u.pattern_id)],x=O.createPattern(k,"repeat"),O.fillStyle=x):O.fillStyle=u.color,O.font=_+"px "+u.fontFamily;var C=O.measureText(y),E=1;C.width>u.width&&1==b&&(E=u.width/C.width),O.scale(E,E);var P=u.left;"center"==u.align&&(P=(u.width-C.width)/2+parseFloat(u.left)),"right"==u.align&&(P=u.width-C.width+parseFloat(u.left)),1!=E&&(P=u.left);var T=parseFloat(u.top)+u.height/2;if(1<b&&C.width>u.width){for(var S="",M=y.replace("\\n"," ").split(" "),j="",z=T,I=0;I<M.length;I++){var Q=j+M[I]+" ",L=O.measureText(Q);L.width>u.width&&0<I?(P=u.left,"center"==u.align&&(P=(u.width-L.width)/2+parseFloat(u.left)),"right"==u.align&&(P=u.width-L.width+parseFloat(u.left)),O.fillText(j,P,z),S=""!=S?S+"\n"+j:j,j=M[I]+" ",z+=u.height):j=Q}var L=O.measureText(j),P=u.left;"center"==u.align&&(P=(u.width-L.width)/2+parseFloat(u.left)),"right"==u.align&&(P=u.width-L.width+parseFloat(u.left)),O.fillText(j,P,z),S=""!=S?S+"\n"+j:j,inkgo.design.custom[c.id][u.id].text=S}else O.fillText(y,P/E,T/E);O.resetTransform(),O.restore(),h(d,c)}}(0,t)},uploadJson:function(){var t,s,e={};0<jQuery(".inkgo-template.selected-item").length&&(t=jQuery(".inkgo-template.selected-item").data("id"),e.t=t),0<jQuery("select.inkgo-art").length&&(s={},a=0,jQuery("select.inkgo-art").each(function(t,e){var i;""!=jQuery(this).val()&&"0"!=jQuery(this).val()&&(i=jQuery(this).data("id"),s[i]=jQuery(this).val(),a=1)}),a&&(e.c=s));var n={},a=0;jQuery(".inkgo-custom-field").each(function(){var t,e,i=jQuery(this).val();""!=(i=i.trim())&&(t=jQuery(this).attr("id").replace("inkgo-custom-",""),n[t]={},jQuery(this).hasClass("inkgo-custom-option")?(e=JSON.parse(i).id,n[t].t="c",n[t].v=e,a=1):jQuery(this).hasClass("inkgo-custom-text")&&(n[t].t="t",n[t].v=i,a=1))}),a&&(e.f=n);var i=inkgo_base64.encode(JSON.stringify(e));30<i.length&&inkgo_setCookie("inkgo_designs",i,30)},update:function(t){var e,i=jQuery(t).parents(".inkgo-field-group").data("view");null!=typeof inkgo.design.output[i]&&delete inkgo.design.output[i],jQuery(".inkgo-text-cache").remove(),jQuery(t).hasClass("inkgo-custom-text")&&(e=jQuery(t).attr("id").replace("inkgo-custom-",""),inkgo.design.customize[e]={},inkgo.design.customize[e].text=jQuery(t).val()),this.area()},fields:function(){var t=!1;return jQuery(".inkgo-custom-field").each(function(){if(""!=jQuery(this).val())return!(t=!0)}),t}},mockups:{output:{},canvas_layers:{},init:function(){this.output={},this.load()},load:function(){var i=!0,s=0;jQuery.each(inkgo.data.mockups[inkgo.product_id],function(t,e){null!=e.variant_id&&e.variant_id==inkgoWoo.variation.sku&&(s=inkgoWoo.variation.sku)}),jQuery.each(inkgo.data.mockups[inkgo.product_id],function(t,e){if((null==e.variant_id&&(e.variant_id=0),null==inkgo.mockups.output[t]&&e.variant_id==s)&&inkgo.mockups.check_custom(e))return i=!1,inkgo.mockups.items(inkgo.product_id,t,e),!1}),1==i&&inkgo.cart()},check_custom:function(t){var i=!1;return null!=t.layers&&(jQuery.each(t.layers,function(t,e){"area"==e.type&&null!=e.area_id&&0<jQuery('.inkgo-field-group[data-view="'+e.area_id+'"]').length&&(i=!0)}),i)},items:function(p,g,t){var f=document.createElement("canvas");f.width=t.width,f.height=t.height;var m=f.getContext("2d"),v="front";t.layers.sort(function(t,e){return t.zIndex-e.zIndex}),function o(r,l){if(null==l.layers[r])return inkgo.mockups.output[g]=f,inkgo.mockups.updateIMG(g,f,v),1==inkgo.is_mobile&&inkgo.mobile.mockup(f,g,v),inkgo.mockups.load(),!1;var h=l.layers[r];r++;void 0!==h.rotate&&"0"!=h.rotate&&(m.save(),m.translate(h.left,h.top),m.translate(h.width/2,h.height/2),m.rotate(h.rotate*Math.PI/180),h.left=h.width/2*-1,h.top=h.height/2*-1);{var d;null!=h.change_bg&&1==h.change_bg&&(d="#FFFFFF",null!=inkgo.data.products[p]&&null!=inkgo.data.products[p].color&&""!=inkgo.data.products[p].color&&(d=inkgo.data.products[p].color))}{function e(t,e){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var s=i.getContext("2d");s.drawImage(t,0,0),inkgo.mockups.canvas_layers[h.id]=i;var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var a=n.getContext("2d");null!=d&&(a.fillStyle=d,a.fillRect(0,0,n.width,n.height)),a.drawImage(t,0,0),void 0!==h.opacity&&1!=h.opacity&&(m.save(),m.globalAlpha=h.opacity),m.drawImage(n,0,0,e.width,e.height,h.left,h.top,h.width,h.height),m.restore(),o(r,l)}var t,i,s,n,a,c,u;"img"==h.type?null!=inkgo.mockups.canvas_layers[h.id]?(i=inkgo.mockups.canvas_layers[h.id],(s=document.createElement("canvas")).width=i.width,s.height=i.height,t=s.getContext("2d"),null!=d&&(t.fillStyle=d,t.fillRect(0,0,s.width,s.height)),t.drawImage(i,0,0),void 0!==h.opacity&&1!=h.opacity&&(m.save(),m.globalAlpha=h.opacity),m.drawImage(s,0,0,i.width,i.height,h.left,h.top,h.width,h.height),m.restore(),o(r,l)):((i=new Image).onload=function(){e(i,this)},i.crossOrigin="",i.src=inkgo.getSRC(h.src),i.onerror=function(){var t=new Image;t.onerror=function(){o(r,l)},t.onload=function(){e(t,this)},t.crossOrigin="",t.src=inkgo.getIMGCache(i.src)}):("area"==h.type&&null!=h.area_id&&null!=inkgo.design.output[h.area_id]&&(v=h.area_id,"string"!=typeof(s=inkgo.design.output[h.area_id])&&((n=document.createElement("canvas")).width=h.width,n.height=h.height,a=n.getContext("2d"),null!=d?(a.fillStyle=d,a.fillRect(0,0,h.width,h.height)):null==h.points||0!=(c=inkgo.mockups.cropBg(l.layers,r,l))&&a.drawImage(c,0,0),null!=h.mask_img&&null!=inkgo.mockups.canvas_layers[md5(h.mask_img)]&&(u=inkgo.mockups.canvas_layers[md5(h.mask_img)],a.drawImage(u,0,0,u.width,u.height,0,0,n.width,n.height),a.globalCompositeOperation="source-in"),a.drawImage(s,0,0,s.width,s.height,0,0,h.width,h.height),null!=h.points&&new Perspective(a,n).draw(inkgo.points(h.points)),m.drawImage(n,h.left,h.top),m.restore())),o(r,l))}}(0,t)},cropBg:function(t,e,i){var s=document.createElement("canvas");s.width=i.width,s.height=i.height;var n=s.getContext("2d");if(e<2)return!1;for(var a=0;a<e-1;a++)null!=t[a]&&"img"==t[a].type&&null!=inkgo.mockups.canvas_layers[t[a].id]&&n.drawImage(inkgo.mockups.canvas_layers[t[a].id],t[a].left,t[a].top);var o=t[e-1],r=o.points,l=document.createElement("canvas");l.width=o.width,l.height=o.height,l.getContext("2d").drawImage(s,o.left,o.top,o.width,o.height,0,0,o.width,o.height);var h=document.createElement("canvas");h.width=o.width,h.height=o.height;var d=h.getContext("2d");d.save(),d.clearRect(0,0,h.width,h.height),d.beginPath(),d.moveTo(r[0][0],r[0][1]);for(e=1;e<r.length;e++){r[e];d.lineTo(r[e][0],r[e][1])}d.closePath(),d.clip(),d.drawImage(l,0,0),d.restore();var c=document.createElement("canvas");c.width=h.width,c.height=h.height;var u=c.getContext("2d");u.drawImage(l,0,0),u.drawImage(h,0,0);var p=[];return p[0]=[-1*r[0][0],-1*r[0][1]],p[1]=[2*h.width-r[1][0],-1*r[1][1]],p[2]=[2*h.width-r[2][0],2*h.height-r[2][1]],p[3]=[-1*r[3][0],2*h.height-r[3][1]],new Perspective(u,c).draw(p),c},updateIMG:function(t,a,e){jQuery("#inkgo-thumb-"+e).val(a.toDataURL("image/jpeg",.3));var i=a.toDataURL();1==inkgo.is_mobile&&inkgo.mobile.cart.thumb(t,i),jQuery("img.inkgo-mockup-"+t).each(function(t,e){var i,s,n=jQuery(this).parent();0==n.find("canvas").length?((i=document.createElement("canvas")).width=a.width,i.height=a.height,(s=i.getContext("2d")).drawImage(a,0,0),n.append(a).addClass("inkgo-hide-img inkgo-has-canvas")):((s=(i=n.find("canvas")[0]).getContext("2d")).clearRect(0,0,i.width,i.height),s.drawImage(a,0,0)),0==n.find("canvas").length&&n.removeClass("inkgo-hide-img inkgo-has-canvas"),n.find("img").each(function(t,e){var i=jQuery(this).attr("src"),s=jQuery(this).parent().find("canvas"),n=jQuery('.flex-control-thumbs img[src="'+i+'"]');null!=s[0]&&0<n.length&&(n.attr("srcset",s[0].toDataURL("jpg")),n.parent().removeClass("inkgo-hide-img inkgo-has-canvas"),n.parent().find("canvas").hide())})}),jQuery(".woocommerce-product-gallery__wrapper").removeClass("inkgo-hide-img inkgo-has-canvas")}},import:{time:{},init:function(){var t="",e=inkgo_getCookie("inkgo_designs");null!=e&&10<e.length&&(t=inkgo_base64.decode(e)),""!=t&&this.load(t)},load:function(t){var e=JSON.parse(t);null!=e.t?(this.template(e.t),setTimeout(function(){inkgo.import.update(e)},200)):this.update(e)},template:function(t){jQuery('.inkgo-templates .inkgo-template[data-id="'+t+'"]').trigger("click")},update:function(t){null!=t.l&&jQuery('.btn-inkgo-layout[data-id="'+t.l+'"]').trigger("click"),null!=t.c&&jQuery.each(t.c,function(t,e){jQuery('.inkgo-art[data-id="'+t+'"]').val(e).trigger("change")}),null!=t.f&&setTimeout(function(){var r=0;jQuery.each(t.f,function(t,s){var e,i,n,a,o;"t"==s.t?(r=1,jQuery("#inkgo-custom-"+t).val(s.v),jQuery("#inkgo-custom-"+t).parent().find("textarea").val(s.v),null!=jQuery("#inkgo-custom-"+t).attr("maxlength")&&(e=jQuery("#inkgo-custom-"+t).attr("maxlength"),i=jQuery("#inkgo-custom-"+t).val().length,jQuery("#inkgo-custom-"+t).parent().find(".inkgo-text-leng").html(" ("+i+" | "+e+")"))):"c"==s.t&&(0<(n=jQuery("#inkgo-custom-"+t).parent()).find(".inkgo-arts select").length?n.find(".inkgo-arts select").val(s.v).trigger("change"):0<n.find('a.inkgo-art-thum[data-id="'+s.v+'"]').length?n.find('a.inkgo-art-thum[data-id="'+s.v+'"]').trigger("click"):0<(a=n.find("select.inkgo-art")).length&&(o=a.data("id"),null!=inkgo.data_json.arts[o]&&null!=inkgo.data_json.arts[o].child&&jQuery.each(inkgo.data_json.arts[o].child,function(t,e){for(var i=0;i<e.arts.length;i++)if(e.arts[i].id==s.v){a.val(t).trigger("change"),setTimeout(function(){n.find('a.inkgo-art-thum[data-id="'+s.v+'"]').trigger("click")},50);break}})))}),r&&jQuery(jQuery(".inkgo-custom-text")[0]).trigger("change")},200),inkgo_imported=1}},modal:{init:function(){var t;0<jQuery("#inkgo-modal").length||(t='<div id="inkgo-modal" class="inkgo-modal-wapper"><div class="inkgo-modal-bg"></div><div class="inkgo-modal-close"><svg viewBox="0 0 47.971 47.971"><path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88   c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242   C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879   s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"/></svg></div><div class="inkgo-modal-content"><div class="inkgo-modal-body"></div><div class="inkgo-modal-footer"><a href="javascript:void(0);" class="inkgo-confirm">'+inkgo_lang.save+'</a> <a href="javascript:void(0);" class="inkgo-change inkgo-show-mobile inkgo-hide-desktop">'+inkgo_lang.change+'</a><a href="javascript:void(0);" class="inkgo-rotate">'+inkgo_lang.rotate+"</a></div></div></div>",jQuery("body").append(t),jQuery(".inkgo-confirm").click(function(t){inkgo.modal.show(0),inkgo.mobile.loading(1),setTimeout(function(){inkgo.upload.save()},100)}),jQuery(".inkgo-change").click(function(t){var e,i=jQuery(".inkgo-modal-body img");0<i.length&&(e=i.attr("id").replace("img-item-",""),jQuery(".inkgo-custom-img-"+e).parents(".inkgo-field-img").find(".inkgo-button-upload").trigger("click"))}),jQuery(".inkgo-rotate").click(function(t){var e=jQuery(".inkgo-modal-body img").attr("src"),n=new Image;jQuery(this).addClass("loading..."),n.onload=function(){var t=document.createElement("canvas");t.width=n.height,t.height=n.width;var e=t.getContext("2d");e.save(),e.translate(t.width/2,t.height/2),e.rotate(90*Math.PI/180);var i=n.width/2*-1,s=n.height/2*-1;e.drawImage(n,i,s),e.restore(),jQuery(".inkgo-modal-body img").attr({src:t.toDataURL(),"data-width":t.width,"data-height":t.height}),setTimeout(function(){var t=jQuery(".inkgo-modal-body img").attr("id").replace("img-item-","");inkgo.upload.edit(t,!0),jQuery("#inkgo-print-"+t).removeClass("inkgo-uploaded")},100),jQuery(".inkgo-rotate").removeClass("loading...")},n.src=e}))},show:function(t){1==t?(jQuery("html").addClass("inkgo-overflow-hidden"),jQuery("body").addClass("inkgo-modal-show"),jQuery("#inkgo-modal").css("visibility","initial")):(jQuery("html").removeClass("inkgo-overflow-hidden"),jQuery("body").removeClass("inkgo-modal-show"),jQuery("#inkgo-modal").css("visibility","hidden"))}},getDesign:function(e,i){inkgo.getData("design/"+e,i),setTimeout(function(){var t;null==inkgo.data_json&&(t=(new Date).getTime(),jQuery.getJSON("https://design.inkgo.io/"+e+".json?x-request="+t,function(t){null!=t.design&&i(t)}))},700)},getData:function(t,e){var i=(new Date).getTime();jQuery.getJSON(INKGO_JSON_URL+t+".json?x-request="+i,function(t){null!=t.data&&null==inkgo.data_json&&e(t.data)})},getData1:function(i,s){var n=(new Date).getTime();jQuery.getJSON(INKGO_JSON_URL+i+".json?x-request="+n,function(t){var e;null!=t.data&&(null==t.data.design?(e=i.replace("design/",""),jQuery.getJSON("https://design.inkgo.io/"+e+".json?x-request="+n,function(t){null!=t.design&&s(t)})):s(t.data))})},getIMGJPG:function(t,e){return null==t?"":0==t.indexOf("data:image")?t:((i=0==t.indexOf("http")?t:"https://cdn.inkgo.io/"+t).indexOf("cdn.inkgo.io"),i);var i},getSRC:function(t){return null==t?"":0==t.indexOf("data:image")?t:(-1==(e=0==t.indexOf("http")?t:"https://cdn.inkgo.io/"+t).indexOf("cdn.inkgo.io")&&-1==e.indexOf("image.inkgo.io")&&(e=inkgo.getIMGCache(e)),e);var e},getIMGCache:function(t){if(null==t)return"";if(0==t.indexOf("data:image"))return t;var e=t.replace("https://wwww.","");return e="https://image.inkgo.io/inkgo_cdn/"+(e=(e=(e=e.replace("http://wwww.","")).replace("https://","")).replace("http://",""))},points:function(t){var e=[];for(i=0;i<4;i++)e[i]=[],e[i][0]=parseInt(t[i][0]),e[i][1]=parseInt(t[i][1]);return e},layout:{init:function(){jQuery(".inkgo-custom-mobile").click(function(t){inkgo.mobile.init()})}}};function inkgo_load_pattern(e){var i=new Image;i.onload=function(){var t=document.createElement("canvas");t.width=200,t.height=200*this.height/this.width,t.getContext("2d").drawImage(i,0,0,i.width,i.height,0,0,t.width,t.height),inkgo.design.canvas_layers[md5(e.pattern_id)]=t},i.crossOrigin="",i.src=e.pattern_id}function inkgo_show_label(){var n=jQuery(window).height();if(jQuery(".inkgo-design-items img").each(function(t,e){var i,s=this.getBoundingClientRect();0<s.top&&s.top<n&&null!=jQuery(this).attr("data-src")&&(i=jQuery(this).attr("data-src"),jQuery(this).attr("srcset",i),jQuery(this).removeAttr("data-src"))}),"undefined"!=typeof inkgo_disable_label_fixed&&1==inkgo_disable_label_fixed)return!1;var t,e,i=jQuery(window);500<i.width()||null!=(t=jQuery(".inkgo-design-items"))[0]&&((e=t[0].getBoundingClientRect()).top>i.height()||e.top<0&&-1*e.top>e.height?jQuery(".inkgo-label-design").show():jQuery(".inkgo-label-design").hide())}function inkgo_preview(t){1==jQuery(".inkgo-variarion-thumb").length?jQuery(".inkgo-variarion-thumb a").trigger("click"):jQuery(".inkgo-variarion-thumb.flex-active-slide a").trigger("click")}function dataURItoBlob(t,e){for(var i=atob(t.split(",")[1]),s=(t.split(",")[0].split(":")[1].split(";")[0],new ArrayBuffer(i.length)),n=new Uint8Array(s),a=0;a<i.length;a++)n[a]=i.charCodeAt(a);return new Blob([s],{type:e})}function inkgo_layout(){"undefined"!=typeof inkgo_woo_id&&0!=inkgo_campaign_custom&&(null==inkgo_dis_mobile&&(inkgo_dis_mobile=0),jQuery("body").removeClass("inkgo-mobile"),jQuery(document).width()<780&&0==inkgo_dis_mobile&&(inkgo.is_mobile=!0,jQuery("body").addClass("inkgo-mobile")))}function inkgo_getCookie(t){for(var e=t+"=",i=document.cookie.split(";"),s=0;s<i.length;s++){for(var n=i[s];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}function inkgo_setCookie(t,e,i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3);var n="expires="+s.toUTCString();document.cookie=t+"="+e+"; "+n+"; path=/"}inkgo.mobile={showing:0,init:function(){this.show(),0==jQuery(".inkgo-editor-main canvas").length&&(this.loading(1),inkgo.design.init(!0))},reload:function(){jQuery(".inkgo-cart-main").html(""),jQuery(".inkgo-editor-main").html(""),jQuery(".inkgo-editor-footer").html(""),this.thumb()},thumb:function(t){this.wapper(),jQuery.each(inkgo.data.mockups[inkgo.product_id],function(t,e){0==jQuery("#inkgo-view-"+t).length&&(first=1,jQuery(".inkgo-editor-footer").append('<a href="javascript:void(0);" data-id="'+t+'" id="inkgo-view-'+t+'" class="inkgo-view">'+e.title+"</a>"),jQuery("#inkgo-view-"+t).click(function(t){var e;jQuery(this).hasClass("active")||(e=jQuery(this).data("id"),jQuery(".inkgo-editor-footer a").removeClass("active"),jQuery(this).addClass("active"),jQuery(".inkgo-editor-main canvas").removeClass("active"),jQuery("canvas#inkgo-canvas-"+e).addClass("active"))}))}),1<jQuery(".inkgo-editor-footer a").length?(jQuery(".inkgo-editor-footer").show(),inkgo.mobile.control()):jQuery(".inkgo-editor-footer").hide(),0==jQuery("a.inkgo-view.active").length&&(jQuery(jQuery("a.inkgo-view")[0]).addClass("active"),jQuery(jQuery(".inkgo-editor-main canvas")[0]).addClass("active"))},control:function(){0<jQuery(".inkgo-editor-control").length||(jQuery(".inkgo-editor-body").append('<a href="javascript:void(0);" class="inkgo-editor-control inkgo-editor-control-next"><svg viewBox="0 0 129 129"><g><path d="m40.4,121.3c-0.8,0.8-1.8,1.2-2.9,1.2s-2.1-0.4-2.9-1.2c-1.6-1.6-1.6-4.2 0-5.8l51-51-51-51c-1.6-1.6-1.6-4.2 0-5.8 1.6-1.6 4.2-1.6 5.8,0l53.9,53.9c1.6,1.6 1.6,4.2 0,5.8l-53.9,53.9z"/></g></svg></a>'),jQuery(".inkgo-cart-body").append('<a href="javascript:void(0);" class="inkgo-cart-control inkgo-cart-control-next"><svg viewBox="0 0 129 129"><g><path d="m40.4,121.3c-0.8,0.8-1.8,1.2-2.9,1.2s-2.1-0.4-2.9-1.2c-1.6-1.6-1.6-4.2 0-5.8l51-51-51-51c-1.6-1.6-1.6-4.2 0-5.8 1.6-1.6 4.2-1.6 5.8,0l53.9,53.9c1.6,1.6 1.6,4.2 0,5.8l-53.9,53.9z"/></g></svg></a>'),jQuery(".inkgo-editor-body").append('<a href="javascript:void(0);" class="inkgo-editor-control inkgo-editor-control-back"><svg viewBox="0 0 129 129"><g><path d="m88.6,121.3c0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2c1.6-1.6 1.6-4.2 0-5.8l-51-51 51-51c1.6-1.6 1.6-4.2 0-5.8s-4.2-1.6-5.8,0l-54,53.9c-1.6,1.6-1.6,4.2 0,5.8l54,53.9z"/></g></svg></a>'),jQuery(".inkgo-cart-body").append('<a href="javascript:void(0);" class="inkgo-cart-control inkgo-cart-control-back"><svg viewBox="0 0 129 129"><g><path d="m88.6,121.3c0.8,0.8 1.8,1.2 2.9,1.2s2.1-0.4 2.9-1.2c1.6-1.6 1.6-4.2 0-5.8l-51-51 51-51c1.6-1.6 1.6-4.2 0-5.8s-4.2-1.6-5.8,0l-54,53.9c-1.6,1.6-1.6,4.2 0,5.8l54,53.9z"/></g></svg></a>'))},items:function(h,d,t){var e,a;null!=inkgo.data.mockups[inkgo.product_id]&&(null==inkgo.data.mockups[inkgo.product_id][t]||null!=(e=inkgo.data.mockups[inkgo.product_id][t]).layers&&(a=jQuery("canvas#inkgo-canvas-"+t).width()/e.width,jQuery.each(e.layers,function(t,e){if("area"==e.type&&""!=e.area_id){var o=e.left*a,i=o+e.width*a,r=e.top*a,s=r+e.height*a;if(o<=h&&h<=i&&r<=d&&d<=s){if(0<jQuery('.inkgo-field-group[data-view="'+e.area_id+'"]').length){if(null==inkgo.data.design[e.area_id])return!1;var n=inkgo.data.design[e.area_id],l=e.width*a/n.width;jQuery.each(n.layers,function(t,e){if(void 0!==e.allow_custom&&1==e.allow_custom){var i=o+e.left*l,s=i+e.width*l,n=r+e.top*l,a=n+e.height*l;if(i<=h&&h<=s&&n<=d&&d<=a)return inkgo.mobile.edit(e),!1}})}return!1}}})))},edit:function(i){var t,e;"img"==i.type?jQuery("#inkgo-custom-"+i.id).parents(".inkgo-field-img").find("a.inkgo-edit").trigger("click"):(""==(t=jQuery("#inkgo-custom-"+i.id).val())&&(t=i.text),jQuery(".inkgo-editor-text").remove(),jQuery(".inkgo-editor-mobile").append('<div class="inkgo-editor-text" style="left: 600px;"><textarea rows="3" class="inkgo-text-edit">'+t+'</textarea><div class="inkgo-editor-text-footer"><button type="button" class="inkgo-btn inkgo-cancel">Cancel</button> <button type="button" class="inkgo-btn inkgo-btn-done inkgo-update">Update</button></div></div>'),jQuery(".inkgo-editor-text").animate({left:"0px"},500),jQuery(".inkgo-update").click(function(t){var e=jQuery(".inkgo-text-edit").val();""!=e&&(jQuery(".inkgo-editor-text").animate({left:"600px"},500,function(){jQuery(".inkgo-editor-text").remove(),jQuery("#inkgo-custom-"+i.id).val(e).trigger("change")}),jQuery(".inkgo-editor-mobile").removeClass("inkgo-editor-texts"))}),jQuery(".inkgo-cancel").click(function(t){jQuery(".inkgo-editor-text").animate({left:"600px"},500,function(){jQuery(".inkgo-editor-text").remove()}),jQuery(".inkgo-editor-mobile").removeClass("inkgo-editor-texts")}),jQuery(".inkgo-editor-mobile").addClass("inkgo-editor-texts"),(e=jQuery(".inkgo-text-edit")).focus(),e[0].setSelectionRange(0,e[0].value.length))},mockup:function(t,e,i){var s;0<jQuery("#inkgo-canvas-"+e).length?s=document.getElementById("inkgo-canvas-"+e):((s=document.createElement("canvas")).id="inkgo-canvas-"+e,s.className="swiper-slide",s.width=t.width,s.height=t.height,s.addEventListener("click",function(t){inkgo.mobile.select(t,e)},!1),jQuery(".inkgo-editor-main").append(s));var n,a,o=s.getContext("2d");o.clearRect(0,0,s.width,s.height),o.drawImage(t,0,0),jQuery(".inkgo-editor-main").width()<100&&(n=jQuery(".inkgo-editor-main canvas").length,a=parseInt(jQuery(window).width())*n,jQuery(".inkgo-editor-main").css("width",a+"px")),jQuery(".inkgo-editor-main canvas").length<2?(jQuery(".inkgo-editor-control").hide(),jQuery(".inkgo-editor-footer").hide()):(jQuery(".inkgo-editor-control").show(),jQuery(".inkgo-editor-footer").show()),inkgo.mobile.loading(0)},select:function(t,e){var i=t.x,s=t.y,n=document.getElementById("inkgo-canvas-"+e).getBoundingClientRect();i-=n.x,s-=n.y,inkgo.mobile.items(i,s,e)},show:function(){jQuery("html").addClass("inkgo-editor-modal"),jQuery(".inkgo-design").show();var t=jQuery(".inkgo-design.inkgo-hide-mobile").height();jQuery(".inkgo-editor-mobile").css("bottom",t+"px").show("slow",function(){var t=jQuery(".inkgo-editor-main canvas").length,e=parseInt(jQuery(window).width())*t;jQuery(".inkgo-editor-main").css("width",e+"px");new Swiper(".product-single__photos",{wrapperClass:"inkgo-editor-main",slidesPerView:1,pagination:{el:".inkgo-editor-footer",clickable:!0},navigation:{nextEl:".inkgo-editor-control-next",prevEl:".inkgo-editor-control-back"}})}).addClass("inkgo-working")},wapper:function(){var t;0<jQuery(".inkgo-editor-mobile").length||(null==inkgo_lang.mobile_help&&(inkgo_lang.mobile_help=""),t='<div class="inkgo-editor-mobile" style="display:none;">',t+='<div class="inkgo-editor-body"><div class="inkgo-editor-main">Loading...</div></div>',t=(t+='<div class="inkgo-editor-head">')+'<h3 class="inkgo-editor-title">'+inkgo_lang.mobile_help+"</h4>",t+='<button class="inkgo-btn inkgo-btn-done">Done</button>',t+="</div>",t+='<div class="inkgo-editor-footer"></div>',t+="</div>",jQuery("body").append(t),jQuery(".inkgo-btn-done").click(function(t){jQuery(".inkgo-editor-mobile").show(),inkgo.mobile.cart.show(),jQuery(".inkgo-editor-mobile").removeClass("inkgo-working")}),this.cart.init(),this.loadMockupIMG())},loadMockupIMG:function(){function s(t,e,i){var s=document.createElement("canvas");s.width=e.width,s.height=e.height,s.getContext("2d").drawImage(t,0,0),inkgo.mockups.canvas_layers[i]=s}jQuery.each(inkgo.data.mockups,function(t,e){jQuery.each(e,function(t,e){jQuery.each(e.layers,function(t,e){var i;"img"==e.type&&null!=e.src&&((i=new Image).onerror=function(){var t=new Image;t.onload=function(){s(t,this,e.id)},t.crossOrigin="",t.src=inkgo.getIMGCache(i.src)},i.onload=function(){s(i,this,e.id)},i.crossOrigin="",i.src=inkgo.getSRC(e.src))})})})},cart:{init:function(){var t,e=jQuery(".inkgo-design").parents("form");0<e.find(".inkgo-cart-designs").length||(t='<div class="inkgo-cart-designs">',t+='<button class="inkgo-btn inkgo-btn-edit" type="button">Edit</button>',t+='<button class="inkgo-btn inkgo-btn-close" type="button">X</button>',t+='<div class="inkgo-cart-body"><div class="inkgo-cart-main"></div></div>',t+='<div class="inkgo-cart-footer"></div>',t+="</div>",e.prepend(t),e.addClass("inkgo-cart"),jQuery(".inkgo-design").parent().addClass("inkgo-cart-button"),jQuery(".inkgo-btn-edit").click(function(t){jQuery("form.inkgo-cart").removeClass("inkgo-cart-show"),jQuery(".inkgo-custom-mobile.inkgo-show-mobile").show().css("left","0"),jQuery(".inkgo-custom-mobile.inkgo-show-mobile").trigger("click")}),jQuery(".inkgo-btn-close").click(function(t){jQuery(".inkgo-custom-mobile.inkgo-show-mobile").show().css("left","0"),jQuery("html").removeClass("inkgo-editor-modal"),jQuery("form.inkgo-cart").removeClass("inkgo-cart-show"),jQuery(".inkgo-editor-mobile").hide("slow"),cart_ps.destroy()}))},thumb:function(t,e){var i,s;0!=jQuery(".inkgo-cart-designs").length&&(s=jQuery(window).width(),0==jQuery("#inkgo-cart-thum-"+t).length?jQuery(".inkgo-cart-main").append('<div class="swiper-slide inkgo-cart-thum" style="width:'+s+'px;"><img src="'+inkgo.getIMGJPG(e,"resize-autox150")+'" alt="" id="inkgo-cart-thum-'+t+'"></div>'):jQuery("#inkgo-cart-thum-"+t).attr("src",e),i=jQuery(".inkgo-cart-main img").length,s=(s=jQuery(window).width())*i,jQuery(".inkgo-cart-main").css("width",s+"px"))},show:function(){jQuery(".inkgo-custom-mobile.inkgo-show-mobile").hide().css("left","-9999px"),jQuery(".inkgo-design").hide(),jQuery("form.inkgo-cart").addClass("inkgo-cart-show"),""==jQuery("form.inkgo-cart .inkgo-cart-ps-description").length&&jQuery("form.inkgo-cart").append('<div class="inkgo-cart-ps-description">'+jQuery(".inkgo-product-description").html()+"</div>"),this.slides(),jQuery(".inkgo-editor-mobile").hide(),jQuery(".inkgo-cart-main img").length<2?(jQuery(".inkgo-cart-control").hide(),jQuery(".inkgo-cart-footer").hide()):(jQuery(".inkgo-cart-control").show(),jQuery(".inkgo-cart-footer").show()),cart_ps=new PerfectScrollbar("form.inkgo-cart.inkgo-cart-show",{wheelSpeed:50})},slides:function(){new Swiper(".inkgo-cart-body",{wrapperClass:"inkgo-cart-main",slidesPerView:1,pagination:{el:".inkgo-cart-footer",clickable:!0},navigation:{nextEl:".inkgo-cart-control-next",prevEl:".inkgo-cart-control-back"}})}},loading:function(t){0==jQuery(".inkgo-loading").length&&jQuery("body").append('<div class="inkgo-loading"><div class="inkgo-loading-bg"></div><div class="inkgo-loading-ripple"><div></div><div></div></div></div>'),1==t?jQuery(".inkgo-loading").show():jQuery(".inkgo-loading").hide()}},jQuery(document).on("initDesign.inkgo",function(){inkgo_show_label();var t=jQuery(".inkgo-preview");if(1<t.length)for(i=1;i<t.length;i++)jQuery(t[i]).remove();jQuery.each(inkgo.data.design,function(t,e){for(var i=0;i<e.layers.length;i++){var s,n=e.layers[i];null!=n.pattern_id&&(s=md5(n.pattern_id),null==inkgo.design.canvas_layers[s]&&inkgo_load_pattern(n))}}),jQuery(".inkgo-has-group-custom").each(function(){var t;"none"!=jQuery(this).css("display")&&(t=jQuery(this).data("group"),jQuery('.inkgo-has-group-custom[data-group="'+t+'"]').each(function(t,e){0==t?jQuery(this).show():jQuery(this).hide()}))}),0==jQuery(".inkgo-design-items .inkgo-field-group").length?jQuery(".inkgo-design").hide():jQuery(".inkgo-design").show(),setTimeout(function(){},2e3)}),jQuery(document).on("inkgo_update_json",function(t,e){return void 0!==inkgo.design.layout_id&&(e.layout=inkgo.design.layout_id+"::"+jQuery(".btn-inkgo-layout.active").text()),e}),jQuery(document).on("inkgo_mockup_loaded",function(){"undefined"==typeof PhotoSwipe?jQuery(".woocommerce-product-gallery__wrapper").magnificPopup({delegate:"div.woocommerce-product-gallery__image a",type:"image",closeOnContentClick:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(t){return t.find("img")}},callbacks:{beforeOpen:function(){0<jQuery(".inkgo-variarion-thumb canvas").length&&jQuery(".inkgo-variarion-thumb canvas").each(function(t,e){var i=this.toDataURL(),s=jQuery(this).parent();s.attr("href",i),s.find("img").attr({src:i,srcset:i})})}}}):jQuery(".woocommerce-product-gallery__image").click(function(t){0<jQuery(".woocommerce-product-gallery__image canvas").length&&jQuery(".woocommerce-product-gallery__image canvas").each(function(t,e){var i=this.toDataURL();jQuery(this).parent().find("img").attr({src:i,"data-src":i,"data-large_image":i})})})}),jQuery(window).on("scroll",function(){inkgo_show_label();var t=jQuery(".product-inkgo-swatches .woocommerce-product-gallery");if(null!=t[0]&&!(jQuery(window).width()<576||jQuery("body").hasClass("inkgo-mobile")||0==jQuery(".inkgo-custom-field").length)){for(var e=t.parent()[0].getBoundingClientRect(),i=(t.parent().parent()[0].getBoundingClientRect(),-1*e.top),s=jQuery(".inkgo-design-items").parents(),n=0,a=0;a<s.length;a++)if(0<jQuery(s[a]).find(".inkgo-variarion-thumb").length){n=jQuery(s[a-1]).height();break}e.top<0?((n=n-t.height())<i&&(i=n),t.css("margin-top",i+"px")):t.css("margin-top","0px")}}),jQuery(document).ready(function(t){inkgo.product(),0!=inkgo_campaign_custom&&inkgo.init(),inkgoWoo.init(),setTimeout(function(){0==jQuery(".inkgo-design-items .inkgo-field-group").length?jQuery(".inkgo-design").hide():jQuery(".inkgo-design").show()},2e3)}),jQuery(window).resize(function(){inkgo_layout()});var isFacebookApp=function(){var t=navigator.userAgent||navigator.vendor||window.opera;return-1<t.indexOf("FBAN")||-1<t.indexOf("FBAV")||-1<t.indexOf("Instagram")},inkgo_base64=function(){"use strict";function e(t){var e,i,s,n,a,o,r,l="",h=0;for(t=function(t){var e,i,s="";for(t=t.replace(/\r\n/g,"\n"),i=0;i<t.length;i++)(e=t.charCodeAt(i))<128?s+=String.fromCharCode(e):(127<e&&e<2048?s+=String.fromCharCode(e>>6|192):(s+=String.fromCharCode(e>>12|224),s+=String.fromCharCode(e>>6&63|128)),s+=String.fromCharCode(63&e|128));return s}(t);h<t.length;)n=(e=t.charCodeAt(h++))>>2,a=(3&e)<<4|(i=t.charCodeAt(h++))>>4,o=(15&i)<<2|(s=t.charCodeAt(h++))>>6,r=63&s,isNaN(i)?o=r=64:isNaN(s)&&(r=64),l+=d.charAt(n),l+=d.charAt(a),l+=d.charAt(o),l+=d.charAt(r);return l}function i(t){var e,i,s,n,a,o,r="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)e=d.indexOf(t.charAt(l++))<<2|(n=d.indexOf(t.charAt(l++)))>>4,i=(15&n)<<4|(a=d.indexOf(t.charAt(l++)))>>2,s=(3&a)<<6|(o=d.indexOf(t.charAt(l++))),r+=String.fromCharCode(e),64!==a&&(r+=String.fromCharCode(i)),64!==o&&(r+=String.fromCharCode(s));return function(t){for(var e="",i=0,s=0,n=0,a=0;i<t.length;)(s=t.charCodeAt(i))<128?(e+=String.fromCharCode(s),i++):191<s&&s<224?(n=t.charCodeAt(i+1),e+=String.fromCharCode((31&s)<<6|63&n),i+=2):(n=t.charCodeAt(i+1),a=t.charCodeAt(i+2),e+=String.fromCharCode((15&s)<<12|(63&n)<<6|63&a),i+=3);return e}(r)}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:e,decode:i,decodeToHex:function(t){return function(t){for(var e="",i=0;i<t.length;i++)e+=t.charCodeAt(i).toString(16);return e}(i(t))},encodeFromHex:function(t){return e(function(t){var e,i="";for(0<t.length%2&&(t="0"+t),e=0;e<t.length;e+=2)i+=String.fromCharCode(parseInt(t.charAt(e)+t.charAt(e+1),16));return i}(t))}}}();!function(r){r.fn.inkgoWithDelay=function(e,s,n,a,o){return r.isFunction(s)&&(o=a,a=n,n=s,s=void 0),n.guid=n.guid||r.guid&&r.guid++,this.each(function(){var i=null;function t(){var t=r.extend(!0,{},arguments[0]),e=this;o||(clearTimeout(i),i=null),i=i||setTimeout(function(){i=null,n.apply(e,[t])},a)}t.guid=n.guid,r(this).bind(e,s,t)})}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(d){function t(){}function c(t,e){f.ev.on("mfp"+t+w,e)}function u(t,e,i,s){var n=document.createElement("div");return n.className="mfp-"+t,i&&(n.innerHTML=i),s?e&&e.appendChild(n):(n=d(n),e&&n.appendTo(e)),n}function p(t,e){f.ev.triggerHandler("mfp"+t,e),f.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),f.st.callbacks[t]&&f.st.callbacks[t].apply(f,d.isArray(e)?e:[e]))}function g(t){return t===e&&f.currTemplate.closeBtn||(f.currTemplate.closeBtn=d(f.st.closeMarkup.replace("%title%",f.st.tClose)),e=t),f.currTemplate.closeBtn}function a(){d.magnificPopup.instance||((f=new t).init(),d.magnificPopup.instance=f)}var f,s,m,n,v,e,l="Close",h="BeforeClose",y="MarkupParse",b="Open",w=".mfp",k="mfp-ready",i="mfp-removing",o="mfp-prevent-close",r=!!window.jQuery,x=d(window);t.prototype={constructor:t,init:function(){var t=navigator.appVersion;f.isLowIE=f.isIE8=document.all&&!document.addEventListener,f.isAndroid=/android/gi.test(t),f.isIOS=/iphone|ipad|ipod/gi.test(t),f.supportsTransition=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),f.probablyMobile=f.isAndroid||f.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),m=d(document),f.popupsCache={}},open:function(t){if(!1===t.isObj){f.items=t.items.toArray(),f.index=0;for(var e,i=t.items,s=0;s<i.length;s++)if((e=i[s]).parsed&&(e=e.el[0]),e===t.el[0]){f.index=s;break}}else f.items=d.isArray(t.items)?t.items:[t.items],f.index=t.index||0;if(!f.isOpen){f.types=[],v="",t.mainEl&&t.mainEl.length?f.ev=t.mainEl.eq(0):f.ev=m,t.key?(f.popupsCache[t.key]||(f.popupsCache[t.key]={}),f.currTemplate=f.popupsCache[t.key]):f.currTemplate={},f.st=d.extend(!0,{},d.magnificPopup.defaults,t),f.fixedContentPos="auto"===f.st.fixedContentPos?!f.probablyMobile:f.st.fixedContentPos,f.st.modal&&(f.st.closeOnContentClick=!1,f.st.closeOnBgClick=!1,f.st.showCloseBtn=!1,f.st.enableEscapeKey=!1),f.bgOverlay||(f.bgOverlay=u("bg").on("click"+w,function(){f.close()}),f.wrap=u("wrap").attr("tabindex",-1).on("click"+w,function(t){f._checkIfClose(t.target)&&f.close()}),f.container=u("container",f.wrap)),f.contentContainer=u("content"),f.st.preloader&&(f.preloader=u("preloader",f.container,f.st.tLoading));var n=d.magnificPopup.modules;for(s=0;s<n.length;s++){var a=(a=n[s]).charAt(0).toUpperCase()+a.slice(1);f["init"+a].call(f)}p("BeforeOpen"),f.st.showCloseBtn&&(f.st.closeBtnInside?(c(y,function(t,e,i,s){i.close_replaceWith=g(s.type)}),v+=" mfp-close-btn-in"):f.wrap.append(g())),f.st.alignTop&&(v+=" mfp-align-top"),f.fixedContentPos?f.wrap.css({overflow:f.st.overflowY,overflowX:"hidden",overflowY:f.st.overflowY}):f.wrap.css({top:x.scrollTop(),position:"absolute"}),!1!==f.st.fixedBgPos&&("auto"!==f.st.fixedBgPos||f.fixedContentPos)||f.bgOverlay.css({height:m.height(),position:"absolute"}),f.st.enableEscapeKey&&m.on("keyup"+w,function(t){27===t.keyCode&&f.close()}),x.on("resize"+w,function(){f.updateSize()}),f.st.closeOnContentClick||(v+=" mfp-auto-cursor"),v&&f.wrap.addClass(v);var o,r=f.wH=x.height(),l={};f.fixedContentPos&&f._hasScrollBar(r)&&((o=f._getScrollbarSize())&&(l.marginRight=o)),f.fixedContentPos&&(f.isIE7?d("body, html").css("overflow","hidden"):l.overflow="hidden");var h=f.st.mainClass;return f.isIE7&&(h+=" mfp-ie7"),h&&f._addClassToMFP(h),f.updateItemHTML(),p("BuildControls"),d("html").css(l),f.bgOverlay.add(f.wrap).prependTo(f.st.prependTo||d(document.body)),f._lastFocusedEl=document.activeElement,setTimeout(function(){f.content?(f._addClassToMFP(k),f._setFocus()):f.bgOverlay.addClass(k),m.on("focusin"+w,f._onFocusIn)},16),f.isOpen=!0,f.updateSize(r),p(b),t}f.updateItemHTML()},close:function(){f.isOpen&&(p(h),f.isOpen=!1,f.st.removalDelay&&!f.isLowIE&&f.supportsTransition?(f._addClassToMFP(i),setTimeout(function(){f._close()},f.st.removalDelay)):f._close())},_close:function(){p(l);var t,e=i+" "+k+" ";f.bgOverlay.detach(),f.wrap.detach(),f.container.empty(),f.st.mainClass&&(e+=f.st.mainClass+" "),f._removeClassFromMFP(e),f.fixedContentPos&&(t={marginRight:""},f.isIE7?d("body, html").css("overflow",""):t.overflow="",d("html").css(t)),m.off("keyup.mfp focusin"+w),f.ev.off(w),f.wrap.attr("class","mfp-wrap").removeAttr("style"),f.bgOverlay.attr("class","mfp-bg"),f.container.attr("class","mfp-container"),!f.st.showCloseBtn||f.st.closeBtnInside&&!0!==f.currTemplate[f.currItem.type]||f.currTemplate.closeBtn&&f.currTemplate.closeBtn.detach(),f.st.autoFocusLast&&f._lastFocusedEl&&d(f._lastFocusedEl).focus(),f.currItem=null,f.content=null,f.currTemplate=null,f.prevHeight=0,p("AfterClose")},updateSize:function(t){var e,i;f.isIOS?(e=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*e,f.wrap.css("height",i),f.wH=i):f.wH=t||x.height(),f.fixedContentPos||f.wrap.css("height",f.wH),p("Resize")},updateItemHTML:function(){var t=f.items[f.index];f.contentContainer.detach(),f.content&&f.content.detach(),t.parsed||(t=f.parseEl(f.index));var e,i=t.type;p("BeforeChange",[f.currItem?f.currItem.type:"",i]),f.currItem=t,f.currTemplate[i]||(e=!!f.st[i]&&f.st[i].markup,p("FirstMarkupParse",e),f.currTemplate[i]=!e||d(e)),n&&n!==t.type&&f.container.removeClass("mfp-"+n+"-holder");var s=f["get"+i.charAt(0).toUpperCase()+i.slice(1)](t,f.currTemplate[i]);f.appendContent(s,i),t.preloaded=!0,p("Change",t),n=t.type,f.container.prepend(f.contentContainer),p("AfterChange")},appendContent:function(t,e){(f.content=t)?f.st.showCloseBtn&&f.st.closeBtnInside&&!0===f.currTemplate[e]?f.content.find(".mfp-close").length||f.content.append(g()):f.content=t:f.content="",p("BeforeAppend"),f.container.addClass("mfp-"+e+"-holder"),f.contentContainer.append(f.content)},parseEl:function(t){var e,i=f.items[t];if((i=i.tagName?{el:d(i)}:(e=i.type,{data:i,src:i.src})).el){for(var s=f.types,n=0;n<s.length;n++)if(i.el.hasClass("mfp-"+s[n])){e=s[n];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=e||f.st.type||"inline",i.index=t,i.parsed=!0,f.items[t]=i,p("ElementParse",i),f.items[t]},addGroup:function(e,i){function t(t){t.mfpEl=this,f._openClick(t,e,i)}var s="click.magnificPopup";(i=i||{}).mainEl=e,i.items?(i.isObj=!0,e.off(s).on(s,t)):(i.isObj=!1,i.delegate?e.off(s).on(s,i.delegate,t):(i.items=e).off(s).on(s,t))},_openClick:function(t,e,i){if((void 0!==i.midClick?i.midClick:d.magnificPopup.defaults.midClick)||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var s=void 0!==i.disableOn?i.disableOn:d.magnificPopup.defaults.disableOn;if(s)if(d.isFunction(s)){if(!s.call(f))return!0}else if(x.width()<s)return!0;t.type&&(t.preventDefault(),f.isOpen&&t.stopPropagation()),i.el=d(t.mfpEl),i.delegate&&(i.items=e.find(i.delegate)),f.open(i)}},updateStatus:function(t,e){var i;f.preloader&&(s!==t&&f.container.removeClass("mfp-s-"+s),e||"loading"!==t||(e=f.st.tLoading),p("UpdateStatus",i={status:t,text:e}),t=i.status,e=i.text,f.preloader.html(e),f.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),f.container.addClass("mfp-s-"+t),s=t)},_checkIfClose:function(t){if(!d(t).hasClass(o)){var e=f.st.closeOnContentClick,i=f.st.closeOnBgClick;if(e&&i)return!0;if(!f.content||d(t).hasClass("mfp-close")||f.preloader&&t===f.preloader[0])return!0;if(t===f.content[0]||d.contains(f.content[0],t)){if(e)return!0}else if(i&&d.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){f.bgOverlay.addClass(t),f.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),f.wrap.removeClass(t)},_hasScrollBar:function(t){return(f.isIE7?m.height():document.body.scrollHeight)>(t||x.height())},_setFocus:function(){(f.st.focus?f.content.find(f.st.focus).eq(0):f.wrap).focus()},_onFocusIn:function(t){return t.target===f.wrap[0]||d.contains(f.wrap[0],t.target)?void 0:(f._setFocus(),!1)},_parseMarkup:function(n,t,e){var a;e.data&&(t=d.extend(e.data,t)),p(y,[n,t,e]),d.each(t,function(t,e){return void 0===e||!1===e||void(1<(a=t.split("_")).length?0<(i=n.find(w+"-"+a[0])).length&&("replaceWith"===(s=a[1])?i[0]!==e[0]&&i.replaceWith(e):"img"===s?i.is("img")?i.attr("src",e):i.replaceWith(d("<img>").attr("src",e).attr("class",i.attr("class"))):i.attr(a[1],e)):n.find(w+"-"+t).html(e));var i,s})},_getScrollbarSize:function(){var t;return void 0===f.scrollbarSize&&((t=document.createElement("div")).style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),f.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)),f.scrollbarSize}},d.magnificPopup={instance:null,proto:t.prototype,modules:[],open:function(t,e){return a(),(t=t?d.extend(!0,{},t):{}).isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return d.magnificPopup.instance&&d.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(d.magnificPopup.defaults[t]=e.options),d.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},d.fn.magnificPopup=function(t){a();var e,i,s,n=d(this);return"string"==typeof t?"open"===t?(e=r?n.data("magnificPopup"):n[0].magnificPopup,i=parseInt(arguments[1],10)||0,s=e.items?e.items[i]:(s=n,e.delegate&&(s=s.find(e.delegate)),s.eq(i)),f._openClick({mfpEl:s},n,e)):f.isOpen&&f[t].apply(f,Array.prototype.slice.call(arguments,1)):(t=d.extend(!0,{},t),r?n.data("magnificPopup",t):n[0].magnificPopup=t,f.addGroup(n,t)),n};function _(){P&&(E.after(P.addClass(C)).detach(),P=null)}var C,E,P,T="inline";d.magnificPopup.registerModule(T,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){f.types.push(T),c(l+"."+T,function(){_()})},getInline:function(t,e){if(_(),t.src){var i,s=f.st.inline,n=d(t.src);return n.length?((i=n[0].parentNode)&&i.tagName&&(E||(C=s.hiddenClass,E=u(C),C="mfp-"+C),P=n.after(E).detach().removeClass(C)),f.updateStatus("ready")):(f.updateStatus("error",s.tNotFound),n=d("<div>")),t.inlineElement=n}return f.updateStatus("ready"),f._parseMarkup(e,{},t),e}}});function S(){j&&d(document.body).removeClass(j)}function M(){S(),f.req&&f.req.abort()}var j,z="ajax";d.magnificPopup.registerModule(z,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){f.types.push(z),j=f.st.ajax.cursor,c(l+"."+z,M),c("BeforeChange."+z,M)},getAjax:function(n){j&&d(document.body).addClass(j),f.updateStatus("loading");var t=d.extend({url:n.src,success:function(t,e,i){var s={data:t,xhr:i};p("ParseAjax",s),f.appendContent(d(s.data),z),n.finished=!0,S(),f._setFocus(),setTimeout(function(){f.wrap.addClass(k)},16),f.updateStatus("ready"),p("AjaxContentAdded")},error:function(){S(),n.finished=n.loadError=!0,f.updateStatus("error",f.st.ajax.tError.replace("%url%",n.src))}},f.st.ajax.settings);return f.req=d.ajax(t),""}}});var I;d.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=f.st.image,e=".image";f.types.push("image"),c(b+e,function(){"image"===f.currItem.type&&t.cursor&&d(document.body).addClass(t.cursor)}),c(l+e,function(){t.cursor&&d(document.body).removeClass(t.cursor),x.off("resize"+w)}),c("Resize"+e,f.resizeImage),f.isLowIE&&c("AfterChange",f.resizeImage)},resizeImage:function(){var t,e=f.currItem;e&&e.img&&f.st.image.verticalFit&&(t=0,f.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",f.wH-t))},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,I&&clearInterval(I),t.isCheckingImgSize=!1,p("ImageHasSize",t),t.imgHidden&&(f.content&&f.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(e){var i=0,s=e.img[0],n=function(t){I&&clearInterval(I),I=setInterval(function(){return 0<s.naturalWidth?void f._onImageHasSize(e):(200<i&&clearInterval(I),void(3===++i?n(10):40===i?n(50):100===i&&n(500)))},t)};n(1)},getImage:function(t,e){var i,s=0,n=function(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===f.currItem&&(f._onImageHasSize(t),f.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,p("ImageLoadComplete")):++s<200?setTimeout(n,100):a())},a=function(){t&&(t.img.off(".mfploader"),t===f.currItem&&(f._onImageHasSize(t),f.updateStatus("error",o.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)},o=f.st.image,r=e.find(".mfp-img");return r.length&&((i=document.createElement("img")).className="mfp-img",t.el&&t.el.find("img").length&&(i.alt=t.el.find("img").attr("alt")),t.img=d(i).on("load.mfploader",n).on("error.mfploader",a),i.src=t.src,r.is("img")&&(t.img=t.img.clone()),0<(i=t.img[0]).naturalWidth?t.hasSize=!0:i.width||(t.hasSize=!1)),f._parseMarkup(e,{title:function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var e=f.st.image.titleSrc;if(e){if(d.isFunction(e))return e.call(f,t);if(t.el)return t.el.attr(e)||""}return""}(t),img_replaceWith:t.img},t),f.resizeImage(),t.hasSize?(I&&clearInterval(I),t.loadError?(e.addClass("mfp-loading"),f.updateStatus("error",o.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),f.updateStatus("ready"))):(f.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),f.findImageSize(t))),e}}});var Q;d.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,e,i,s,n,a,o=f.st.zoom,r=".zoom";o.enabled&&f.supportsTransition&&(s=o.duration,n=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+o.duration/1e3+"s "+o.easing,s={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},n="transition";return s["-webkit-"+n]=s["-moz-"+n]=s["-o-"+n]=s[n]=i,e.css(s),e},a=function(){f.content.css("visibility","visible")},c("BuildControls"+r,function(){if(f._allowZoom()){if(clearTimeout(e),f.content.css("visibility","hidden"),!(t=f._getItemToZoom()))return void a();(i=n(t)).css(f._getOffset()),f.wrap.append(i),e=setTimeout(function(){i.css(f._getOffset(!0)),e=setTimeout(function(){a(),setTimeout(function(){i.remove(),t=i=null,p("ZoomAnimationEnded")},16)},s)},16)}}),c(h+r,function(){if(f._allowZoom()){if(clearTimeout(e),f.st.removalDelay=s,!t){if(!(t=f._getItemToZoom()))return;i=n(t)}i.css(f._getOffset(!0)),f.wrap.append(i),f.content.css("visibility","hidden"),setTimeout(function(){i.css(f._getOffset())},16)}}),c(l+r,function(){f._allowZoom()&&(a(),i&&i.remove(),t=null)}))},_allowZoom:function(){return"image"===f.currItem.type},_getItemToZoom:function(){return!!f.currItem.hasSize&&f.currItem.img},_getOffset:function(t){var e=t?f.currItem.img:f.st.zoom.opener(f.currItem.el||f.currItem),i=e.offset(),s=parseInt(e.css("padding-top"),10),n=parseInt(e.css("padding-bottom"),10);i.top-=d(window).scrollTop()-s;var a={width:e.width(),height:(r?e.innerHeight():e[0].offsetHeight)-n-s};return void 0===Q&&(Q=void 0!==document.createElement("p").style.MozTransform),Q?a["-moz-transform"]=a.transform="translate("+i.left+"px,"+i.top+"px)":(a.left=i.left,a.top=i.top),a}}});function L(t){var e;!f.currTemplate[D]||(e=f.currTemplate[D].find("iframe")).length&&(t||(e[0].src="//about:blank"),f.isIE8&&e.css("display",t?"block":"none"))}var D="iframe";d.magnificPopup.registerModule(D,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){f.types.push(D),c("BeforeChange",function(t,e,i){e!==i&&(e===D?L():i===D&&L(!0))}),c(l+"."+D,function(){L()})},getIframe:function(t,e){var i=t.src,s=f.st.iframe;d.each(s.patterns,function(){return-1<i.indexOf(this.index)?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var n={};return s.srcAction&&(n[s.srcAction]=i),f._parseMarkup(e,n,t),f.updateStatus("ready"),e}}});function O(t){var e=f.items.length;return e-1<t?t-e:t<0?e+t:t}function B(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)}d.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var a=f.st.gallery,t=".mfp-gallery";return f.direction=!0,!(!a||!a.enabled)&&(v+=" mfp-gallery",c(b+t,function(){a.navigateByImgClick&&f.wrap.on("click"+t,".mfp-img",function(){return 1<f.items.length?(f.next(),!1):void 0}),m.on("keydown"+t,function(t){37===t.keyCode?f.prev():39===t.keyCode&&f.next()})}),c("UpdateStatus"+t,function(t,e){e.text&&(e.text=B(e.text,f.currItem.index,f.items.length))}),c(y+t,function(t,e,i,s){var n=f.items.length;i.counter=1<n?B(a.tCounter,s.index,n):""}),c("BuildControls"+t,function(){var t,e,i;1<f.items.length&&a.arrows&&!f.arrowLeft&&(t=a.arrowMarkup,e=f.arrowLeft=d(t.replace(/%title%/gi,a.tPrev).replace(/%dir%/gi,"left")).addClass(o),i=f.arrowRight=d(t.replace(/%title%/gi,a.tNext).replace(/%dir%/gi,"right")).addClass(o),e.click(function(){f.prev()}),i.click(function(){f.next()}),f.container.append(e.add(i)))}),c("Change"+t,function(){f._preloadTimeout&&clearTimeout(f._preloadTimeout),f._preloadTimeout=setTimeout(function(){f.preloadNearbyImages(),f._preloadTimeout=null},16)}),void c(l+t,function(){m.off(t),f.wrap.off("click"+t),f.arrowRight=f.arrowLeft=null}))},next:function(){f.direction=!0,f.index=O(f.index+1),f.updateItemHTML()},prev:function(){f.direction=!1,f.index=O(f.index-1),f.updateItemHTML()},goTo:function(t){f.direction=t>=f.index,f.index=t,f.updateItemHTML()},preloadNearbyImages:function(){for(var t=f.st.gallery.preload,e=Math.min(t[0],f.items.length),i=Math.min(t[1],f.items.length),s=1;s<=(f.direction?i:e);s++)f._preloadItem(f.index+s);for(s=1;s<=(f.direction?e:i);s++)f._preloadItem(f.index-s)},_preloadItem:function(t){var e;t=O(t),f.items[t].preloaded||((e=f.items[t]).parsed||(e=f.parseEl(t)),p("LazyLoad",e),"image"===e.type&&(e.img=d('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){e.hasSize=!0,e.loadError=!0,p("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0)}}});var A="retina";d.magnificPopup.registerModule(A,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){var i,s;1<window.devicePixelRatio&&(i=f.st.retina,s=i.ratio,1<(s=isNaN(s)?s():s)&&(c("ImageHasSize."+A,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/s,width:"100%"})}),c("ElementParse."+A,function(t,e){e.src=i.replaceSrc(e,s)})))}}}),a()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.PerfectScrollbar=e()}(this,function(){"use strict";function m(t){return getComputedStyle(t)}function c(t,e){for(var i in e){var s=e[i];"number"==typeof s&&(s+="px"),t.style[i]=s}return t}function u(t){var e=document.createElement("div");return e.className=t,e}var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function r(t,e){if(!i)throw new Error("No element matching method supported");return i.call(t,e)}function n(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function a(t,e){return Array.prototype.filter.call(t.children,function(t){return r(t,e)})}var v={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},o={x:null,y:null};function y(t,e){var i=t.element.classList,s=v.state.scrolling(e);i.contains(s)?clearTimeout(o[e]):i.add(s)}function b(t,e){o[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(v.state.scrolling(e))},t.settings.scrollingThreshold)}function s(t){this.element=t,this.handlers={}}var t={isEmpty:{configurable:!0}};s.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},s.prototype.unbind=function(e,i){var s=this;this.handlers[e]=this.handlers[e].filter(function(t){return!(!i||t===i)||(s.element.removeEventListener(e,t,!1),!1)})},s.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},t.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return 0===e.handlers[t].length})},Object.defineProperties(s.prototype,t);function p(){this.eventElements=[]}function g(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}p.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return t||(t=new s(e),this.eventElements.push(t)),t},p.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},p.prototype.unbind=function(t,e,i){var s=this.eventElement(t);s.unbind(e,i),s.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(s),1)},p.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},p.prototype.once=function(t,e,i){var s=this.eventElement(t),n=function(t){s.unbind(e,n),i(t)};s.bind(e,n)};function e(t,e,i,s,n){var p;if(void 0===s&&(s=!0),void 0===n&&(n=!1),"top"===e)p=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");p=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,i,s){var n=p[0],a=p[1],o=p[2],r=p[3],l=p[4],h=p[5];void 0===i&&(i=!0),void 0===s&&(s=!1);var d,c,u=t.element;t.reach[r]=null,u[o]<1&&(t.reach[r]="start"),u[o]>t[n]-t[a]-1&&(t.reach[r]="end"),e&&(u.dispatchEvent(g("ps-scroll-"+r)),e<0?u.dispatchEvent(g("ps-scroll-"+l)):0<e&&u.dispatchEvent(g("ps-scroll-"+h)),i&&(y(d=t,c=r),b(d,c))),t.reach[r]&&(e||s)&&u.dispatchEvent(g("ps-"+r+"-reach-"+t.reach[r]))}(t,i,s,n)}function f(t){return parseInt(t,10)||0}function w(t){var e=t.element,i=Math.floor(e.scrollTop),s=e.getBoundingClientRect();t.containerWidth=Math.ceil(s.width),t.containerHeight=Math.ceil(s.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(a(e,v.element.rail("x")).forEach(n),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(a(e,v.element.rail("y")).forEach(n),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=l(t,f(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=f((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=l(t,f(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=f(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var i={width:e.railXWidth},s=Math.floor(t.scrollTop);e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-s:i.top=e.scrollbarXTop+s,c(e.scrollbarXRail,i);var n={top:s,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?n.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:n.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:n.left=e.scrollbarYLeft+t.scrollLeft,c(e.scrollbarYRail,n),c(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),c(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(v.state.active("x")):(e.classList.remove(v.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(v.state.active("y")):(e.classList.remove(v.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}var k={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function l(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function h(e,t){var i=t[0],s=t[1],n=t[2],a=t[3],o=t[4],r=t[5],l=t[6],h=t[7],d=t[8],c=e.element,u=null,p=null,g=null;function f(t){c[l]=u+g*(t[n]-p),y(e,h),w(e),t.stopPropagation(),t.preventDefault()}function m(){b(e,h),e[d].classList.remove(v.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",f)}e.event.bind(e[o],"mousedown",function(t){u=c[l],p=t[n],g=(e[s]-e[i])/(e[a]-e[r]),e.event.bind(e.ownerDocument,"mousemove",f),e.event.once(e.ownerDocument,"mouseup",m),e[d].classList.add(v.state.clicking),t.stopPropagation(),t.preventDefault()})}function d(t,e){var i,s,n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in(this.element=t).classList.add(v.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)n.settings[a]=e[a];function o(){return t.classList.add(v.state.focus)}function r(){return t.classList.remove(v.state.focus)}this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null,this.isRtl="rtl"===m(t).direction,this.isNegativeScroll=(s=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=s,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new p,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=u(v.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=u(v.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",o),this.event.bind(this.scrollbarX,"blur",r),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=m(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=f(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=f(l.borderLeftWidth)+f(l.borderRightWidth),c(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=f(l.marginLeft)+f(l.marginRight),c(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=u(v.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=u(v.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",o),this.event.bind(this.scrollbarY,"blur",r),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var h,d=m(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=f(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?f((h=m(this.scrollbarY)).width)+f(h.paddingLeft)+f(h.paddingRight)+f(h.borderLeftWidth)+f(h.borderRightWidth):null,this.railBorderYWidth=f(d.borderTopWidth)+f(d.borderBottomWidth),c(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=f(d.marginTop)+f(d.marginBottom),c(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return x[t](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),w(this)}var x={"click-rail":function(i){i.event.bind(i.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarYRail,"mousedown",function(t){var e=t.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top>i.scrollbarYTop?1:-1;i.element.scrollTop+=e*i.containerHeight,w(i),t.stopPropagation()}),i.event.bind(i.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarXRail,"mousedown",function(t){var e=t.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=e*i.containerWidth,w(i),t.stopPropagation()})},"drag-thumb":function(t){h(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),h(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(a){var o=a.element;a.event.bind(a.ownerDocument,"keydown",function(t){if(!(t.isDefaultPrevented&&t.isDefaultPrevented()||t.defaultPrevented)&&(r(o,":hover")||r(a.scrollbarX,":focus")||r(a.scrollbarY,":focus"))){var e,i=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(r(e=i,"input,[contenteditable]")||r(e,"select,[contenteditable]")||r(e,"textarea,[contenteditable]")||r(e,"button,[contenteditable]"))return}var s=0,n=0;switch(t.which){case 37:s=t.metaKey?-a.contentWidth:t.altKey?-a.containerWidth:-30;break;case 38:n=t.metaKey?a.contentHeight:t.altKey?a.containerHeight:30;break;case 39:s=t.metaKey?a.contentWidth:t.altKey?a.containerWidth:30;break;case 40:n=t.metaKey?-a.contentHeight:t.altKey?-a.containerHeight:-30;break;case 32:n=t.shiftKey?a.containerHeight:-a.containerHeight;break;case 33:n=a.containerHeight;break;case 34:n=-a.containerHeight;break;case 36:n=a.contentHeight;break;case 35:n=-a.contentHeight;break;default:return}a.settings.suppressScrollX&&0!==s||a.settings.suppressScrollY&&0!==n||(o.scrollTop-=n,o.scrollLeft+=s,w(a),function(t,e){var i=Math.floor(o.scrollTop);if(0===t){if(!a.scrollbarYActive)return;if(0===i&&0<e||i>=a.contentHeight-a.containerHeight&&e<0)return!a.settings.wheelPropagation}var s=o.scrollLeft;if(0===e){if(!a.scrollbarXActive)return;if(0===s&&t<0||s>=a.contentWidth-a.containerWidth&&0<t)return!a.settings.wheelPropagation}return 1}(s,n)&&t.preventDefault())}})},wheel:function(g){var f=g.element;function t(t){var e,i,s,n,a,o,r,l,h,d,c=(e=t.deltaX,i=-1*t.deltaY,void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!=e&&i!=i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]),u=c[0],p=c[1];!function(t,e,i){if(!k.isWebKit&&f.querySelector("select:focus"))return 1;if(f.contains(t))for(var s=t;s&&s!==f;){if(s.classList.contains(v.element.consuming))return 1;var n=m(s);if([n.overflow,n.overflowX,n.overflowY].join("").match(/(scroll|auto)/)){var a=s.scrollHeight-s.clientHeight;if(0<a&&!(0===s.scrollTop&&0<i||s.scrollTop===a&&i<0))return 1;var o=s.scrollWidth-s.clientWidth;if(0<o&&!(0===s.scrollLeft&&e<0||s.scrollLeft===o&&0<e))return 1}s=s.parentNode}}(t.target,u,p)&&(d=!1,g.settings.useBothWheelAxes?g.scrollbarYActive&&!g.scrollbarXActive?(p?f.scrollTop-=p*g.settings.wheelSpeed:f.scrollTop+=u*g.settings.wheelSpeed,d=!0):g.scrollbarXActive&&!g.scrollbarYActive&&(u?f.scrollLeft+=u*g.settings.wheelSpeed:f.scrollLeft-=p*g.settings.wheelSpeed,d=!0):(f.scrollTop-=p*g.settings.wheelSpeed,f.scrollLeft+=u*g.settings.wheelSpeed),w(g),(d=d||(s=u,n=p,a=Math.floor(f.scrollTop),o=0===f.scrollTop,r=a+f.offsetHeight===f.scrollHeight,l=0===f.scrollLeft,h=f.scrollLeft+f.offsetWidth===f.scrollWidth,!(Math.abs(n)>Math.abs(s)?o||r:l||h)||!g.settings.wheelPropagation))&&!t.ctrlKey&&(t.stopPropagation(),t.preventDefault()))}void 0!==window.onwheel?g.event.bind(f,"wheel",t):void 0!==window.onmousewheel&&g.event.bind(f,"mousewheel",t)},touch:function(r){var l,h,d,c,i;function u(t,e){l.scrollTop-=e,l.scrollLeft-=t,w(r)}function p(t){return t.targetTouches?t.targetTouches[0]:t}function g(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(t.targetTouches&&1===t.targetTouches.length||t.pointerType&&"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE)}function t(t){var e;g(t)&&(e=p(t),h.pageX=e.pageX,h.pageY=e.pageY,d=(new Date).getTime(),null!==i&&clearInterval(i))}function e(t){if(g(t)){var e=p(t),i={pageX:e.pageX,pageY:e.pageY},s=i.pageX-h.pageX,n=i.pageY-h.pageY;if(function(t,e,i){if(l.contains(t))for(var s=t;s&&s!==l;){if(s.classList.contains(v.element.consuming))return 1;var n=m(s);if([n.overflow,n.overflowX,n.overflowY].join("").match(/(scroll|auto)/)){var a=s.scrollHeight-s.clientHeight;if(0<a&&!(0===s.scrollTop&&0<i||s.scrollTop===a&&i<0))return 1;var o=s.scrollLeft-s.clientWidth;if(0<o&&!(0===s.scrollLeft&&e<0||s.scrollLeft===o&&0<e))return 1}s=s.parentNode}}(t.target,s,n))return;u(s,n),h=i;var a=(new Date).getTime(),o=a-d;0<o&&(c.x=s/o,c.y=n/o,d=a),function(t,e){var i=Math.floor(l.scrollTop),s=l.scrollLeft,n=Math.abs(t),a=Math.abs(e);if(n<a){if(e<0&&i===r.contentHeight-r.containerHeight||0<e&&0===i)return 0===window.scrollY&&0<e&&k.isChrome}else if(a<n&&(t<0&&s===r.contentWidth-r.containerWidth||0<t&&0===s))return 1;return 1}(s,n)&&t.preventDefault()}}function s(){r.settings.swipeEasing&&(clearInterval(i),i=setInterval(function(){r.isInitialized||!c.x&&!c.y||Math.abs(c.x)<.01&&Math.abs(c.y)<.01?clearInterval(i):(u(30*c.x,30*c.y),c.x*=.8,c.y*=.8)},10))}(k.supportsTouch||k.supportsIePointer)&&(l=r.element,h={},d=0,c={},i=null,k.supportsTouch?(r.event.bind(l,"touchstart",t),r.event.bind(l,"touchmove",e),r.event.bind(l,"touchend",s)):k.supportsIePointer&&(window.PointerEvent?(r.event.bind(l,"pointerdown",t),r.event.bind(l,"pointermove",e),r.event.bind(l,"pointerup",s)):window.MSPointerEvent&&(r.event.bind(l,"MSPointerDown",t),r.event.bind(l,"MSPointerMove",e),r.event.bind(l,"MSPointerUp",s))))}};return d.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,c(this.scrollbarXRail,{display:"block"}),c(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=f(m(this.scrollbarXRail).marginLeft)+f(m(this.scrollbarXRail).marginRight),this.railYMarginHeight=f(m(this.scrollbarYRail).marginTop)+f(m(this.scrollbarYRail).marginBottom),c(this.scrollbarXRail,{display:"none"}),c(this.scrollbarYRail,{display:"none"}),w(this),e(this,"top",0,!1,!0),e(this,"left",0,!1,!0),c(this.scrollbarXRail,{display:""}),c(this.scrollbarYRail,{display:""}))},d.prototype.onScroll=function(t){this.isAlive&&(w(this),e(this,"top",this.element.scrollTop-this.lastScrollTop),e(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},d.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),n(this.scrollbarX),n(this.scrollbarY),n(this.scrollbarXRail),n(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},d.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},d}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Perspective=t()}(function(){return function a(o,r,l){function h(e,t){if(!r[e]){if(!o[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(d)return d(e,!0);var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}var n=r[e]={exports:{}};o[e][0].call(n.exports,function(t){return h(o[e][1][t]||t)},n,n.exports,a,o,r,l)}return r[e].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,i){var s=window.html5jp||{};!function(){s.perspective=function(t,e){var i,s,n,a;t&&t.strokeStyle&&e&&e.width&&e.height&&((i=document.createElement("canvas")).width=parseInt(e.width),i.height=parseInt(e.height),(s=i.getContext("2d")).drawImage(e,0,0,i.width,i.height),(n=document.createElement("canvas")).width=t.canvas.width,n.height=t.canvas.height,a=n.getContext("2d"),this.p={ctxd:t,cvso:i,ctxo:s,ctxt:a})};var t=s.perspective.prototype;t.draw=function(t){for(var e=parseInt(t[0][0]),i=parseInt(t[0][1]),s=parseInt(t[1][0]),n=parseInt(t[1][1]),a=parseInt(t[2][0]),o=parseInt(t[2][1]),r=parseInt(t[3][0]),l=parseInt(t[3][1]),h=[Math.sqrt(Math.pow(e-s,2)+Math.pow(i-n,2)),Math.sqrt(Math.pow(s-a,2)+Math.pow(n-o,2)),Math.sqrt(Math.pow(a-r,2)+Math.pow(o-l,2)),Math.sqrt(Math.pow(r-e,2)+Math.pow(l-i,2))],d=this.p.cvso.width,c=this.p.cvso.height,u=0,p=0,g=0,f=0;f<4;f++){var m;p<(m=f%2?h[f]/d:h[f]/c)&&(u=f,p=m),0==h[f]&&g++}if(!(1<g)){var v,y=this.p.ctxo,b=this.p.ctxt;if(b.clearRect(0,0,b.canvas.width,b.canvas.height),u%2==0){(v=this.create_canvas_context(d,10)).globalCompositeOperation="copy";for(var w=v.canvas,k=0;k<c;k+=2){var x=e+(r-e)*(M=k/c),_=i+(l-i)*M,C=s+(a-s)*M,E=n+(o-n)*M,P=Math.atan((E-_)/(C-x)),T=Math.sqrt(Math.pow(C-x,2)+Math.pow(E-_,2))/d;v.setTransform(1,0,0,1,0,-k),v.drawImage(y.canvas,0,0),b.translate(x,_),b.rotate(P),b.scale(T,T),b.drawImage(w,0,0),b.setTransform(1,0,0,1,0,0)}}else if(u%2==1){(v=this.create_canvas_context(10,c)).globalCompositeOperation="copy",w=v.canvas;for(var S=0;S<d;S+=2){var M,x=e+(s-e)*(M=S/d),_=i+(n-i)*M,C=r+(a-r)*M,E=l+(o-l)*M,P=Math.atan((x-C)/(E-_)),T=Math.sqrt(Math.pow(C-x,2)+Math.pow(E-_,2))/c;v.setTransform(1,0,0,1,-S,0),v.drawImage(y.canvas,0,0),b.translate(x,_),b.rotate(P),b.scale(T,T),b.drawImage(w,0,0),b.setTransform(1,0,0,1,0,0)}}this.p.ctxd.save(),this.p.ctxd.drawImage(b.canvas,0,0),this._applyMask(this.p.ctxd,[[e,i],[s,n],[a,o],[r,l]]),this.p.ctxd.restore()}},t.create_canvas_context=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i.getContext("2d")},t._applyMask=function(t,e){t.beginPath(),t.moveTo(e[0][0],e[0][1]);for(var i=1;i<e.length;i++)t.lineTo(e[i][0],e[i][1]);t.closePath(),t.globalCompositeOperation="destination-in",t.fill(),t.globalCompositeOperation="source-over"}}(),e.exports=s.perspective},{}]},{},[1])(1)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("rgbcolor"),require("stackblur-canvas")):"function"==typeof define&&define.amd?define(["rgbcolor","stackblur-canvas"],e):t.canvg=e(t.RGBColor,t.StackBlur)}(this,function(m,v){"use strict";var t;return m=m&&m.hasOwnProperty("default")?m.default:m,v=v&&v.hasOwnProperty("default")?v.default:v,function(t){var h;t.exports,(h=window).DOMParser=window.DOMParser;var c=h.document;function g(t,e){var i;return(i=c.createElement("canvas")).width=t,i.height=e,i}var u,p=function(t,e,i){if(null!=t||null!=e||null!=i){var s=f(i||{});"string"==typeof t&&(t=c.getElementById(t)),null!=t.svg&&t.svg.stop(),t.childNodes&&1==t.childNodes.length&&"OBJECT"==t.childNodes[0].nodeName||(t.svg=s);var n=t.getContext("2d");void 0!==e.documentElement?s.loadXmlDoc(n,e):"<"==e.substr(0,1)?s.loadXml(n,e):s.load(n,e)}else for(var a=c.querySelectorAll("svg"),o=0;o<a.length;o++){var r,l=a[o],h=c.createElement("canvas");void 0!==l.clientWidth&&void 0!==l.clientHeight?(h.width=l.clientWidth,h.height=l.clientHeight):(r=l.getBoundingClientRect(),h.width=r.width,h.height=r.height),l.parentNode.insertBefore(h,l),l.parentNode.removeChild(l);var d=c.createElement("div");d.appendChild(l),p(h,d.innerHTML)}};"undefined"==typeof Element||(void 0!==Element.prototype.matches?u=function(t,e){return t.matches(e)}:void 0!==Element.prototype.webkitMatchesSelector?u=function(t,e){return t.webkitMatchesSelector(e)}:void 0!==Element.prototype.mozMatchesSelector?u=function(t,e){return t.mozMatchesSelector(e)}:void 0!==Element.prototype.msMatchesSelector?u=function(t,e){return t.msMatchesSelector(e)}:void 0!==Element.prototype.oMatchesSelector?u=function(t,e){return t.oMatchesSelector(e)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(u=function(t,e){return $(t).is(e)}),void 0===u&&"undefined"!=typeof Sizzle&&(u=Sizzle.matchesSelector)));var e=/(\[[^\]]+\])/g,i=/(#[^\s\+>~\.\[:]+)/g,a=/(\.[^\s\+>~\.\[:]+)/g,o=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,r=/(:[\w-]+\([^\)]*\))/gi,l=/(:[^\s\+>~\.\[:]+)/g,d=/([^\s\+>~\.\[:]+)/g;function k(s){function t(t,e){var i=s.match(t);null!=i&&(n[e]+=i.length,s=s.replace(t," "))}var n=[0,0,0];return s=(s=s.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[\s\S]*/gm," "),t(e,1),t(i,0),t(a,1),t(o,2),t(r,1),t(l,1),s=(s=s.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),t(d,2),n.join("")}function f(n){var I={opts:n,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,rootEmSize:12,emSize:12,log:function(){}};1==I.opts.log&&"undefined"!=typeof console&&(I.log=function(t){console.log(t)}),I.init=function(t){var e=0;I.UniqueId=function(){return"canvg"+ ++e},I.Definitions={},I.Styles={},I.StylesSpecificity={},I.Animations=[],I.Images=[],I.ctx=t,I.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},I.init(),I.ImagesLoaded=function(){for(var t=0;t<I.Images.length;t++)if(!I.Images[t].loaded)return!1;return!0},I.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},I.compressSpaces=function(t){return t.replace(/(?!\u3000)\s+/gm," ")},I.ajax=function(t){var e;return(e=h.XMLHttpRequest?new h.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(e.open("GET",t,!1),e.send(null),e.responseText):null},I.parseXml=function(t){if("undefined"!=typeof Windows&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var e=new Windows.Data.Xml.Dom.XmlDocument,i=new Windows.Data.Xml.Dom.XmlLoadSettings;return i.prohibitDtd=!1,e.loadXml(t,i),e}if(!h.DOMParser)return t=t.replace(/<!DOCTYPE svg[^>]*>/,""),(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t),e;try{var s=n.xmldom?new h.DOMParser(n.xmldom):new h.DOMParser;return s.parseFromString(t,"image/svg+xml")}catch(e){return(s=n.xmldom?new h.DOMParser(n.xmldom):new h.DOMParser).parseFromString(t,"text/xml")}},I.Property=function(t,e){this.name=t,this.value=e},I.Property.prototype.getValue=function(){return this.value},I.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},I.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},I.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},I.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():parseFloat(t)},I.Property.prototype.addOpacity=function(t){var e,i=this.value;return null==t.value||""==t.value||"string"!=typeof this.value||(e=new m(this.value)).ok&&(i="rgba("+e.r+", "+e.g+", "+e.b+", "+t.numValue()+")"),new I.Property(this.name,i)},I.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)'"]+)/);return t=(t=t&&t[1])||this.value,I.Definitions[t]},I.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},I.Property.prototype.getFillStyleDefinition=function(t,e){var i,s=this.getDefinition();return null!=s&&s.createGradient?s.createGradient(I.ctx,t,e):null!=s&&s.createPattern?(s.getHrefAttribute().hasValue()&&(i=s.attribute("patternTransform"),s=s.getHrefAttribute().getDefinition(),i.hasValue()&&(s.attribute("patternTransform",!0).value=i.value)),s.createPattern(I.ctx,t,e)):null},I.Property.prototype.getDPI=function(){return 96},I.Property.prototype.getREM=function(){return I.rootEmSize},I.Property.prototype.getEM=function(){return I.emSize},I.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},I.Property.prototype.isPixels=function(){if(!this.hasValue())return!1;var t=this.value+"";return!!t.match(/px$/)||!!t.match(/^[0-9]+$/)},I.Property.prototype.toPixels=function(t,e){if(!this.hasValue())return 0;var i=this.value+"";if(i.match(/rem$/))return this.numValue()*this.getREM(t);if(i.match(/em$/))return this.numValue()*this.getEM(t);if(i.match(/ex$/))return this.numValue()*this.getEM(t)/2;if(i.match(/px$/))return this.numValue();if(i.match(/pt$/))return this.numValue()*this.getDPI(t)*(1/72);if(i.match(/pc$/))return 15*this.numValue();if(i.match(/cm$/))return this.numValue()*this.getDPI(t)/2.54;if(i.match(/mm$/))return this.numValue()*this.getDPI(t)/25.4;if(i.match(/in$/))return this.numValue()*this.getDPI(t);if(i.match(/%$/))return this.numValue()*I.ViewPort.ComputeSize(t);var s=this.numValue();return e&&s<1?s*I.ViewPort.ComputeSize(t):s},I.Property.prototype.toMilliseconds=function(){return this.hasValue()?(this.value+"").match(/ms$/)?this.numValue():1e3*this.numValue():0},I.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var t={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return I.Property.prototype.toTextBaseline=function(){return this.hasValue()?t[this.value]:null},I.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,e,i,s,n,a){var o=null!=a?this.Parse(a):this.CreateFont("","","","","",I.ctx.font);return{fontFamily:n=n||o.fontFamily,fontSize:s||o.fontSize,fontStyle:t||o.fontStyle,fontWeight:i||o.fontWeight,fontVariant:e||o.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var o=this;this.Parse=function(t){for(var e={},i=I.trim(I.compressSpaces(t||"")).split(" "),s={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},n="",a=0;a<i.length;a++)s.fontStyle||-1==o.Styles.indexOf(i[a])?s.fontVariant||-1==o.Variants.indexOf(i[a])?s.fontWeight||-1==o.Weights.indexOf(i[a])?s.fontSize?"inherit"!=i[a]&&(n+=i[a]):("inherit"!=i[a]&&(e.fontSize=i[a].split("/")[0]),s.fontStyle=s.fontVariant=s.fontWeight=s.fontSize=!0):("inherit"!=i[a]&&(e.fontWeight=i[a]),s.fontStyle=s.fontVariant=s.fontWeight=!0):("inherit"!=i[a]&&(e.fontVariant=i[a]),s.fontStyle=s.fontVariant=!0):("inherit"!=i[a]&&(e.fontStyle=i[a]),s.fontStyle=!0);return""!=n&&(e.fontFamily=n),e}},I.ToNumberArray=function(t){for(var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[],i=0;i<e.length;i++)e[i]=parseFloat(e[i]);return e},I.Point=function(t,e){this.x=t,this.y=e},I.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},I.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],i=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=i},I.CreatePoint=function(t){var e=I.ToNumberArray(t);return new I.Point(e[0],e[1])},I.CreatePath=function(t){for(var e=I.ToNumberArray(t),i=[],s=0;s<e.length;s+=2)i.push(new I.Point(e[s],e[s+1]));return i},I.BoundingBox=function(t,e,i,s){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,i,s,n,a){var o=t+2/3*(i-t),r=e+2/3*(s-e),l=o+1/3*(n-t),h=r+1/3*(a-e);this.addBezierCurve(t,e,o,l,r,h,n,a)},this.addBezierCurve=function(t,e,i,s,n,a,o,r){var l=[t,e],h=[i,s],d=[n,a],c=[o,r];this.addPoint(l[0],l[1]),this.addPoint(c[0],c[1]);for(var u=0;u<=1;u++){var p=function(t){return Math.pow(1-t,3)*l[u]+3*Math.pow(1-t,2)*t*h[u]+3*(1-t)*Math.pow(t,2)*d[u]+Math.pow(t,3)*c[u]},g=6*l[u]-12*h[u]+6*d[u],f=-3*l[u]+9*h[u]-9*d[u]+3*c[u],m=3*h[u]-3*l[u];if(0!=f){var v,y,b=Math.pow(g,2)-4*m*f;b<0||(0<(v=(-g+Math.sqrt(b))/(2*f))&&v<1&&(0==u&&this.addX(p(v)),1==u&&this.addY(p(v))),0<(y=(-g-Math.sqrt(b))/(2*f))&&y<1&&(0==u&&this.addX(p(y)),1==u&&this.addY(p(y))))}else{if(0==g)continue;var w=-m/g;0<w&&w<1&&(0==u&&this.addX(p(w)),1==u&&this.addY(p(w)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(i,s)},I.Transform=function(t){var e=this;this.Type={},this.Type.translate=function(t){this.p=I.CreatePoint(t),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var e=I.ToNumberArray(t);this.angle=new I.Property("angle",e[0]),this.cx=e[1]||0,this.cy=e[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=I.CreatePoint(t),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=I.ToNumberArray(t),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(t){var e=this.m[0],i=this.m[2],s=this.m[4],n=this.m[1],a=this.m[3],o=this.m[5],r=1/(e*(a-0*o)-i*(n-0*o)+s*(0*n-0*a));t.transform(r*(a-0*o),r*(0*o-n),r*(0*s-i),r*(e-0*s),r*(i*o-s*a),r*(s*n-e*o))},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=e.Type.matrix,this.base(t),this.angle=new I.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=e.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;0<=e;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var i,s,n,a,o=I.trim(I.compressSpaces(t)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),r=0;r<o.length;r++){"none"!==o[r]&&(i=I.trim(o[r].split("(")[0]),s=o[r].split("(")[1].replace(")",""),void 0!==(n=this.Type[i])&&((a=new n(s)).type=i,this.transforms.push(a)))}},I.AspectRatio=function(t,e,i,s,n,a,o,r,l,h){var d=(e=(e=I.compressSpaces(e)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",c=e.split(" ")[1]||"meet",u=i/s,p=n/a,g=Math.min(u,p),f=Math.max(u,p);"meet"==c&&(s*=g,a*=g),"slice"==c&&(s*=f,a*=f),l=new I.Property("refX",l),h=new I.Property("refY",h),l.hasValue()&&h.hasValue()?t.translate(-g*l.toPixels("x"),-g*h.toPixels("y")):(d.match(/^xMid/)&&("meet"==c&&g==p||"slice"==c&&f==p)&&t.translate(i/2-s/2,0),d.match(/YMid$/)&&("meet"==c&&g==u||"slice"==c&&f==u)&&t.translate(0,n/2-a/2),d.match(/^xMax/)&&("meet"==c&&g==p||"slice"==c&&f==p)&&t.translate(i-s,0),d.match(/YMax$/)&&("meet"==c&&g==u||"slice"==c&&f==u)&&t.translate(0,n-a)),"none"==d?t.scale(u,p):"meet"==c?t.scale(g,g):"slice"==c&&t.scale(f,f),t.translate(null==o?0:-o,null==r?0:-r)},I.Element={},I.EmptyProperty=new I.Property("EMPTY",""),I.Element.ElementBase=function(a){this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(t,e){var i=this.attributes[t];return null!=i?i:(1==e&&(i=new I.Property(t,""),this.attributes[t]=i),i||I.EmptyProperty)},this.getHrefAttribute=function(){for(var t in this.attributes)if("href"==t||t.match(/:href$/))return this.attributes[t];return I.EmptyProperty},this.style=function(t,e,i){var s=this.styles[t];if(null!=s)return s;var n=this.attribute(t);if(null!=n&&n.hasValue())return this.styles[t]=n;if(1!=i){var a=this.parent;if(null!=a){var o=a.style(t);if(null!=o&&o.hasValue())return o}}return 1==e&&(s=new I.Property(t,""),this.styles[t]=s),s||I.EmptyProperty},this.render=function(t){var e,i;"none"!=this.style("display").value&&"hidden"!=this.style("visibility").value&&(t.save(),this.style("mask").hasValue()?null!=(e=this.style("mask").getDefinition())&&e.apply(t,this):this.style("filter").hasValue()?null!=(i=this.style("filter").getDefinition())&&i.apply(t,this):(this.setContext(t),this.renderChildren(t),this.clearContext(t)),t.restore())},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(t,e){var i=t;e&&(i=I.CreateElement(t)),i.parent=this,"title"!=i.type&&this.children.push(i)},this.addStylesFromStyleDefinition=function(){for(var t in I.Styles)if("@"!=t[0]&&u(a,t)){var e=I.Styles[t],i=I.StylesSpecificity[t];if(null!=e)for(var s in e){var n=this.stylesSpecificity[s];void 0===n&&(n="000"),n<=i&&(this.styles[s]=e[s],this.stylesSpecificity[s]=i)}}};var t,e=new RegExp("^[A-Z-]+$");if(null!=a&&1==a.nodeType){for(var i=0;i<a.attributes.length;i++){var s=a.attributes[i],n=(t=s.nodeName,e.test(t)?t.toLowerCase():t);this.attributes[n]=new I.Property(n,s.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue())for(var o,r,l,h=this.attribute("style").value.split(";"),i=0;i<h.length;i++){""!=I.trim(h[i])&&(o=h[i].split(":"),r=I.trim(o[0]),l=I.trim(o[1]),this.styles[r]=new I.Property(r,l))}for(this.attribute("id").hasValue()&&null==I.Definitions[this.attribute("id").value]&&(I.Definitions[this.attribute("id").value]=this),i=0;i<a.childNodes.length;i++){var d,c=a.childNodes[i];1==c.nodeType&&this.addChild(c,!0),!this.captureTextNodes||3!=c.nodeType&&4!=c.nodeType||(d=c.value||c.text||c.textContent||"",""!=I.compressSpaces(d)&&this.addChild(new I.Element.tspan(c),!1))}}},I.Element.RenderedElementBase=function(t){this.base=I.Element.ElementBase,this.base(t),this.calculateOpacity=function(){for(var t=1,e=this;null!=e;){var i=e.style("opacity",!1,!0);i.hasValue()&&(t*=i.numValue()),e=e.parent}return t},this.setContext=function(t,e){var i,s,n,a,o,r,l,h;e||(this.style("fill").isUrlDefinition()?null!=(i=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(t.fillStyle=i):this.style("fill").hasValue()&&("currentColor"==(s=this.style("fill")).value&&(s.value=this.style("color").value),"inherit"!=s.value&&(t.fillStyle="none"==s.value?"rgba(0,0,0,0)":s.value)),this.style("fill-opacity").hasValue()&&(s=(s=new I.Property("fill",t.fillStyle)).addOpacity(this.style("fill-opacity")),t.fillStyle=s.value),this.style("stroke").isUrlDefinition()?null!=(i=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(t.strokeStyle=i):this.style("stroke").hasValue()&&("currentColor"==(n=this.style("stroke")).value&&(n.value=this.style("color").value),"inherit"!=n.value&&(t.strokeStyle="none"==n.value?"rgba(0,0,0,0)":n.value)),this.style("stroke-opacity").hasValue()&&(n=(n=new I.Property("stroke",t.strokeStyle)).addOpacity(this.style("stroke-opacity")),t.strokeStyle=n.value),this.style("stroke-width").hasValue()&&(a=this.style("stroke-width").toPixels(),t.lineWidth=0==a?.001:a),this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),this.style("paint-order").hasValue()&&(t.paintOrder=this.style("paint-order").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value&&(o=I.ToNumberArray(this.style("stroke-dasharray").value),void 0!==t.setLineDash?t.setLineDash(o):void 0!==t.webkitLineDash?t.webkitLineDash=o:void 0===t.mozDash||1==o.length&&0==o[0]||(t.mozDash=o),r=this.style("stroke-dashoffset").toPixels(),void 0!==t.lineDashOffset?t.lineDashOffset=r:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=r:void 0!==t.mozDashOffset&&(t.mozDashOffset=r))),void 0!==t.font&&(this.style("font").hasValue()?t.font=this.style("font").value:(t.font=I.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString(),(l=this.style("font-size",!1,!1)).isPixels()&&(I.emSize=l.toPixels()))),this.style("transform",!1,!0).hasValue()&&new I.Transform(this.style("transform",!1,!0).value).apply(t),!this.style("clip-path",!1,!0).hasValue()||null!=(h=this.style("clip-path",!1,!0).getDefinition())&&h.apply(t),t.globalAlpha=this.calculateOpacity()}},I.Element.RenderedElementBase.prototype=new I.Element.ElementBase,I.Element.PathElementBase=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new I.BoundingBox},this.renderChildren=function(t){this.path(t),I.Mouse.checkPath(this,t),""!=t.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?t.fill(this.style("fill-rule").value):t.fill()),""!=t.strokeStyle&&t.stroke();var e=this.getMarkers();if(null!=e){if(this.style("marker-start").isUrlDefinition()&&(i=this.style("marker-start").getDefinition()).render(t,e[0][0],e[0][1]),this.style("marker-mid").isUrlDefinition())for(var i=this.style("marker-mid").getDefinition(),s=1;s<e.length-1;s++)i.render(t,e[s][0],e[s][1]);this.style("marker-end").isUrlDefinition()&&(i=this.style("marker-end").getDefinition()).render(t,e[e.length-1][0],e[e.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},I.Element.PathElementBase.prototype=new I.Element.RenderedElementBase,I.SetDefaults=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4},I.Element.svg=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),I.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){var e;I.SetDefaults(t),t.canvas.style&&void 0!==t.font&&void 0!==h.getComputedStyle&&(t.font=h.getComputedStyle(t.canvas).getPropertyValue("font"),(e=new I.Property("fontSize",I.Font.Parse(t.font).fontSize)).hasValue()&&(I.rootEmSize=I.emSize=e.toPixels("y"))),this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var i,s,n,a,o,r=I.ViewPort.width(),l=I.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root&&(r=this.attribute("width").toPixels("x"),l=this.attribute("height").toPixels("y"),s=i=0,this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),s=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(t.beginPath(),t.moveTo(i,s),t.lineTo(r,s),t.lineTo(r,l),t.lineTo(i,l),t.closePath(),t.clip())),I.ViewPort.SetCurrent(r,l),this.attribute("viewBox").hasValue()&&(a=(n=I.ToNumberArray(this.attribute("viewBox").value))[0],o=n[1],r=n[2],l=n[3],I.AspectRatio(t,this.attribute("preserveAspectRatio").value,I.ViewPort.width(),r,I.ViewPort.height(),l,a,o,this.attribute("refX").value,this.attribute("refY").value),I.ViewPort.RemoveCurrent(),I.ViewPort.SetCurrent(n[2],n[3]))}},I.Element.svg.prototype=new I.Element.RenderedElementBase,I.Element.rect=function(t){this.base=I.Element.PathElementBase,this.base(t),this.path=function(t){var e,i=this.attribute("x").toPixels("x"),s=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),o=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(r=o),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(o=r),o=Math.min(o,n/2),r=Math.min(r,a/2),null!=t&&(e=(Math.sqrt(2)-1)/3*4,t.beginPath(),0<a&&0<n&&(t.moveTo(i+o,s),t.lineTo(i+n-o,s),t.bezierCurveTo(i+n-o+e*o,s,i+n,s+r-e*r,i+n,s+r),t.lineTo(i+n,s+a-r),t.bezierCurveTo(i+n,s+a-r+e*r,i+n-o+e*o,s+a,i+n-o,s+a),t.lineTo(i+o,s+a),t.bezierCurveTo(i+o-e*o,s+a,i,s+a-r+e*r,i,s+a-r),t.lineTo(i,s+r),t.bezierCurveTo(i,s+r-e*r,i+o-e*o,s,i+o,s),t.closePath())),new I.BoundingBox(i,s,i+n,s+a)}},I.Element.rect.prototype=new I.Element.PathElementBase,I.Element.circle=function(t){this.base=I.Element.PathElementBase,this.base(t),this.path=function(t){var e=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),s=this.attribute("r").toPixels();return null!=t&&0<s&&(t.beginPath(),t.arc(e,i,s,0,2*Math.PI,!1),t.closePath()),new I.BoundingBox(e-s,i-s,e+s,i+s)}},I.Element.circle.prototype=new I.Element.PathElementBase,I.Element.ellipse=function(t){this.base=I.Element.PathElementBase,this.base(t),this.path=function(t){var e=(Math.sqrt(2)-1)/3*4,i=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y"),n=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=t&&(t.beginPath(),t.moveTo(n+i,a),t.bezierCurveTo(n+i,a+e*s,n+e*i,a+s,n,a+s),t.bezierCurveTo(n-e*i,a+s,n-i,a+e*s,n-i,a),t.bezierCurveTo(n-i,a-e*s,n-e*i,a-s,n,a-s),t.bezierCurveTo(n+e*i,a-s,n+i,a-e*s,n+i,a),t.closePath()),new I.BoundingBox(n-i,a-s,n+i,a+s)}},I.Element.ellipse.prototype=new I.Element.PathElementBase,I.Element.line=function(t){this.base=I.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new I.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new I.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var e=this.getPoints();return null!=t&&(t.beginPath(),t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y)),new I.BoundingBox(e[0].x,e[0].y,e[1].x,e[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},I.Element.line.prototype=new I.Element.PathElementBase,I.Element.polyline=function(t){this.base=I.Element.PathElementBase,this.base(t),this.points=I.CreatePath(this.attribute("points").value),this.path=function(t){var e=new I.BoundingBox(this.points[0].x,this.points[0].y);null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y));for(var i=1;i<this.points.length;i++)e.addPoint(this.points[i].x,this.points[i].y),null!=t&&t.lineTo(this.points[i].x,this.points[i].y);return e},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return 0<t.length&&t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},I.Element.polyline.prototype=new I.Element.PathElementBase,I.Element.polygon=function(t){this.base=I.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},I.Element.polygon.prototype=new I.Element.polyline,I.Element.path=function(t){this.base=I.Element.PathElementBase,this.base(t);for(var e=(e=this.attribute("d").value).replace(/,/gm," "),i=0;i<2;i++)e=e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");for(e=(e=e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2"),i=0;i<2;i++)e=e.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");e=e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),e=I.compressSpaces(e),e=I.trim(e),this.PathParser=new function(t){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new I.Point(0,0),this.control=new I.Point(0,0),this.current=new I.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new I.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new I.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,i){null!=i&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(i)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}},this.path=function(t){var e=this.PathParser;e.reset();var i=new I.BoundingBox;for(null!=t&&t.beginPath();!e.isEnd();)switch(e.nextCommand(),e.command){case"M":case"m":var s=e.getAsCurrentPoint();for(e.addMarker(s),i.addPoint(s.x,s.y),null!=t&&t.moveTo(s.x,s.y),e.start=e.current;!e.isCommandOrEnd();)s=e.getAsCurrentPoint(),e.addMarker(s,e.start),i.addPoint(s.x,s.y),null!=t&&t.lineTo(s.x,s.y);break;case"L":case"l":for(;!e.isCommandOrEnd();){var n=e.current,s=e.getAsCurrentPoint();e.addMarker(s,n),i.addPoint(s.x,s.y),null!=t&&t.lineTo(s.x,s.y)}break;case"H":case"h":for(;!e.isCommandOrEnd();){var a=new I.Point((e.isRelativeCommand()?e.current.x:0)+e.getScalar(),e.current.y);e.addMarker(a,e.current),e.current=a,i.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y)}break;case"V":case"v":for(;!e.isCommandOrEnd();)a=new I.Point(e.current.x,(e.isRelativeCommand()?e.current.y:0)+e.getScalar()),e.addMarker(a,e.current),e.current=a,i.addPoint(e.current.x,e.current.y),null!=t&&t.lineTo(e.current.x,e.current.y);break;case"C":case"c":for(;!e.isCommandOrEnd();){var o=e.current,r=e.getPoint(),l=e.getAsControlPoint(),h=e.getAsCurrentPoint();e.addMarker(h,l,r),i.addBezierCurve(o.x,o.y,r.x,r.y,l.x,l.y,h.x,h.y),null!=t&&t.bezierCurveTo(r.x,r.y,l.x,l.y,h.x,h.y)}break;case"S":case"s":for(;!e.isCommandOrEnd();)o=e.current,r=e.getReflectedControlPoint(),l=e.getAsControlPoint(),h=e.getAsCurrentPoint(),e.addMarker(h,l,r),i.addBezierCurve(o.x,o.y,r.x,r.y,l.x,l.y,h.x,h.y),null!=t&&t.bezierCurveTo(r.x,r.y,l.x,l.y,h.x,h.y);break;case"Q":case"q":for(;!e.isCommandOrEnd();)o=e.current,l=e.getAsControlPoint(),h=e.getAsCurrentPoint(),e.addMarker(h,l,l),i.addQuadraticCurve(o.x,o.y,l.x,l.y,h.x,h.y),null!=t&&t.quadraticCurveTo(l.x,l.y,h.x,h.y);break;case"T":case"t":for(;!e.isCommandOrEnd();)o=e.current,l=e.getReflectedControlPoint(),e.control=l,h=e.getAsCurrentPoint(),e.addMarker(h,l,l),i.addQuadraticCurve(o.x,o.y,l.x,l.y,h.x,h.y),null!=t&&t.quadraticCurveTo(l.x,l.y,h.x,h.y);break;case"A":case"a":for(;!e.isCommandOrEnd();){o=e.current;var d=e.getScalar(),c=e.getScalar(),u=e.getScalar()*(Math.PI/180),p=e.getScalar(),g=e.getScalar(),f=(h=e.getAsCurrentPoint(),new I.Point(Math.cos(u)*(o.x-h.x)/2+Math.sin(u)*(o.y-h.y)/2,-Math.sin(u)*(o.x-h.x)/2+Math.cos(u)*(o.y-h.y)/2)),m=Math.pow(f.x,2)/Math.pow(d,2)+Math.pow(f.y,2)/Math.pow(c,2);1<m&&(d*=Math.sqrt(m),c*=Math.sqrt(m));var v=(p==g?-1:1)*Math.sqrt((Math.pow(d,2)*Math.pow(c,2)-Math.pow(d,2)*Math.pow(f.y,2)-Math.pow(c,2)*Math.pow(f.x,2))/(Math.pow(d,2)*Math.pow(f.y,2)+Math.pow(c,2)*Math.pow(f.x,2)));isNaN(v)&&(v=0);var y=new I.Point(v*d*f.y/c,v*-c*f.x/d),b=new I.Point((o.x+h.x)/2+Math.cos(u)*y.x-Math.sin(u)*y.y,(o.y+h.y)/2+Math.sin(u)*y.x+Math.cos(u)*y.y),w=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},k=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(w(t)*w(e))},x=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(k(t,e))},_=x([1,0],[(f.x-y.x)/d,(f.y-y.y)/c]),C=[(f.x-y.x)/d,(f.y-y.y)/c],E=[(-f.x-y.x)/d,(-f.y-y.y)/c],P=x(C,E);k(C,E)<=-1&&(P=Math.PI),1<=k(C,E)&&(P=0);var T,S,M=1-g?1:-1,j=_+P/2*M,z=new I.Point(b.x+d*Math.cos(j),b.y+c*Math.sin(j));e.addMarkerAngle(z,j-M*Math.PI/2),e.addMarkerAngle(h,j-M*Math.PI),i.addPoint(h.x,h.y),null==t||isNaN(_)||isNaN(P)||(k=c<d?d:c,T=c<d?1:d/c,S=c<d?c/d:1,t.translate(b.x,b.y),t.rotate(u),t.scale(T,S),t.arc(0,0,k,_,_+P,1-g),t.scale(1/T,1/S),t.rotate(-u),t.translate(-b.x,-b.y))}break;case"Z":case"z":null!=t&&i.x1!==i.x2&&i.y1!==i.y2&&t.closePath(),e.current=e.start}return i},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),i=[],s=0;s<t.length;s++)i.push([t[s],e[s]]);return i}},I.Element.path.prototype=new I.Element.PathElementBase,I.Element.pattern=function(t){this.base=I.Element.ElementBase,this.base(t),this.createPattern=function(t,e,i){var s=this.attribute("width").toPixels("x",!0),n=this.attribute("height").toPixels("y",!0),a=new I.Element.svg;a.attributes.viewBox=new I.Property("viewBox",this.attribute("viewBox").value),a.attributes.width=new I.Property("width",s+"px"),a.attributes.height=new I.Property("height",n+"px"),a.attributes.transform=new I.Property("transform",this.attribute("patternTransform").value),a.children=this.children;var o=g(s,n),r=o.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&r.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0)),i.hasValue()?this.styles["fill-opacity"]=i:delete this.styles["fill-opacity"];for(var l=-1;l<=1;l++)for(var h=-1;h<=1;h++)r.save(),a.attributes.x=new I.Property("x",l*o.width),a.attributes.y=new I.Property("y",h*o.height),a.render(r),r.restore();return t.createPattern(o,"repeat")}},I.Element.pattern.prototype=new I.Element.ElementBase,I.Element.marker=function(t){this.base=I.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,e,i){var s;e&&(t.translate(e.x,e.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(i),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save(),(s=new I.Element.svg).attributes.viewBox=new I.Property("viewBox",this.attribute("viewBox").value),s.attributes.refX=new I.Property("refX",this.attribute("refX").value),s.attributes.refY=new I.Property("refY",this.attribute("refY").value),s.attributes.width=new I.Property("width",this.attribute("markerWidth").value),s.attributes.height=new I.Property("height",this.attribute("markerHeight").value),s.attributes.fill=new I.Property("fill",this.attribute("fill").valueOrDefault("black")),s.attributes.stroke=new I.Property("stroke",this.attribute("stroke").valueOrDefault("none")),s.children=this.children,s.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-i),t.translate(-e.x,-e.y))}},I.Element.marker.prototype=new I.Element.ElementBase,I.Element.defs=function(t){this.base=I.Element.ElementBase,this.base(t),this.render=function(){}},I.Element.defs.prototype=new I.Element.ElementBase,I.Element.GradientBase=function(t){this.base=I.Element.ElementBase,this.base(t),this.stops=[];for(var e=0;e<this.children.length;e++){var i=this.children[e];"stop"==i.type&&this.stops.push(i)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(t){for(var e=0;e<this.attributesToInherit.length;e++){var i=this.attributesToInherit[e];!this.attribute(i).hasValue()&&t.attribute(i).hasValue()&&(this.attribute(i,!0).value=t.attribute(i).value)}},this.createGradient=function(t,e,i){var s=this;this.getHrefAttribute().hasValue()&&(s=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(s));function n(t){return i.hasValue()?new I.Property("color",t).addOpacity(i).value:t}var a=this.getGradient(t,e);if(null==a)return n(s.stops[s.stops.length-1].color);for(var o=0;o<s.stops.length;o++)a.addColorStop(s.stops[o].offset,n(s.stops[o].color));if(this.attribute("gradientTransform").hasValue()){var r=I.ViewPort.viewPorts[0],l=new I.Element.rect;l.attributes.x=new I.Property("x",-I.MAX_VIRTUAL_PIXELS/3),l.attributes.y=new I.Property("y",-I.MAX_VIRTUAL_PIXELS/3),l.attributes.width=new I.Property("width",I.MAX_VIRTUAL_PIXELS),l.attributes.height=new I.Property("height",I.MAX_VIRTUAL_PIXELS);var h=new I.Element.g;h.attributes.transform=new I.Property("transform",this.attribute("gradientTransform").value),h.children=[l];var d=new I.Element.svg;d.attributes.x=new I.Property("x",0),d.attributes.y=new I.Property("y",0),d.attributes.width=new I.Property("width",r.width),d.attributes.height=new I.Property("height",r.height),d.children=[h];var c=g(r.width,r.height),u=c.getContext("2d");return u.fillStyle=a,d.render(u),u.createPattern(c,"no-repeat")}return a}},I.Element.GradientBase.prototype=new I.Element.ElementBase,I.Element.linearGradient=function(t){this.base=I.Element.GradientBase,this.base(t),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(t,e){var i="objectBoundingBox"==this.gradientUnits()?e.getBoundingBox(t):null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var s="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),n="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),o="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return s==a&&n==o?null:t.createLinearGradient(s,n,a,o)}},I.Element.linearGradient.prototype=new I.Element.GradientBase,I.Element.radialGradient=function(t){this.base=I.Element.GradientBase,this.base(t),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.attributesToInherit.push("fr"),this.getGradient=function(t,e){var i=e.getBoundingBox(t);this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var s="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),n="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=s,o=n;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(o="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var r="objectBoundingBox"==this.gradientUnits()?(i.width()+i.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels(),l=this.attribute("fr").toPixels();return t.createRadialGradient(a,o,l,s,n,r)}},I.Element.radialGradient.prototype=new I.Element.GradientBase,I.Element.stop=function(t){this.base=I.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),1<this.offset&&(this.offset=1);var e=this.style("stop-color",!0);""===e.value&&(e.value="#000"),this.style("stop-opacity").hasValue()&&(e=e.addOpacity(this.style("stop-opacity"))),this.color=e.value},I.Element.stop.prototype=new I.Element.ElementBase,I.Element.AnimateBase=function(t){this.base=I.Element.ElementBase,this.base(t),I.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+t;var e,i=!1;return this.begin<this.duration&&(e=this.calcValue(),this.attribute("type").hasValue()&&(e=this.attribute("type").value+"("+e+")"),this.getProperty().value=e,i=!0),i},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t,e,i,s={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};return this.values.hasValue()?(t=s.progress*(this.values.value.length-1),e=Math.floor(t),i=Math.ceil(t),s.from=new I.Property("from",parseFloat(this.values.value[e])),s.to=new I.Property("to",parseFloat(this.values.value[i])),s.progress=(t-e)/(i-e)):(s.from=this.from,s.to=this.to),s}},I.Element.AnimateBase.prototype=new I.Element.ElementBase,I.Element.animate=function(t){this.base=I.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return"%"===this.initialUnits&&(e*=100),e+this.initialUnits}},I.Element.animate.prototype=new I.Element.AnimateBase,I.Element.animateColor=function(t){this.base=I.Element.AnimateBase,this.base(t),this.calcValue=function(){var t=this.progress(),e=new m(t.from.value),i=new m(t.to.value);if(e.ok&&i.ok){var s=e.r+(i.r-e.r)*t.progress,n=e.g+(i.g-e.g)*t.progress,a=e.b+(i.b-e.b)*t.progress;return"rgb("+parseInt(s,10)+","+parseInt(n,10)+","+parseInt(a,10)+")"}return this.attribute("from").value}},I.Element.animateColor.prototype=new I.Element.AnimateBase,I.Element.animateTransform=function(t){this.base=I.Element.AnimateBase,this.base(t),this.calcValue=function(){for(var t=this.progress(),e=I.ToNumberArray(t.from.value),i=I.ToNumberArray(t.to.value),s="",n=0;n<e.length;n++)s+=e[n]+(i[n]-e[n])*t.progress+" ";return s}},I.Element.animateTransform.prototype=new I.Element.animate,I.Element.font=function(t){this.base=I.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var e=0;e<this.children.length;e++){var i=this.children[e];"font-face"==i.type?(this.fontFace=i).style("font-family").hasValue()&&(I.Definitions[i.style("font-family").value]=this):"missing-glyph"==i.type?this.missingGlyph=i:"glyph"==i.type&&(""!=i.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[i.unicode]&&(this.glyphs[i.unicode]=[]),this.glyphs[i.unicode][i.arabicForm]=i):this.glyphs[i.unicode]=i)}this.render=function(){}},I.Element.font.prototype=new I.Element.ElementBase,I.Element.fontface=function(t){this.base=I.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},I.Element.fontface.prototype=new I.Element.ElementBase,I.Element.missingglyph=function(t){this.base=I.Element.path,this.base(t),this.horizAdvX=0},I.Element.missingglyph.prototype=new I.Element.path,I.Element.glyph=function(t){this.base=I.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},I.Element.glyph.prototype=new I.Element.path,I.Element.text=function(t){this.captureTextNodes=!0,this.base=I.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t);var e=this.style("dominant-baseline").toTextBaseline();null==e&&(e=this.style("alignment-baseline").toTextBaseline()),null!=e&&(t.textBaseline=e)},this.initializeCoordinates=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(t,this,0)},this.getBoundingBox=function(t){this.initializeCoordinates(t);for(var e=null,i=0;i<this.children.length;i++){var s=this.getChildBoundingBox(t,this,this,i);null==e?e=s:e.addBoundingBox(s)}return e},this.renderChildren=function(t){this.initializeCoordinates(t);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,this,e);I.Mouse.checkBoundingBox(this,this.getBoundingBox(t))},this.getAnchorDelta=function(t,e,i){var s=this.style("text-anchor").valueOrDefault("start");if("start"==s)return 0;for(var n=0,a=i;a<e.children.length;a++){var o=e.children[a];if(i<a&&o.attribute("x").hasValue())break;n+=o.measureTextRecursive(t)}return-1*("end"==s?n:n/2)},this.adjustChildCoordinates=function(t,e,i,s){var n,a,o=i.children[s];return"function"!=typeof o.measureText||(o.attribute("x").hasValue()?(o.x=o.attribute("x").toPixels("x")+e.getAnchorDelta(t,i,s),"start"!==(n=o.attribute("text-anchor").valueOrDefault("start"))&&(a=o.measureTextRecursive(t),o.x+=-1*("end"==n?a:a/2)),o.attribute("dx").hasValue()&&(o.x+=o.attribute("dx").toPixels("x"))):(o.attribute("dx").hasValue()&&(e.x+=o.attribute("dx").toPixels("x")),o.x=e.x),e.x=o.x+o.measureText(t),o.attribute("y").hasValue()?(o.y=o.attribute("y").toPixels("y"),o.attribute("dy").hasValue()&&(o.y+=o.attribute("dy").toPixels("y"))):(o.attribute("dy").hasValue()&&(e.y+=o.attribute("dy").toPixels("y")),o.y=e.y),e.y=o.y),o},this.getChildBoundingBox=function(t,e,i,s){var n=this.adjustChildCoordinates(t,e,i,s),a=n.getBoundingBox(t);for(s=0;s<n.children.length;s++){var o=e.getChildBoundingBox(t,e,n,s);a.addBoundingBox(o)}return a},this.renderChild=function(t,e,i,s){var n=this.adjustChildCoordinates(t,e,i,s);for(n.render(t),s=0;s<n.children.length;s++)e.renderChild(t,e,n,s)}},I.Element.text.prototype=new I.Element.RenderedElementBase,I.Element.TextElementBase=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.getGlyph=function(t,e,i){var s,n=e[i],a=null;return t.isArabic?(s="isolated",(0==i||" "==e[i-1])&&i<e.length-2&&" "!=e[i+1]&&(s="terminal"),0<i&&" "!=e[i-1]&&i<e.length-2&&" "!=e[i+1]&&(s="medial"),0<i&&" "!=e[i-1]&&(i==e.length-1||" "==e[i+1])&&(s="initial"),void 0!==t.glyphs[n]&&null==(a=t.glyphs[n][s])&&"glyph"==t.glyphs[n].type&&(a=t.glyphs[n])):a=t.glyphs[n],null==a&&(a=t.missingGlyph),a},this.renderChildren=function(t){var e=this.parent.style("font-family").getDefinition();if(null==e)"stroke"==t.paintOrder?(""!=t.strokeStyle&&t.strokeText(I.compressSpaces(this.getText()),this.x,this.y),""!=t.fillStyle&&t.fillText(I.compressSpaces(this.getText()),this.x,this.y)):(""!=t.fillStyle&&t.fillText(I.compressSpaces(this.getText()),this.x,this.y),""!=t.strokeStyle&&t.strokeText(I.compressSpaces(this.getText()),this.x,this.y));else{var i=this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize),s=this.parent.style("font-style").valueOrDefault(I.Font.Parse(I.ctx.font).fontStyle),n=this.getText();e.isRTL&&(n=n.split("").reverse().join(""));for(var a=I.ToNumberArray(this.parent.attribute("dx").value),o=0;o<n.length;o++){var r=this.getGlyph(e,n,o),l=i/e.fontFace.unitsPerEm;t.translate(this.x,this.y),t.scale(l,-l);var h=t.lineWidth;t.lineWidth=t.lineWidth*e.fontFace.unitsPerEm/i,"italic"==s&&t.transform(1,0,.4,1,0,0),r.render(t),"italic"==s&&t.transform(1,0,-.4,1,0,0),t.lineWidth=h,t.scale(1/l,-1/l),t.translate(-this.x,-this.y),this.x+=i*(r.horizAdvX||e.horizAdvX)/e.fontFace.unitsPerEm,void 0===a[o]||isNaN(a[o])||(this.x+=a[o])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),i=0;i<this.children.length;i++)e+=this.children[i].measureTextRecursive(t);return e},this.measureText=function(t){var e=this.parent.style("font-family").getDefinition();if(null!=e){var i=this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize),s=0,n=this.getText();e.isRTL&&(n=n.split("").reverse().join(""));for(var a=I.ToNumberArray(this.parent.attribute("dx").value),o=0;o<n.length;o++)s+=(this.getGlyph(e,n,o).horizAdvX||e.horizAdvX)*i/e.fontFace.unitsPerEm,void 0===a[o]||isNaN(a[o])||(s+=a[o]);return s}var r=I.compressSpaces(this.getText());if(!t.measureText)return 10*r.length;t.save(),this.setContext(t,!0);var l=t.measureText(r).width;return t.restore(),l},this.getBoundingBox=function(t){var e=this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize);return new I.BoundingBox(this.x,this.y-e,this.x+this.measureText(t),this.y)}},I.Element.TextElementBase.prototype=new I.Element.RenderedElementBase,I.Element.tspan=function(t){this.captureTextNodes=!0,this.base=I.Element.TextElementBase,this.base(t),this.text=I.compressSpaces(t.value||t.text||t.textContent||""),this.getText=function(){return 0<this.children.length?"":this.text}},I.Element.tspan.prototype=new I.Element.TextElementBase,I.Element.tref=function(t){this.base=I.Element.TextElementBase,this.base(t),this.getText=function(){var t=this.getHrefAttribute().getDefinition();if(null!=t)return t.children[0].getText()}},I.Element.tref.prototype=new I.Element.TextElementBase,I.Element.a=function(t){this.base=I.Element.TextElementBase,this.base(t),this.hasText=0<t.childNodes.length;for(var e=0;e<t.childNodes.length;e++)3!=t.childNodes[e].nodeType&&(this.hasText=!1);this.text=this.hasText?t.childNodes[0].value||t.childNodes[0].data:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){var e,i;this.hasText?(this.baseRenderChildren(t),e=new I.Property("fontSize",I.Font.Parse(I.ctx.font).fontSize),I.Mouse.checkBoundingBox(this,new I.BoundingBox(this.x,this.y-e.toPixels("y"),this.x+this.measureText(t),this.y))):0<this.children.length&&((i=new I.Element.g).children=this.children,i.parent=this,i.render(t))},this.onclick=function(){h.open(this.getHrefAttribute().value)},this.onmousemove=function(){I.ctx.canvas.style.cursor="pointer"}},I.Element.a.prototype=new I.Element.TextElementBase,I.Element.textPath=function(t){this.base=I.Element.TextElementBase,this.base(t);var e=this.getHrefAttribute().getDefinition();this.text=I.compressSpaces(t.value||t.text||t.textContent||""),this.renderChildren=function(t){this.setTextData(t),t.save();var e=this.parent.style("text-decoration").value,i=this.fontSize(),s=this.glyphInfo,n=t.fillStyle;"underline"===e&&t.beginPath();for(var a=0;a<s.length;a++){var o=s[a].p0,r=s[a].p1,l=s[a].text;t.save(),t.translate(o.x,o.y),t.rotate(s[a].rotation),""!=t.fillStyle&&t.fillText(I.compressSpaces(l),0,0),""!=t.strokeStyle&&t.strokeText(I.compressSpaces(l),0,0),t.restore(),"underline"===e&&(0===a&&t.moveTo(o.x,o.y+i/8),t.lineTo(r.x,r.y+i/5))}"underline"===e&&(t.lineWidth=i/20,t.strokeStyle=n,t.stroke(),t.closePath()),t.restore()},this.path=function(t){var e=this.dataArray;null!=t&&t.beginPath();for(var i=0;i<e.length;i++){var s=e[i].command,n=e[i].points;switch(s){case"L":null!=t&&t.lineTo(n[0],n[1]);break;case"M":null!=t&&t.moveTo(n[0],n[1]);break;case"C":null!=t&&t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"Q":null!=t&&t.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case"A":var a=n[0],o=n[1],r=n[2],l=n[3],h=n[4],d=n[5],c=n[6],u=n[7],p=l<r?r:l,g=l<r?1:r/l,f=l<r?l/r:1;null!=t&&(t.translate(a,o),t.rotate(c),t.scale(g,f),t.arc(0,0,p,h,h+d,1-u),t.scale(1/g,1/f),t.rotate(-c),t.translate(-a,-o));break;case"z":null!=t&&t.closePath()}}},this.getText=function(){return this.text},this.fontSize=function(){return this.parent.style("font-size").numValueOrDefault(I.Font.Parse(I.ctx.font).fontSize)},this.measureText=function(t,e){var i=this.parent.style("font-family").getDefinition();if(e=e||this.getText(),null!=i){var s=this.fontSize(),n=0;i.isRTL&&(e=e.split("").reverse().join(""));for(var a=I.ToNumberArray(this.parent.attribute("dx").value),o=0;o<e.length;o++)n+=(this.getGlyph(i,e,o).horizAdvX||i.horizAdvX)*s/i.fontFace.unitsPerEm,void 0===a[o]||isNaN(a[o])||(n+=a[o]);return n}var r=I.compressSpaces(e);if(!t.measureText)return 10*r.length;t.save(),this.setContext(t);var l=t.measureText(r).width;return t.restore(),l},this.setTextData=function(o){if(!this.hasOwnProperty("glyphInfo")){var r=this,t=this.getText().split(""),l=this.getText().split(" ").length-1,e=I.ToNumberArray(this.parent.attribute("dx").valueOrDefault("0")),i=0,h=this.parent.style("text-anchor").valueOrDefault("start"),s=this.style("letter-spacing"),n=this.parent.style("letter-spacing");s.hasValue()&&"inherit"!==s.getValue()?s.hasValue()&&"initial"!==s.getValue()&&"unset"!==s.getValue()&&(i=s.toPixels()):i=n.toPixels(),this.letterSpacingCache=[];for(var a=0;a<this.getText().length;a++)this.letterSpacingCache.push(void 0!==e[a]?e[a]:i);var d=this.letterSpacingCache.reduce(function(t,e){return t+e||0},0);this.textWidth=this.measureText(o),this.textHeight=this.fontSize();var c=Math.max(this.textWidth+d,0);this.glyphInfo=[];var u=this.getPathLength(),p=this.style("startOffset").numValueOrDefault(0)*u,g="end"!==h&&"right"!==h?"middle"!==h&&"center"!==h?0:-c/2:-c;g+=p;for(a=0;a<t.length;a++){var f,m,v,y=function(t,e){var i,s=r.measureText(o,t);" "===t&&"justify"===h&&c<u&&(s+=(u-c)/l),-1<e&&(g+=(i=(i=e)||0,r.letterSpacingCache[i]||0));var n=r.textHeight/20,a={p0:r.getEquidistantPointOnPath(g,n),p1:r.getEquidistantPointOnPath(g+s,n)};return g+=s,a}(t[a],a);void 0!==y.p0&&void 0!==y.p1&&(f=r.getLineLength(y.p0.x,y.p0.y,y.p1.x,y.p1.y),m=r.getPointOnLine(0+f/2,y.p0.x,y.p0.y,y.p1.x,y.p1.y),v=Math.atan2(y.p1.y-y.p0.y,y.p1.x-y.p0.x),this.glyphInfo.push({transposeX:m.x,transposeY:m.y,text:t[a],rotation:v,p0:y.p0,p1:y.p1}))}}},this.parsePathData=function(t){if(this.pathLength=void 0,!t)return[];var e=[],i=t.PathParser;for(i.reset();!i.isEnd();){var s=[],n=null,a=i.current?i.current.x:0,o=i.current?i.current.y:0;i.nextCommand();var r=i.command.toUpperCase();switch(i.command){case"M":case"m":var l=i.getAsCurrentPoint();for(s.push(l.x,l.y),i.start=i.current;!i.isCommandOrEnd();)l=i.getAsCurrentPoint(),s.push(l.x,l.y),n="L";break;case"L":case"l":for(;!i.isCommandOrEnd();)l=i.getAsCurrentPoint(),s.push(l.x,l.y);n="L";break;case"H":case"h":for(;!i.isCommandOrEnd();){var h=new I.Point((i.isRelativeCommand()?i.current.x:0)+i.getScalar(),i.current.y);s.push(h.x,h.y),i.current=h}n="L";break;case"V":case"v":for(;!i.isCommandOrEnd();)h=new I.Point(i.current.x,(i.isRelativeCommand()?i.current.y:0)+i.getScalar()),s.push(h.x,h.y),i.current=h;n="L";break;case"C":case"c":for(;!i.isCommandOrEnd();){var d=i.getPoint(),c=i.getAsControlPoint(),u=i.getAsCurrentPoint();s.push(d.x,d.y,c.x,c.y,u.x,u.y)}break;case"S":case"s":for(;!i.isCommandOrEnd();)d=i.getReflectedControlPoint(),c=i.getAsControlPoint(),u=i.getAsCurrentPoint(),s.push(d.x,d.y,c.x,c.y,u.x,u.y);n="C";break;case"Q":case"q":for(;!i.isCommandOrEnd();)c=i.getAsControlPoint(),u=i.getAsCurrentPoint(),s.push(c.x,c.y,u.x,u.y);break;case"T":case"t":for(;!i.isCommandOrEnd();)c=i.getReflectedControlPoint(),i.control=c,u=i.getAsCurrentPoint(),s.push(c.x,c.y,u.x,u.y);n="Q";break;case"A":case"a":for(;!i.isCommandOrEnd();){var p=i.current,g=i.getScalar(),f=i.getScalar(),m=i.getScalar()*(Math.PI/180),v=i.getScalar(),y=i.getScalar(),b=(u=i.getAsCurrentPoint(),new I.Point(Math.cos(m)*(p.x-u.x)/2+Math.sin(m)*(p.y-u.y)/2,-Math.sin(m)*(p.x-u.x)/2+Math.cos(m)*(p.y-u.y)/2)),w=Math.pow(b.x,2)/Math.pow(g,2)+Math.pow(b.y,2)/Math.pow(f,2);1<w&&(g*=Math.sqrt(w),f*=Math.sqrt(w));var k=(v==y?-1:1)*Math.sqrt((Math.pow(g,2)*Math.pow(f,2)-Math.pow(g,2)*Math.pow(b.y,2)-Math.pow(f,2)*Math.pow(b.x,2))/(Math.pow(g,2)*Math.pow(b.y,2)+Math.pow(f,2)*Math.pow(b.x,2)));isNaN(k)&&(k=0);var x=new I.Point(k*g*b.y/f,k*-f*b.x/g),_=new I.Point((p.x+u.x)/2+Math.cos(m)*x.x-Math.sin(m)*x.y,(p.y+u.y)/2+Math.sin(m)*x.x+Math.cos(m)*x.y),C=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},E=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(C(t)*C(e))},P=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(E(t,e))},T=P([1,0],[(b.x-x.x)/g,(b.y-x.y)/f]),S=[(b.x-x.x)/g,(b.y-x.y)/f],M=[(-b.x-x.x)/g,(-b.y-x.y)/f],j=P(S,M);E(S,M)<=-1&&(j=Math.PI),1<=E(S,M)&&(j=0),0===y&&0<j&&(j-=2*Math.PI),1===y&&j<0&&(j+=2*Math.PI),s=[_.x,_.y,g,f,T,j,m,y]}break;case"Z":case"z":i.current=i.start}"Z"!==r?e.push({command:n||r,points:s,start:{x:a,y:o},pathLength:this.calcLength(a,o,n||r,s)}):e.push({command:"z",points:[],start:void 0,pathLength:0})}return e},this.getPathLength=function(){if(void 0===this.pathLength||null===this.pathLength||isNaN(this.pathLength))for(var t=this.pathLength=0;t<this.dataArray.length;t++)0<this.dataArray[t].pathLength&&(this.pathLength+=this.dataArray[t].pathLength);return this.pathLength},this.getPointOnPath=function(t){var e=0,i=this.getPathLength(),s=void 0;if(!(t<-5e-5||i<t-5e-5))for(var n=0;n<this.dataArray.length;n++){var a=this.dataArray[n];if(!a||!(a.pathLength<5e-5||e+a.pathLength+5e-5<t)){var o=t-e,r=void 0;switch(a.command){case"L":s=this.getPointOnLine(o,a.start.x,a.start.y,a.points[0],a.points[1],a.start.x,a.start.y);break;case"A":var l=a.points[4],h=a.points[5],d=a.points[4]+h,r=l+o/a.pathLength*h;if(h<0&&r<d||0<=h&&d<r)break;s=this.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],r,a.points[6]);break;case"C":1<(r=o/a.pathLength)&&(r=1),s=this.getPointOnCubicBezier(r,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case"Q":1<(r=o/a.pathLength)&&(r=1),s=this.getPointOnQuadraticBezier(r,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3])}if(void 0!==s&&s!=={})return s;break}e+=a.pathLength}},this.buildEquidistantCache=function(t,e){var i=this.getPathLength();if(e=e||.25,t=t||i/100,this.equidistantCache=this.equidistantCache||{},!this.equidistantCache.hasOwnProperty("points")||this.equidistantCache.step!=t||this.equidistantCache.precision!=e){this.equidistantCache={step:t,precision:e,points:[]};for(var s=0,n=0;n<=i;n+=e){var a=this.getPointOnPath(n),o=this.getPointOnPath(n+e);void 0!==a&&void 0!==o&&t<=(s+=this.getLineLength(a.x,a.y,o.x,o.y))&&(this.equidistantCache.points.push({x:a.x,y:a.y,distance:n}),s-=t)}}},this.getEquidistantPointOnPath=function(t,e,i){if(this.buildEquidistantCache(e,i),!(t<0||5e-5<t-this.getPathLength())){var s=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[s]||void 0}},this.getLineLength=function(t,e,i,s){return Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))},this.getPointOnLine=function(t,e,i,s,n,a,o){void 0===a&&(a=e),void 0===o&&(o=i);var r=(n-i)/(s-e+1e-8),l=Math.sqrt(t*t/(1+r*r));s<e&&(l*=-1);var h,d=r*l;if(s===e)h={x:a,y:o+d};else if((o-i)/(a-e+1e-8)==r)h={x:a+l,y:o+d};else{var c=this.getLineLength(e,i,s,n);if(c<1e-8)return;var u=(a-e)*(s-e)+(o-i)*(n-i),p=e+(u/=c*c)*(s-e),g=i+u*(n-i),f=this.getLineLength(a,o,p,g),m=Math.sqrt(t*t-f*f),l=Math.sqrt(m*m/(1+r*r));s<e&&(l*=-1),h={x:p+l,y:g+(d=r*l)}}return h},this.getPointOnCubicBezier=function(t,e,i,s,n,a,o,r,l){function h(t){return t*t*t}function d(t){return 3*t*t*(1-t)}function c(t){return 3*t*(1-t)*(1-t)}function u(t){return(1-t)*(1-t)*(1-t)}return{x:r*h(t)+a*d(t)+s*c(t)+e*u(t),y:l*h(t)+o*d(t)+n*c(t)+i*u(t)}},this.getPointOnQuadraticBezier=function(t,e,i,s,n,a,o){function r(t){return t*t}function l(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}return{x:a*r(t)+s*l(t)+e*h(t),y:o*r(t)+n*l(t)+i*h(t)}},this.getPointOnEllipticalArc=function(t,e,i,s,n,a){var o=Math.cos(a),r=Math.sin(a),l=i*Math.cos(n),h=s*Math.sin(n);return{x:t+(l*o-h*r),y:e+(l*r+h*o)}},this.calcLength=function(t,e,i,s){var n,a,o,r;switch(i){case"L":return this.getLineLength(t,e,s[0],s[1]);case"C":for(n=0,a=this.getPointOnCubicBezier(0,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),r=.01;r<=1;r+=.01)o=this.getPointOnCubicBezier(r,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),n+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return n;case"Q":for(n=0,a=this.getPointOnQuadraticBezier(0,t,e,s[0],s[1],s[2],s[3]),r=.01;r<=1;r+=.01)o=this.getPointOnQuadraticBezier(r,t,e,s[0],s[1],s[2],s[3]),n+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return n;case"A":n=0;var l=s[4],h=s[5],d=s[4]+h,c=Math.PI/180;if(Math.abs(l-d)<c&&(c=Math.abs(l-d)),a=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],l,0),h<0)for(r=l-c;d<r;r-=c)o=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],r,0),n+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(r=l+c;r<d;r+=c)o=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],r,0),n+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],d,0),n+this.getLineLength(a.x,a.y,o.x,o.y)}return 0},this.dataArray=this.parsePathData(e)},I.Element.textPath.prototype=new I.Element.TextElementBase,I.Element.image=function(t){this.base=I.Element.RenderedElementBase,this.base(t);var a,o,e=this.getHrefAttribute().value;""!=e&&(a=e.match(/\.svg$/),I.Images.push(this),this.loaded=!1,a?(this.img=I.ajax(e),this.loaded=!0):(this.img=c.createElement("img"),1==I.opts.useCORS&&(this.img.crossOrigin="Anonymous"),(o=this).img.onload=function(){o.loaded=!0},this.img.onerror=function(){I.log('ERROR: image "'+e+'" not found'),o.loaded=!0},this.img.src=e),this.renderChildren=function(t){var e=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),s=this.attribute("width").toPixels("x"),n=this.attribute("height").toPixels("y");0!=s&&0!=n&&(t.save(),a?t.drawSvg(this.img,e,i,s,n):(t.translate(e,i),I.AspectRatio(t,this.attribute("preserveAspectRatio").value,s,this.img.width,n,this.img.height,0,0),o.loaded&&(void 0===this.img.complete||this.img.complete)&&t.drawImage(this.img,0,0)),t.restore())},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");return new I.BoundingBox(t,e,t+i,e+s)})},I.Element.image.prototype=new I.Element.RenderedElementBase,I.Element.g=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(t){for(var e=new I.BoundingBox,i=0;i<this.children.length;i++)e.addBoundingBox(this.children[i].getBoundingBox(t));return e}},I.Element.g.prototype=new I.Element.RenderedElementBase,I.Element.symbol=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.render=function(){}},I.Element.symbol.prototype=new I.Element.RenderedElementBase,I.ParseExternalUrl=function(t){var e=t.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[];return e[2]||e[3]||e[4]},I.Element.style=function(t){this.base=I.Element.ElementBase,this.base(t);for(var e="",i=0;i<t.childNodes.length;i++)e+=t.childNodes[i].data;e=e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");for(var s=(e=I.compressSpaces(e)).split("}"),i=0;i<s.length;i++)if(""!=I.trim(s[i]))for(var n=s[i].split("{"),a=n[0].split(","),o=n[1].split(";"),r=0;r<a.length;r++){var l=I.trim(a[r]);if(""!=l){for(var h=I.Styles[l]||{},d=0;d<o.length;d++){var c=o[d].indexOf(":"),u=o[d].substr(0,c),p=o[d].substr(c+1,o[d].length-c);null!=u&&null!=p&&(h[I.trim(u)]=new I.Property(I.trim(u),I.trim(p)))}if(I.Styles[l]=h,I.StylesSpecificity[l]=k(l),"@font-face"==l)for(var g=h["font-family"].value.replace(/"/g,""),f=h.src.value.split(","),m=0;m<f.length;m++)if(0<f[m].indexOf('format("svg")')){var v=I.ParseExternalUrl(f[m]);if(v)for(var y=I.parseXml(I.ajax(v)).getElementsByTagName("font"),b=0;b<y.length;b++){var w=I.CreateElement(y[b]);I.Definitions[g]=w}}}}},I.Element.style.prototype=new I.Element.ElementBase,I.Element.use=function(t){this.base=I.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))};var s=this.getHrefAttribute().getDefinition();this.path=function(t){null!=s&&s.path(t)},this.elementTransform=function(){if(null!=s&&s.style("transform",!1,!0).hasValue())return new I.Transform(s.style("transform",!1,!0).value)},this.getBoundingBox=function(t){if(null!=s)return s.getBoundingBox(t)},this.renderChildren=function(t){var e,i;null!=s&&("symbol"==(e=s).type&&((e=new I.Element.svg).type="svg",e.attributes.viewBox=new I.Property("viewBox",s.attribute("viewBox").value),e.attributes.preserveAspectRatio=new I.Property("preserveAspectRatio",s.attribute("preserveAspectRatio").value),e.attributes.overflow=new I.Property("overflow",s.attribute("overflow").value),e.children=s.children),"svg"==e.type&&(this.attribute("width").hasValue()&&(e.attributes.width=new I.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(e.attributes.height=new I.Property("height",this.attribute("height").value))),i=e.parent,e.parent=null,e.render(t),e.parent=i)}},I.Element.use.prototype=new I.Element.RenderedElementBase,I.Element.mask=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(t,e){var i=this.attribute("x").toPixels("x"),s=this.attribute("y").toPixels("y"),n=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");if(0==n&&0==a){for(var o=new I.BoundingBox,r=0;r<this.children.length;r++)o.addBoundingBox(this.children[r].getBoundingBox(t));i=Math.floor(o.x1),s=Math.floor(o.y1),n=Math.floor(o.width()),a=Math.floor(o.height())}var l=e.style("mask").value;e.style("mask").value="";var h=g(i+n,s+a),d=h.getContext("2d");I.SetDefaults(d),this.renderChildren(d),new I.Element.feColorMatrix({nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(d,0,0,i+n,s+a);var c=g(i+n,s+a),u=c.getContext("2d");I.SetDefaults(u),e.render(u),u.globalCompositeOperation="destination-in",u.fillStyle=d.createPattern(h,"no-repeat"),u.fillRect(0,0,i+n,s+a),t.fillStyle=u.createPattern(c,"no-repeat"),t.fillRect(0,0,i+n,s+a),e.style("mask").value=l},this.render=function(){}},I.Element.mask.prototype=new I.Element.ElementBase,I.Element.clipPath=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(t){var e="undefined"!=typeof CanvasRenderingContext2D,i=t.beginPath,s=t.closePath;e&&(CanvasRenderingContext2D.prototype.beginPath=function(){},CanvasRenderingContext2D.prototype.closePath=function(){}),i.call(t);for(var n=0;n<this.children.length;n++){var a,o=this.children[n];void 0!==o.path&&(!(a=void 0!==o.elementTransform&&o.elementTransform())&&o.style("transform",!1,!0).hasValue()&&(a=new I.Transform(o.style("transform",!1,!0).value)),a&&a.apply(t),o.path(t),e&&(CanvasRenderingContext2D.prototype.closePath=s),a&&a.unapply(t))}s.call(t),t.clip(),e&&(CanvasRenderingContext2D.prototype.beginPath=i,CanvasRenderingContext2D.prototype.closePath=s)},this.render=function(){}},I.Element.clipPath.prototype=new I.Element.ElementBase,I.Element.filter=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(t,e){var i=e.getBoundingBox(t),s=Math.floor(i.x1),n=Math.floor(i.y1),a=Math.floor(i.width()),o=Math.floor(i.height()),r=e.style("filter").value;e.style("filter").value="";for(var l=0,h=0,d=0;d<this.children.length;d++)var c=this.children[d].extraFilterDistance||0,l=Math.max(l,c),h=Math.max(h,c);var u=g(a+2*l,o+2*h),p=u.getContext("2d");for(I.SetDefaults(p),p.translate(-s+l,-n+h),e.render(p),d=0;d<this.children.length;d++)"function"==typeof this.children[d].apply&&this.children[d].apply(p,0,0,a+2*l,o+2*h);t.drawImage(u,0,0,a+2*l,o+2*h,s-l,n-h,a+2*l,o+2*h),e.style("filter",!0).value=r},this.render=function(){}},I.Element.filter.prototype=new I.Element.ElementBase,I.Element.feDropShadow=function(t){this.base=I.Element.ElementBase,this.base(t),this.addStylesFromStyleDefinition(),this.apply=function(){}},I.Element.feDropShadow.prototype=new I.Element.ElementBase,I.Element.feMorphology=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(){}},I.Element.feMorphology.prototype=new I.Element.ElementBase,I.Element.feComposite=function(t){this.base=I.Element.ElementBase,this.base(t),this.apply=function(){}},I.Element.feComposite.prototype=new I.Element.ElementBase,I.Element.feColorMatrix=function(t){this.base=I.Element.ElementBase,this.base(t);var s=I.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var e=s[0],s=[.213+.787*e,.715-.715*e,.072-.072*e,0,0,.213-.213*e,.715+.285*e,.072-.072*e,0,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var n=s[0]*Math.PI/180,i=function(t,e,i){return t+Math.cos(n)*e+Math.sin(n)*i};s=[i(.213,.787,-.213),i(.715,-.715,-.715),i(.072,-.072,.928),0,0,i(.213,-.213,.143),i(.715,.285,.14),i(.072,-.072,-.283),0,0,i(.213,-.213,-.787),i(.715,-.715,.715),i(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function g(t,e,i,s,n,a){return t[i*s*4+4*e+a]}function f(t,e,i,s,n,a,o){t[i*s*4+4*e+a]=o}function m(t,e){var i=s[t];return i*(i<0?e-255:e)}var v=this.attribute("includeOpacity").hasValue();this.apply=function(t,e,i,s,n){var a=t.getImageData(0,0,s,n);for(i=0;i<n;i++)for(e=0;e<s;e++){var o=g(a.data,e,i,s,0,0),r=g(a.data,e,i,s,0,1),l=g(a.data,e,i,s,0,2),h=g(a.data,e,i,s,0,3),d=m(0,o)+m(1,r)+m(2,l)+m(3,h)+m(4,1),c=m(5,o)+m(6,r)+m(7,l)+m(8,h)+m(9,1),u=m(10,o)+m(11,r)+m(12,l)+m(13,h)+m(14,1),p=m(15,o)+m(16,r)+m(17,l)+m(18,h)+m(19,1);v&&(d=c=u=0,p*=h/255),f(a.data,e,i,s,0,0,d),f(a.data,e,i,s,0,1,c),f(a.data,e,i,s,0,2,u),f(a.data,e,i,s,0,3,p)}t.clearRect(0,0,s,n),t.putImageData(a,0,0)}},I.Element.feColorMatrix.prototype=new I.Element.ElementBase,I.Element.feGaussianBlur=function(t){this.base=I.Element.ElementBase,this.base(t),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(t,e,i,s,n){v&&void 0!==v.canvasRGBA?(t.canvas.id=I.UniqueId(),t.canvas.style.display="none",c.body.appendChild(t.canvas),v.canvasRGBA(t.canvas,e,i,s,n,this.blurRadius),c.body.removeChild(t.canvas)):I.log("ERROR: StackBlur.js must be included for blur to work")}},I.Element.feGaussianBlur.prototype=new I.Element.ElementBase,I.Element.title=function(){},I.Element.title.prototype=new I.Element.ElementBase,I.Element.desc=function(){},I.Element.desc.prototype=new I.Element.ElementBase,I.Element.MISSING=function(t){I.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},I.Element.MISSING.prototype=new I.Element.ElementBase,I.CreateElement=function(t){var e=(e=t.nodeName.replace(/^[^:]+:/,"")).replace(/\-/g,""),i=null;return(i=void 0!==I.Element[e]?new I.Element[e](t):new I.Element.MISSING(t)).type=t.nodeName,i},I.load=function(t,e){I.loadXml(t,I.ajax(e))},I.loadXml=function(t,e){I.loadXmlDoc(t,I.parseXml(e))},I.loadXmlDoc=function(a,o){I.init(a);function i(t){for(var e=a.canvas;e;)t.x-=e.offsetLeft,t.y-=e.offsetTop,e=e.offsetParent;return h.scrollX&&(t.x+=h.scrollX),h.scrollY&&(t.y+=h.scrollY),t}1!=I.opts.ignoreMouse&&(a.canvas.onclick=function(t){var e=i(new I.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));I.Mouse.onclick(e.x,e.y)},a.canvas.onmousemove=function(t){var e=i(new I.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));I.Mouse.onmousemove(e.x,e.y)});var r=I.CreateElement(o.documentElement);r.root=!0,r.addStylesFromStyleDefinition();function s(){I.ViewPort.Clear(),a.canvas.parentNode?I.ViewPort.SetCurrent(a.canvas.parentNode.clientWidth,a.canvas.parentNode.clientHeight):I.ViewPort.SetCurrent(800,600),1!=I.opts.ignoreDimensions&&(l||null==I.opts.scaleWidth&&null==I.opts.scaleHeight)&&(r.style("width").hasValue()&&(a.canvas.width=r.style("width").toPixels("x"),a.canvas.style&&(a.canvas.style.width=a.canvas.width+"px")),r.style("height").hasValue()&&(a.canvas.height=r.style("height").toPixels("y"),a.canvas.style&&(a.canvas.style.height=a.canvas.height+"px")));var t,e,i,s=a.canvas.clientWidth||a.canvas.width,n=a.canvas.clientHeight||a.canvas.height;1==I.opts.ignoreDimensions&&r.style("width").hasValue()&&r.style("height").hasValue()&&(s=r.style("width").toPixels("x"),n=r.style("height").toPixels("y")),I.ViewPort.SetCurrent(s,n),null!=I.opts.offsetX&&(r.attribute("x",!0).value=I.opts.offsetX),null!=I.opts.offsetY&&(r.attribute("y",!0).value=I.opts.offsetY),null==I.opts.scaleWidth&&null==I.opts.scaleHeight||(e=t=null,i=I.ToNumberArray(r.attribute("viewBox").value),null!=I.opts.scaleWidth&&(r.attribute("width").hasValue()?t=r.attribute("width").toPixels("x")/I.opts.scaleWidth:isNaN(i[2])||(t=i[2]/I.opts.scaleWidth)),null!=I.opts.scaleHeight&&(r.attribute("height").hasValue()?e=r.attribute("height").toPixels("y")/I.opts.scaleHeight:isNaN(i[3])||(e=i[3]/I.opts.scaleHeight)),null==t&&(t=e),null==e&&(e=t),r.attribute("width",!0).value=I.opts.scaleWidth,r.attribute("height",!0).value=I.opts.scaleHeight,r.style("transform",!0,!0).value+=" scale("+1/t+","+1/e+")"),1!=I.opts.ignoreClear&&a.clearRect(0,0,s,n),r.render(a),l&&(l=!1,"function"==typeof I.opts.renderCallback&&I.opts.renderCallback(o))}var l=!0,n=!0;I.ImagesLoaded()&&(n=!1,s()),I.intervalID=setInterval(function(){var t=!1;if(n&&I.ImagesLoaded()&&(t=!(n=!1)),1!=I.opts.ignoreMouse&&(t=t||I.Mouse.hasEvents()),1!=I.opts.ignoreAnimation)for(var e=0;e<I.Animations.length;e++)var i=I.Animations[e].update(1e3/I.FRAMERATE),t=t||i;"function"==typeof I.opts.forceRedraw&&1==I.opts.forceRedraw()&&(t=!0),t&&(s(),I.Mouse.runEvents())},1e3/I.FRAMERATE)},I.stop=function(){I.intervalID&&clearInterval(I.intervalID)},I.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var i=0;i<this.events.length;i++){var s=this.events[i];e.isPointInPath&&e.isPointInPath(s.x,s.y)&&(this.eventElements[i]=t)}},this.checkBoundingBox=function(t,e){if(e)for(var i=0;i<this.events.length;i++){var s=this.events[i];e.isPointInBox(s.x,s.y)&&(this.eventElements[i]=t)}},this.runEvents=function(){I.ctx.canvas.style.cursor="";for(var t=0;t<this.events.length;t++)for(var e=this.events[t],i=this.eventElements[t];i;)e.run(i),i=i.parent;this.events=[],this.eventElements=[]}},I}"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,i,s,n,a){var o={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:i,scaleWidth:s,scaleHeight:n};for(var r in a)a.hasOwnProperty(r)&&(o[r]=a[r]);p(this.canvas,t,o)}),p._build=f,t.exports=p}(t={exports:{}}),t.exports}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(x){x.ui=x.ui||{},x.ui.version="1.12.1";var t,e,i,n,_,C,s,a,o,r,l,h,d,c=0,u=Array.prototype.slice;function E(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function P(t,e){return parseInt(x.css(t,e),10)||0}x.cleanData=(d=x.cleanData,function(t){for(var e,i,s=0;null!=(i=t[s]);s++)try{(e=x._data(i,"events"))&&e.remove&&x(i).triggerHandler("remove")}catch(t){}d(t)}),x.widget=function(t,i,e){var s,n,a,o={},r=t.split(".")[0],l=r+"-"+(t=t.split(".")[1]);return e||(e=i,i=x.Widget),x.isArray(e)&&(e=x.extend.apply(null,[{}].concat(e))),x.expr[":"][l.toLowerCase()]=function(t){return!!x.data(t,l)},x[r]=x[r]||{},s=x[r][t],n=x[r][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new n(t,e)},x.extend(n,s,{version:e.version,_proto:x.extend({},e),_childConstructors:[]}),(a=new i).options=x.widget.extend({},a.options),x.each(e,function(e,s){return x.isFunction(s)?void(o[e]=function(){var t,e=this._super,i=this._superApply;return this._super=n,this._superApply=a,t=s.apply(this,arguments),this._super=e,this._superApply=i,t}):void(o[e]=s);function n(){return i.prototype[e].apply(this,arguments)}function a(t){return i.prototype[e].apply(this,t)}}),n.prototype=x.widget.extend(a,{widgetEventPrefix:s&&a.widgetEventPrefix||t},o,{constructor:n,namespace:r,widgetName:t,widgetFullName:l}),s?(x.each(s._childConstructors,function(t,e){var i=e.prototype;x.widget(i.namespace+"."+i.widgetName,n,e._proto)}),delete s._childConstructors):i._childConstructors.push(n),x.widget.bridge(t,n),n},x.widget.extend=function(t){for(var e,i,s=u.call(arguments,1),n=0,a=s.length;n<a;n++)for(e in s[n])i=s[n][e],s[n].hasOwnProperty(e)&&void 0!==i&&(t[e]=x.isPlainObject(i)?x.isPlainObject(t[e])?x.widget.extend({},t[e],i):x.widget.extend({},i):i);return t},x.widget.bridge=function(a,e){var o=e.prototype.widgetFullName||a;x.fn[a]=function(i){var t="string"==typeof i,s=u.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=x.data(this,o);return"instance"===i?(n=e,!1):e?x.isFunction(e[i])&&"_"!==i.charAt(0)?(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:x.error("no such method '"+i+"' for "+a+" widget instance"):x.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=x.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=x.data(this,o);t?(t.option(i||{}),t._init&&t._init()):x.data(this,o,new e(i,this))})),n}},x.Widget=function(){},x.Widget._childConstructors=[],x.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=x(e||this.defaultElement||this)[0],this.element=x(e),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=x(),this.hoverable=x(),this.focusable=x(),this.classesElementLookup={},e!==this&&(x.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=x(e.style?e.ownerDocument:e.document||e),this.window=x(this.document[0].defaultView||this.document[0].parentWindow)),this.options=x.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:x.noop,_create:x.noop,_init:x.noop,destroy:function(){var i=this;this._destroy(),x.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:x.noop,widget:function(){return this.element},option:function(t,e){var i,s,n,a=t;if(0===arguments.length)return x.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(i=t.split(".")).shift(),i.length){for(s=a[t]=x.widget.extend({},this.options[t]),n=0;i.length-1>n;n++)s[i[n]]=s[i[n]]||{},s=s[i[n]];if(t=i.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=e}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,s;for(e in t)s=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&s&&s.length&&(i=x(s.get()),this._removeClass(s,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){function t(t,e){for(var i,s=0;t.length>s;s++)i=o.classesElementLookup[t[s]]||x(),i=n.add?x(x.unique(i.get().concat(n.element.get()))):x(i.not(n.element).get()),o.classesElementLookup[t[s]]=i,a.push(t[s]),e&&n.classes[t[s]]&&a.push(n.classes[t[s]])}var a=[],o=this;return n=x.extend({element:this.element,classes:this.options.classes||{}},n),this._on(n.element,{remove:"_untrackClassesElement"}),n.keys&&t(n.keys.match(/\S+/g)||[],!0),n.extra&&t(n.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(i){var s=this;x.each(s.classesElementLookup,function(t,e){-1!==x.inArray(i.target,e)&&(s.classesElementLookup[t]=x(e.not(i.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,a={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return a.element.toggleClass(this._classes(a),s),this},_on:function(o,r,t){var l,h=this;"boolean"!=typeof o&&(t=r,r=o,o=!1),t?(r=l=x(r),this.bindings=this.bindings.add(r)):(t=r,r=this.element,l=this.widget()),x.each(t,function(t,e){function i(){return o||!0!==h.options.disabled&&!x(this).hasClass("ui-state-disabled")?("string"==typeof e?h[e]:e).apply(h,arguments):void 0}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||x.guid++);var s=t.match(/^([\w:-]*)\s*(.*)$/),n=s[1]+h.eventNamespace,a=s[2];a?l.on(n,a,i):r.on(n,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=x(this.bindings.not(t).get()),this.focusable=x(this.focusable.not(t).get()),this.hoverable=x(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(x(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(x(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var s,n,a=this.options[t];if(i=i||{},(e=x.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],n=e.originalEvent)for(s in n)s in e||(e[s]=n[s]);return this.element.trigger(e,i),!(x.isFunction(a)&&!1===a.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},x.each({show:"fadeIn",hide:"fadeOut"},function(a,o){x.Widget.prototype["_"+a]=function(e,t,i){"string"==typeof t&&(t={effect:t});var s,n=t?!0!==t&&"number"!=typeof t&&t.effect||o:a;"number"==typeof(t=t||{})&&(t={duration:t}),s=!x.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),s&&x.effects&&x.effects.effect[n]?e[a](t):n!==a&&e[n]?e[n](t.duration,t.easing,i):e.queue(function(t){x(this)[a](),i&&i.call(e[0]),t()})}}),x.widget,_=Math.max,C=Math.abs,s=/left|center|right/,a=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,l=/%$/,h=x.fn.position,x.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,e,i=x("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=i.children()[0];return x("body").append(i),t=s.offsetWidth,i.css("overflow","scroll"),t===(e=s.offsetWidth)&&(e=i[0].clientWidth),i.remove(),n=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?x.position.scrollbarWidth():0,height:s?x.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=x(t||window),i=x.isWindow(e[0]),s=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:s,offset:i||s?{left:0,top:0}:x(t).offset(),scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},x.fn.position=function(c){if(!c||!c.of)return h.apply(this,arguments);c=x.extend({},c);var u,p,g,f,m,t,e,v=x(c.of),y=x.position.getWithinInfo(c.within),b=x.position.getScrollInfo(y),w=(c.collision||"flip").split(" "),k={},i=9===(e=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:x.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()};return v[0].preventDefault&&(c.at="left top"),p=i.width,g=i.height,f=i.offset,m=x.extend({},f),x.each(["my","at"],function(){var t,e,i=(c[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",t=o.exec(i[0]),e=o.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],c[this]=[r.exec(i[0])[0],r.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===c.at[0]?m.left+=p:"center"===c.at[0]&&(m.left+=p/2),"bottom"===c.at[1]?m.top+=g:"center"===c.at[1]&&(m.top+=g/2),u=E(k.at,p,g),m.left+=u[0],m.top+=u[1],this.each(function(){var i,t,o=x(this),r=o.outerWidth(),l=o.outerHeight(),e=P(this,"marginLeft"),s=P(this,"marginTop"),n=r+e+P(this,"marginRight")+b.width,a=l+s+P(this,"marginBottom")+b.height,h=x.extend({},m),d=E(k.my,o.outerWidth(),o.outerHeight());"right"===c.my[0]?h.left-=r:"center"===c.my[0]&&(h.left-=r/2),"bottom"===c.my[1]?h.top-=l:"center"===c.my[1]&&(h.top-=l/2),h.left+=d[0],h.top+=d[1],i={marginLeft:e,marginTop:s},x.each(["left","top"],function(t,e){x.ui.position[w[t]]&&x.ui.position[w[t]][e](h,{targetWidth:p,targetHeight:g,elemWidth:r,elemHeight:l,collisionPosition:i,collisionWidth:n,collisionHeight:a,offset:[u[0]+d[0],u[1]+d[1]],my:c.my,at:c.at,within:y,elem:o})}),c.using&&(t=function(t){var e=f.left-h.left,i=e+p-r,s=f.top-h.top,n=s+g-l,a={target:{element:v,left:f.left,top:f.top,width:p,height:g},element:{element:o,left:h.left,top:h.top,width:r,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:n<0?"top":0<s?"bottom":"middle"};p<r&&p>C(e+i)&&(a.horizontal="center"),g<l&&g>C(s+n)&&(a.vertical="middle"),a.important=_(C(e),C(i))>_(C(s),C(n))?"horizontal":"vertical",c.using.call(this,t,a)}),o.offset(x.extend(h,{using:t}))})},x.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,o=t.left-e.collisionPosition.marginLeft,r=n-o,l=o+e.collisionWidth-a-n;e.collisionWidth>a?0<r&&l<=0?(i=t.left+r+e.collisionWidth-a-n,t.left+=r-i):t.left=!(0<l&&r<=0)&&l<r?n+a-e.collisionWidth:n:0<r?t.left+=r:0<l?t.left-=l:t.left=_(t.left-o,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,o=t.top-e.collisionPosition.marginTop,r=n-o,l=o+e.collisionHeight-a-n;e.collisionHeight>a?0<r&&l<=0?(i=t.top+r+e.collisionHeight-a-n,t.top+=r-i):t.top=!(0<l&&r<=0)&&l<r?n+a-e.collisionHeight:n:0<r?t.top+=r:0<l?t.top-=l:t.top=_(t.top-o,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,r=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,h=l-r,d=l+e.collisionWidth-o-r,c="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,u="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];h<0?((i=t.left+c+u+p+e.collisionWidth-o-a)<0||C(h)>i)&&(t.left+=c+u+p):0<d&&(0<(s=t.left-e.collisionPosition.marginLeft+c+u+p-r)||d>C(s))&&(t.left+=c+u+p)},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,r=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,h=l-r,d=l+e.collisionHeight-o-r,c="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,u="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];h<0?((s=t.top+c+u+p+e.collisionHeight-o-a)<0||C(h)>s)&&(t.top+=c+u+p):0<d&&(0<(i=t.top-e.collisionPosition.marginTop+c+u+p-r)||d>C(i))&&(t.top+=c+u+p)}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},x.ui.position,x.extend(x.expr[":"],{data:x.expr.createPseudo?x.expr.createPseudo(function(e){return function(t){return!!x.data(t,e)}}):function(t,e,i){return!!x.data(t,i[3])}}),x.fn.extend({disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(i+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),x.ui.focusable=function(t,e){var i,s,n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(s=(i=t.parentNode).name,!(!t.href||!s||"map"!==i.nodeName.toLowerCase())&&0<(n=x("img[usemap='#"+s+"']")).length&&n.is(":visible")):(/^(input|select|textarea|button|object)$/.test(r)?(a=!t.disabled)&&(o=x(t).closest("fieldset")[0])&&(a=!o.disabled):a="a"===r&&t.href||e,a&&x(t).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(x(t)))},x.extend(x.expr[":"],{focusable:function(t){return x.ui.focusable(t,null!=x.attr(t,"tabindex"))}}),x.ui.focusable,x.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):x(this[0].form)},x.ui.formResetMixin={_formResetHandler:function(){var e=x(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");x.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element.form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(x.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},"1.7"===x.fn.jquery.substring(0,3)&&(x.each(["Width","Height"],function(t,i){function s(t,e,i,s){return x.each(n,function(){e-=parseFloat(x.css(t,"padding"+this))||0,i&&(e-=parseFloat(x.css(t,"border"+this+"Width"))||0),s&&(e-=parseFloat(x.css(t,"margin"+this))||0)}),e}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:x.fn.innerWidth,innerHeight:x.fn.innerHeight,outerWidth:x.fn.outerWidth,outerHeight:x.fn.outerHeight};x.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){x(this).css(a,s(this,t)+"px")})},x.fn["outer"+i]=function(t,e){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){x(this).css(a,s(this,t,!0,e)+"px")})}}),x.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),x.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},x.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")}),x.fn.labels=function(){var t,e,i,s,n;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(s=this.eq(0).parents("label"),(i=this.attr("id"))&&(n=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),e="label[for='"+x.ui.escapeSelector(i)+"']",s=s.add(n.find(e).addBack(e))),this.pushStack(s))},x.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var t=x(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:x(this[0].ownerDocument||document)},x.extend(x.expr[":"],{tabbable:function(t){var e=x.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&x.ui.focusable(t,i)}}),x.fn.extend({uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&x(this).removeAttr("id")})}}),x.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var p=!1;x(document).on("mouseup",function(){p=!1}),x.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){return!0===x.data(t.target,e.widgetName+".preventClickEvent")?(x.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!p){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&x(t.target).closest(this.options.cancel).length;return i&&!s&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?t.preventDefault():(!0===x.data(t.target,this.widgetName+".preventClickEvent")&&x.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),p=!0)),!0}},_mouseMove:function(t){if(this._mouseMoved){if(x.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&x.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,p=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),x.ui.plugin={add:function(t,e,i){var s,n=x.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([e,i[s]])},call:function(t,e,i,s){var n,a=t.plugins[e];if(a&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)t.options[a[n][0]]&&a[n][1].apply(t.element,i)}},x.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return(i=i||e.body).nodeName||(i=e.body),i},x.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&x(t).trigger("blur")},x.widget("ui.draggable",x.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<x(t.target).closest(".ui-resizable-handle").length||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=x(this);return x("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=x.ui.safeActiveElement(this.document[0]);x(t.target).closest(e).length||x.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),x.ui.ddmanager&&(x.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===x(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),x.ui.ddmanager&&!e.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),x.ui.ddmanager&&x.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new x.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",x.ui.ddmanager&&x.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return x.ui.ddmanager&&!this.options.dropBehaviour&&(i=x.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||x.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?x(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),x.ui.ddmanager&&x.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),x.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new x.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!x(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,i=x.isFunction(e.helper),s=i?x(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),x.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&x.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options,n=this.document[0];return this.relativeContainer=null,s.containment?"window"===s.containment?void(this.containment=[x(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,x(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,x(window).scrollLeft()+x(window).width()-this.helperProportions.width-this.margins.left,x(window).scrollTop()+(x(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,x(n).width()-this.helperProportions.width-this.margins.left,(x(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),void((i=(e=x(s.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e))):void(this.containment=null)},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(i=this.relativeContainer?(s=this.relativeContainer.offset(),[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=!i||n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1],a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=!i||a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),x.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),x.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),x.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var s=x.extend({},t,{item:i.element});i.sortables=[],x(i.options.connectToSortable).each(function(){var t=x(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,s))})},stop:function(e,t,i){var s=x.extend({},t,{item:i.element});i.cancelHelperRemoval=!1,x.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(i,s,n){x.each(n.sortables,function(){var t=!1,e=this;e.positionAbs=n.positionAbs,e.helperProportions=n.helperProportions,e.offset.click=n.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,x.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&x.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,n._parent=s.helper.parent(),e.currentItem=s.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return s.helper[0]},i.target=e.currentItem[0],e._mouseCapture(i,!0),e._mouseStart(i,!0,!0),e.offset.click.top=n.offset.click.top,e.offset.click.left=n.offset.click.left,e.offset.parent.left-=n.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=n.offset.parent.top-e.offset.parent.top,n._trigger("toSortable",i),n.dropped=e.element,x.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,e.fromOutside=n),e.currentItem&&(e._mouseDrag(i),s.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",i,e._uiHash(e)),e._mouseStop(i,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),s.helper.appendTo(n._parent),n._refreshOffsets(i),s.position=n._generatePosition(i,!0),n._trigger("fromSortable",i),n.dropped=!1,x.each(n.sortables,function(){this.refreshPositions()}))})}}),x.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var s=x("body"),n=i.options;s.css("cursor")&&(n._cursor=s.css("cursor")),s.css("cursor",n.cursor)},stop:function(t,e,i){var s=i.options;s._cursor&&x("body").css("cursor",s._cursor)}}),x.ui.plugin.add("draggable","opacity",{start:function(t,e,i){var s=x(e.helper),n=i.options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(t,e,i){var s=i.options;s._opacity&&x(e.helper).css("opacity",s._opacity)}}),x.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var s=i.options,n=!1,a=i.scrollParentNotHidden[0],o=i.document[0];a!==o&&"HTML"!==a.tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+a.offsetHeight-t.pageY<s.scrollSensitivity?a.scrollTop=n=a.scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(a.scrollTop=n=a.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+a.offsetWidth-t.pageX<s.scrollSensitivity?a.scrollLeft=n=a.scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(a.scrollLeft=n=a.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-x(o).scrollTop()<s.scrollSensitivity?n=x(o).scrollTop(x(o).scrollTop()-s.scrollSpeed):x(window).height()-(t.pageY-x(o).scrollTop())<s.scrollSensitivity&&(n=x(o).scrollTop(x(o).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-x(o).scrollLeft()<s.scrollSensitivity?n=x(o).scrollLeft(x(o).scrollLeft()-s.scrollSpeed):x(window).width()-(t.pageX-x(o).scrollLeft())<s.scrollSensitivity&&(n=x(o).scrollLeft(x(o).scrollLeft()+s.scrollSpeed)))),!1!==n&&x.ui.ddmanager&&!s.dropBehaviour&&x.ui.ddmanager.prepareOffsets(i,t)}}),x.ui.plugin.add("draggable","snap",{start:function(t,e,i){var s=i.options;i.snapElements=[],x(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=x(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){for(var s,n,a,o,r,l,h,d,c,u=i.options,p=u.snapTolerance,g=e.offset.left,f=g+i.helperProportions.width,m=e.offset.top,v=m+i.helperProportions.height,y=i.snapElements.length-1;0<=y;y--)l=(r=i.snapElements[y].left-i.margins.left)+i.snapElements[y].width,d=(h=i.snapElements[y].top-i.margins.top)+i.snapElements[y].height,f<r-p||l+p<g||v<h-p||d+p<m||!x.contains(i.snapElements[y].item.ownerDocument,i.snapElements[y].item)?(i.snapElements[y].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,x.extend(i._uiHash(),{snapItem:i.snapElements[y].item})),i.snapElements[y].snapping=!1):("inner"!==u.snapMode&&(s=p>=Math.abs(h-v),n=p>=Math.abs(d-m),a=p>=Math.abs(r-f),o=p>=Math.abs(l-g),s&&(e.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),c=s||n||a||o,"outer"!==u.snapMode&&(s=p>=Math.abs(h-m),n=p>=Math.abs(d-v),a=p>=Math.abs(r-g),o=p>=Math.abs(l-f),s&&(e.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[y].snapping&&(s||n||a||o||c)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,x.extend(i._uiHash(),{snapItem:i.snapElements[y].item})),i.snapElements[y].snapping=s||n||a||o||c)}}),x.ui.plugin.add("draggable","stack",{start:function(t,e,i){var s,n=i.options,a=x.makeArray(x(n.stack)).sort(function(t,e){return(parseInt(x(t).css("zIndex"),10)||0)-(parseInt(x(e).css("zIndex"),10)||0)});a.length&&(s=parseInt(x(a[0]).css("zIndex"),10)||0,x(a).each(function(t){x(this).css("zIndex",s+t)}),this.css("zIndex",s+a.length))}}),x.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){var s=x(e.helper),n=i.options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(t,e,i){var s=i.options;s._zIndex&&x(e.helper).css("zIndex",s._zIndex)}}),x.ui.draggable,x.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=x.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t=t||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){x.ui.ddmanager.droppables[t]=x.ui.ddmanager.droppables[t]||[],x.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=x.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){var i;"accept"===t?this.accept=x.isFunction(e)?e:function(t){return t.is(e)}:"scope"===t&&(i=x.ui.ddmanager.droppables[this.options.scope],this._splice(i),this._addToManager(e)),this._super(t,e)},_activate:function(t){var e=x.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=x.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=x.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=x.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var i=t||x.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=x(this).droppable("instance");return t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&g(i,x.extend(t,{offset:t.element.offset()}),t.options.tolerance,e)?!(s=!0):void 0}),!s&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var g=x.ui.intersect=function(t,e,i,s){if(!e.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,o=n+t.helperProportions.width,r=a+t.helperProportions.height,l=e.offset.left,h=e.offset.top,d=l+e.proportions().width,c=h+e.proportions().height;switch(i){case"fit":return l<=n&&o<=d&&h<=a&&r<=c;case"intersect":return n+t.helperProportions.width/2>l&&d>o-t.helperProportions.width/2&&a+t.helperProportions.height/2>h&&c>r-t.helperProportions.height/2;case"pointer":return f(s.pageY,h,e.proportions().height)&&f(s.pageX,l,e.proportions().width);case"touch":return(h<=a&&a<=c||h<=r&&r<=c||a<h&&c<r)&&(l<=n&&n<=d||l<=o&&o<=d||n<l&&d<o);default:return!1}};function f(t,e,i){return e<=t&&t<e+i}!(x.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,s,n=x.ui.ddmanager.droppables[t.options.scope]||[],a=e?e.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;n.length>i;i++)if(!(n[i].options.disabled||t&&!n[i].accept.call(n[i].element[0],t.currentItem||t.element))){for(s=0;o.length>s;s++)if(o[s]===n[i].element[0]){n[i].proportions().height=0;continue t}n[i].visible="none"!==n[i].element.css("display"),n[i].visible&&("mousedown"===a&&n[i]._activate.call(n[i],e),n[i].offset=n[i].element.offset(),n[i].proportions({width:n[i].element[0].offsetWidth,height:n[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return x.each((x.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&g(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||x.ui.ddmanager.prepareOffsets(t,e)})},drag:function(a,o){a.options.refreshPositions&&x.ui.ddmanager.prepareOffsets(a,o),x.each(x.ui.ddmanager.droppables[a.options.scope]||[],function(){var t,e,i,s,n;this.options.disabled||this.greedyChild||!this.visible||(n=!(s=g(a,this,this.options.tolerance,o))&&this.isover?"isout":s&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return x(this).droppable("instance").options.scope===e})).length&&((t=x(i[0]).droppable("instance")).greedyChild="isover"===n)),t&&"isover"===n&&(t.isover=!1,t.isout=!0,t._out.call(t,o)),this[n]=!0,this["isout"===n?"isover":"isout"]=!1,this["isover"===n?"_over":"_out"].call(this,o),t&&"isout"===n&&(t.isout=!1,t.isover=!0,t._over.call(t,o)))})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||x.ui.ddmanager.prepareOffsets(t,e)}})!==x.uiBackCompat&&x.widget("ui.droppable",x.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),x.ui.droppable,x.widget("ui.resizable",x.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===x(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",s=!1;return 0<t[i]||(t[i]=1,s=0<t[i],t[i]=0,s)},_create:function(){var t,e=this.options,i=this;this._addClass("ui-resizable"),x.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(x("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&x(this.element).on("mouseenter",function(){e.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){e.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){function t(t){x(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()}var e;return this._mouseDestroy(),this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,e,i,s,n,a=this.options,o=this;if(this.handles=a.handles||(x(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=x(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},e=0;i.length>e;e++)s="ui-resizable-"+(t=x.trim(i[e])),n=x("<div>"),this._addClass(n,"ui-resizable-handle "+s),n.css({zIndex:a.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(n);this._renderAxis=function(t){var e,i,s,n;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=x(this.handles[e]),this._on(this.handles[e],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=x(this.handles[e],this.element),n=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),s=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(s,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,i,s=!1;for(e in this.handles)(i=x(this.handles[e])[0])!==t.target&&!x.contains(i,t.target)||(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var e,i,s,n=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),n.containment&&(e+=x(n.containment).scrollLeft()||0,i+=x(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=x(".ui-resizable-"+this.axis).css("cursor"),x("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,i,s=this.originalMousePosition,n=this.axis,a=t.pageX-s.left||0,o=t.pageY-s.top||0,r=this._change[n];return this._updatePrevProperties(),r&&(e=r.apply(this,[t,a,o]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),x.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,s,n,a,o,r,l=this.options,h=this;return this._helper&&(s=(i=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:h.sizeDiff.height,n=i?0:h.sizeDiff.width,a={width:h.helper.width()-n,height:h.helper.height()-s},o=parseFloat(h.element.css("left"))+(h.position.left-h.originalPosition.left)||null,r=parseFloat(h.element.css("top"))+(h.position.top-h.originalPosition.top)||null,l.animate||this.element.css(x.extend(a,{top:r,left:o})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!l.animate&&this._proportionallyResize()),x("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,a=this.options,o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0};(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return a&&(t.width=e.minWidth),o&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),a&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),o&&d&&(t.top=l-e.minHeight),n&&d&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||x("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return x.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return x.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return x.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return x.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){x.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),x.ui.plugin.add("resizable","animate",{stop:function(e){var i=x(this).resizable("instance"),t=i.options,s=i._proportionallyResizeElements,n=s.length&&/textarea/i.test(s[0].nodeName),a=n&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,o=n?0:i.sizeDiff.width,r={width:i.size.width-o,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,h=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(x.extend(r,h&&l?{top:h,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&x(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),x.ui.plugin.add("resizable","containment",{start:function(){var i,s,t,e,n,a,o,r=x(this).resizable("instance"),l=r.options,h=r.element,d=l.containment,c=d instanceof x?d.get(0):/parent/.test(d)?h.parent().get(0):d;c&&(r.containerElement=x(c),/document/.test(d)||d===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:x(document),left:0,top:0,width:x(document).width(),height:x(document).height()||document.body.parentNode.scrollHeight}):(i=x(c),s=[],x(["Top","Right","Left","Bottom"]).each(function(t,e){s[t]=r._num(i.css("padding"+e))}),r.containerOffset=i.offset(),r.containerPosition=i.position(),r.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},t=r.containerOffset,e=r.containerSize.height,n=r.containerSize.width,a=r._hasScroll(c,"left")?c.scrollWidth:n,o=r._hasScroll(c)?c.scrollHeight:e,r.parentData={element:c,left:t.left,top:t.top,width:a,height:o}))},resize:function(t){var e,i,s,n,a=x(this).resizable("instance"),o=a.options,r=a.containerOffset,l=a.position,h=a._aspectRatio||t.shiftKey,d={top:0,left:0},c=a.containerElement,u=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=r),l.left<(a._helper?r.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-r.left:a.position.left-d.left),h&&(a.size.height=a.size.width/a.aspectRatio,u=!1),a.position.left=o.helper?r.left:0),l.top<(a._helper?r.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-r.top:a.position.top),h&&(a.size.width=a.size.height*a.aspectRatio,u=!1),a.position.top=a._helper?r.top:0),s=a.containerElement.get(0)===a.element.parent().get(0),n=/relative|absolute/.test(a.containerElement.css("position")),s&&n?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),e=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-r.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-r.top)),e+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-e,h&&(a.size.height=a.size.width/a.aspectRatio,u=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,h&&(a.size.width=a.size.height*a.aspectRatio,u=!1)),u||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=x(this).resizable("instance"),e=t.options,i=t.containerOffset,s=t.containerPosition,n=t.containerElement,a=x(t.helper),o=a.offset(),r=a.outerWidth()-t.sizeDiff.width,l=a.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(n.css("position"))&&x(this).css({left:o.left-s.left-i.left,width:r,height:l}),t._helper&&!e.animate&&/static/.test(n.css("position"))&&x(this).css({left:o.left-s.left-i.left,width:r,height:l})}}),x.ui.plugin.add("resizable","alsoResize",{start:function(){var t=x(this).resizable("instance").options;x(t.alsoResize).each(function(){var t=x(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var e=x(this).resizable("instance"),s=e.options,n=e.originalSize,a=e.originalPosition,o={height:e.size.height-n.height||0,width:e.size.width-n.width||0,top:e.position.top-a.top||0,left:e.position.left-a.left||0};x(s.alsoResize).each(function(){var t=x(this),s=x(this).data("ui-resizable-alsoresize"),n={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];x.each(e,function(t,e){var i=(s[e]||0)+(o[e]||0);i&&0<=i&&(n[e]=i||null)}),t.css(n)})},stop:function(){x(this).removeData("ui-resizable-alsoresize")}}),x.ui.plugin.add("resizable","ghost",{start:function(){var t=x(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==x.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=x(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=x(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),x.ui.plugin.add("resizable","grid",{resize:function(){var t,e=x(this).resizable("instance"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,d=Math.round((s.width-n.width)/l)*l,c=Math.round((s.height-n.height)/h)*h,u=n.width+d,p=n.height+c,g=i.maxWidth&&u>i.maxWidth,f=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>u,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(u+=l),v&&(p+=h),g&&(u-=l),f&&(p-=h),/^(se|s|e)$/.test(o)?(e.size.width=u,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=u,e.size.height=p,e.position.top=a.top-c):/^(sw)$/.test(o)?(e.size.width=u,e.size.height=p,e.position.left=a.left-d):((p-h<=0||u-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<p-h?(e.size.height=p,e.position.top=a.top-c):(p=h-t.height,e.size.height=p,e.position.top=a.top+n.height-p),0<u-l?(e.size.width=u,e.position.left=a.left-d):(u=l-t.width,e.size.width=u,e.position.left=a.left+n.width-u))}}),x.ui.resizable,x.widget("ui.selectable",x.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var s=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){s.elementPos=x(s.element[0]).offset(),s.selectees=x(s.options.filter,s.element[0]),s._addClass(s.selectees,"ui-selectee"),s.selectees.each(function(){var t=x(this),e=t.offset(),i={left:e.left-s.elementPos.left,top:e.top-s.elementPos.top};x.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=x("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var s=this,t=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=x(this.element[0]).offset(),this.options.disabled||(this.selectees=x(t.filter,this.element[0]),this._trigger("start",i),x(t.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=x.data(this,"selectable-item");t.startselected=!0,i.metaKey||i.ctrlKey||(s._removeClass(t.$element,"ui-selected"),t.selected=!1,s._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,s._trigger("unselecting",i,{unselecting:t.element}))}),x(i.target).parents().addBack().each(function(){var t,e=x.data(this,"selectable-item");return e?(t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected"),s._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?s._trigger("selecting",i,{selecting:e.element}):s._trigger("unselecting",i,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(s){if(this.dragged=!0,!this.options.disabled){var t,n=this,a=this.options,o=this.opos[0],r=this.opos[1],l=s.pageX,h=s.pageY;return l<o&&(t=l,l=o,o=t),h<r&&(t=h,h=r,r=t),this.helper.css({left:o,top:r,width:l-o,height:h-r}),this.selectees.each(function(){var t=x.data(this,"selectable-item"),e=!1,i={};t&&t.element!==n.element[0]&&(i.left=t.left+n.elementPos.left,i.right=t.right+n.elementPos.left,i.top=t.top+n.elementPos.top,i.bottom=t.bottom+n.elementPos.top,"touch"===a.tolerance?e=!(i.left>l||o>i.right||i.top>h||r>i.bottom):"fit"===a.tolerance&&(e=i.left>o&&l>i.right&&i.top>r&&h>i.bottom),e?(t.selected&&(n._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(n._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(n._addClass(t.$element,"ui-selecting"),t.selecting=!0,n._trigger("selecting",s,{selecting:t.element}))):(t.selecting&&((s.metaKey||s.ctrlKey)&&t.startselected?(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,n._addClass(t.$element,"ui-selected"),t.selected=!0):(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),n._trigger("unselecting",s,{unselecting:t.element}))),t.selected&&(s.metaKey||s.ctrlKey||t.startselected||(n._removeClass(t.$element,"ui-selected"),t.selected=!1,n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",s,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,x(".ui-unselecting",this.element[0]).each(function(){var t=x.data(this,"selectable-item");i._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,i._trigger("unselected",e,{unselected:t.element})}),x(".ui-selecting",this.element[0]).each(function(){var t=x.data(this,"selectable-item");i._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,i._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),x.widget("ui.sortable",x.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),x.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,s=!1,n=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(t),x(t.target).parents().each(function(){return x.data(this,n.widgetName+"-item")===n?(i=x(this),!1):void 0}),x.data(t.target,n.widgetName+"-item")===n&&(i=x(t.target)),!i||this.options.handle&&!e&&(x(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,e,i){var s,n,a=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},x.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",a.cursor),this.storedStylesheet=x("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(n)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(s=this.containers.length-1;0<=s;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return x.ui.ddmanager&&(x.ui.ddmanager.current=this),x.ui.ddmanager&&!a.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,i,s,n,a=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?o=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(o=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?o=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(o=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==o&&x.ui.ddmanager&&!a.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(s=(i=this.items[e]).item[0],(n=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===n?"next":"prev"]()[0]!==s&&!x.contains(this.placeholder[0],s)&&("semi-dynamic"!==this.options.type||!x.contains(this.element[0],s))){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),x.ui.ddmanager&&x.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){var i,s,n,a;if(t)return x.ui.ddmanager&&!this.options.dropBehaviour&&x.ui.ddmanager.drop(this,t),this.options.revert?(s=(i=this).placeholder.offset(),a={},(n=this.options.axis)&&"x"!==n||(a.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(a.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,x(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})):this._clear(t,e),!1},cancel:function(){if(this.dragging){this._mouseUp(new x.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),x.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?x(this.domPosition.prev).after(this.currentItem):x(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},x(t).each(function(){var t=(x(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(x(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=t.left,o=a+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,d=this.offset.click.left,c="x"===this.options.axis||r<s+h&&s+h<l,u="y"===this.options.axis||a<e+d&&e+d<o,p=c&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&l>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!s||!n)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){o.push(this)}var i,s,n,a,o=[],r=[],l=this._connectWith();if(l&&t)for(i=l.length-1;0<=i;i--)for(s=(n=x(l[i],this.document[0])).length-1;0<=s;s--)(a=x.data(n[s],this.widgetFullName))&&a!==this&&!a.options.disabled&&r.push([x.isFunction(a.options.items)?a.options.items.call(a.element):x(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(r.push([x.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):x(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;0<=i;i--)r[i][0].each(e);return x(o)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=x.grep(this.items,function(t){for(var e=0;i.length>e;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,s,n,a,o,r,l,h=this.items,d=[[x.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):x(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(e=c.length-1;0<=e;e--)for(i=(s=x(c[e],this.document[0])).length-1;0<=i;i--)(n=x.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&(d.push([x.isFunction(n.options.items)?n.options.items.call(n.element[0],t,{item:this.currentItem}):x(n.options.items,n.element),n]),this.containers.push(n));for(e=d.length-1;0<=e;e--)for(a=d[e][1],i=0,l=(o=d[e][0]).length;i<l;i++)(r=x(o[i])).data(this.widgetName+"-item",a),h.push({item:r,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,i,s,n;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(i=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?x(this.options.toleranceElement,i.item):i.item,t||(i.width=s.outerWidth(),i.height=s.outerHeight()),n=s.offset(),i.left=n.left,i.top=n.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)n=this.containers[e].element.offset(),this.containers[e].containerCache.left=n.left,this.containers[e].containerCache.top=n.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var s,n=(i=i||this).options;n.placeholder&&n.placeholder.constructor!==String||(s=n.placeholder,n.placeholder={element:function(){var t=i.currentItem[0].nodeName.toLowerCase(),e=x("<"+t+">",i.document[0]);return i._addClass(e,"ui-sortable-placeholder",s||i.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),x("<tr>",i.document[0]).appendTo(e)):"tr"===t?i._createTrPlaceholder(i.currentItem,e):"img"===t&&e.attr("src",i.currentItem.attr("src")),s||e.css("visibility","hidden"),e},update:function(t,e){s&&!n.forcePlaceholderSize||(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=x(n.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),n.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){x("<td>&#160;</td>",i.document[0]).attr("colspan",x(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){for(var e,i,s,n,a,o,r,l,h,d=null,c=null,u=this.containers.length-1;0<=u;u--)if(!x.contains(this.currentItem[0],this.containers[u].element[0]))if(this._intersectsWith(this.containers[u].containerCache)){if(d&&x.contains(this.containers[u].element[0],d.element[0]))continue;d=this.containers[u],c=u}else this.containers[u].containerCache.over&&(this.containers[u]._trigger("out",t,this._uiHash(this)),this.containers[u].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[c].containerCache.over||(this.containers[c]._trigger("over",t,this._uiHash(this)),this.containers[c].containerCache.over=1);else{for(i=1e4,s=null,n=(l=d.floating||this._isFloating(this.currentItem))?"left":"top",a=l?"width":"height",h=l?"pageX":"pageY",e=this.items.length-1;0<=e;e--)x.contains(this.containers[c].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(o=this.items[e].item.offset()[n],r=!1,t[h]-o>this.items[e][a]/2&&(r=!0),i>Math.abs(t[h]-o)&&(i=Math.abs(t[h]-o),s=this.items[e],this.direction=r?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[c])return void(this.currentContainer.containerCache.over||(this.containers[c]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[c].element,!0),this._trigger("change",t,this._uiHash()),this.containers[c]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[c],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[c]._trigger("over",t,this._uiHash(this)),this.containers[c].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=x.isFunction(e.helper)?x(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||x("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!e.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!e.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),x.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&x.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&x.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=x(s.containment)[0],e=x(s.containment).offset(),i="hidden"!==x(t).css("overflow"),this.containment=[e.left+(parseInt(x(t).css("borderLeftWidth"),10)||0)+(parseInt(x(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(x(t).css("borderTopWidth"),10)||0)+(parseInt(x(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(x(t).css("borderLeftWidth"),10)||0)-(parseInt(x(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(x(t).css("borderTopWidth"),10)||0)-(parseInt(x(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&x.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())*i}},_generatePosition:function(t){var e,i,s=this.options,n=t.pageX,a=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&x.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),s.grid&&(e=this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1],a=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-s.grid[1]:e+s.grid[1],i=this.originalPageX+Math.round((n-this.originalPageX)/s.grid[0])*s.grid[0],n=!this.containment||i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-s.grid[0]:i+s.grid[0])),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(e,i,s){return function(t){s._trigger(e,t,i._uiHash(i))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)"auto"!==this._storedCSS[s]&&"static"!==this._storedCSS[s]||(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;0<=s;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===x.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||x([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});var m,v,y,b,w,k,T,S,M,j,z,I,Q,L,D,O,B,A,H,N,R,W="ui-effects-",$="ui-effects-style",V="ui-effects-animated",X=x;function F(t,e,i,s){return x.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),x.isFunction(e)&&(s=e,i=null,e={}),"number"!=typeof e&&!x.fx.speeds[e]||(s=i,i=e,e={}),x.isFunction(i)&&(s=i,i=null),e&&x.extend(t,e),i=i||e.duration,t.duration=x.fx.off?0:"number"==typeof i?i:i in x.fx.speeds?x.fx.speeds[i]:x.fx.speeds._default,t.complete=s||e.complete,t}function Y(t){return!t||"number"==typeof t||x.fx.speeds[t]||"string"==typeof t&&!x.effects.effect[t]||x.isFunction(t)||"object"==typeof t&&!t.effect}function G(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,s,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?s:parseFloat(n[3]),left:parseFloat(n[4])||0}}function q(t){var e,i,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)"string"==typeof s[e=s[i]]&&(n[x.camelCase(e)]=s[e]);else for(e in s)"string"==typeof s[e]&&(n[e]=s[e]);return n}function U(t,e,i){var s=A[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:t<0?0:s.max<t?s.max:t)}function K(o){var r=O(),l=r._rgba=[];return o=o.toLowerCase(),R(D,function(t,e){var i,s=e.re.exec(o),n=s&&e.parse(s),a=e.space||"rgba";return n?(i=r[a](n),r[B[a].cache]=i[B[a].cache],l=r._rgba=i._rgba,!1):I}),l.length?("0,0,0,0"===l.join()&&z.extend(l,Q.transparent),r):Q[o]}function J(t,e,i){return 6*(i=(i+1)%1)<1?t+6*(e-t)*i:2*i<1?e:3*i<2?t+6*(e-t)*(2/3-i):t}x.effects={effect:{}},L=/^([\-+])=\s*(\d+\.?\d*)/,D=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],O=(z=X).Color=function(t,e,i,s){return new z.Color.fn.parse(t,e,i,s)},B={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},A={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},H=O.support={},N=z("<p>")[0],R=z.each,N.style.cssText="background-color:rgba(1,1,1,.5)",H.rgba=-1<N.style.backgroundColor.indexOf("rgba"),R(B,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),O.fn=z.extend(O.prototype,{parse:function(n,t,e,i){if(n===I)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=z(n).css(t),t=I);var a=this,s=z.type(n),o=this._rgba=[];return t!==I&&(n=[n,t,e,i],s="array"),"string"===s?this.parse(K(n)||Q._default):"array"===s?(R(B.rgba.props,function(t,e){o[e.idx]=U(n[e.idx],e)}),this):"object"===s?(R(B,n instanceof O?function(t,e){n[e.cache]&&(a[e.cache]=n[e.cache].slice())}:function(t,i){var s=i.cache;R(i.props,function(t,e){if(!a[s]&&i.to){if("alpha"===t||null==n[t])return;a[s]=i.to(a._rgba)}a[s][e.idx]=U(n[t],e,!0)}),a[s]&&z.inArray(null,a[s].slice(0,3))<0&&(a[s][3]=1,i.from&&(a._rgba=i.from(a[s])))}),this):I},is:function(t){var n=O(t),a=!0,o=this;return R(B,function(t,e){var i,s=n[e.cache];return s&&(i=o[e.cache]||e.to&&e.to(o._rgba)||[],R(e.props,function(t,e){return null!=s[e.idx]?a=s[e.idx]===i[e.idx]:I})),a}),a},_space:function(){var i=[],s=this;return R(B,function(t,e){s[e.cache]&&i.push(t)}),i.pop()},transition:function(t,o){var e=(h=O(t))._space(),i=B[e],s=0===this.alpha()?O("transparent"):this,r=s[i.cache]||i.to(s._rgba),l=r.slice(),h=h[i.cache];return R(i.props,function(t,e){var i=e.idx,s=r[i],n=h[i],a=A[e.type]||{};null!==n&&(null===s?l[i]=n:(a.mod&&(a.mod/2<n-s?s+=a.mod:a.mod/2<s-n&&(s-=a.mod)),l[i]=U((n-s)*o+s,e)))}),this[e](l)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),s=O(t)._rgba;return O(z.map(e,function(t,e){return(1-i)*s[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=z.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=z.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+z.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),O.fn.parse.prototype=O.fn,B.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/255,i=t[1]/255,s=t[2]/255,n=t[3],a=Math.max(e,i,s),o=Math.min(e,i,s),r=a-o,l=a+o,h=.5*l,d=o===a?0:e===a?60*(i-s)/r+360:i===a?60*(s-e)/r+120:60*(e-i)/r+240,c=0==r?0:h<=.5?r/l:r/(2-l);return[Math.round(d)%360,c,h,null==n?1:n]},B.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],n=t[3],a=s<=.5?s*(1+i):s+i-s*i,o=2*s-a;return[Math.round(255*J(o,a,e+1/3)),Math.round(255*J(o,a,e)),Math.round(255*J(o,a,e-1/3)),n]},R(B,function(l,t){var i=t.props,o=t.cache,r=t.to,h=t.from;O.fn[l]=function(t){if(r&&!this[o]&&(this[o]=r(this._rgba)),t===I)return this[o].slice();var e,s=z.type(t),n="array"===s||"object"===s?t:arguments,a=this[o].slice();return R(i,function(t,e){var i=n["object"===s?t:e.idx];null==i&&(i=a[e.idx]),a[e.idx]=U(i,e)}),h?((e=O(h(a)))[o]=a,e):O(a)},R(i,function(o,r){O.fn[o]||(O.fn[o]=function(t){var e,i=z.type(t),s="alpha"===o?this._hsla?"hsla":"rgba":l,n=this[s](),a=n[r.idx];return"undefined"===i?a:("function"===i&&(t=t.call(this,a),i=z.type(t)),null==t&&r.empty?this:("string"===i&&(e=L.exec(t))&&(t=a+parseFloat(e[2])*("+"===e[1]?1:-1)),n[r.idx]=t,this[s](n)))})})}),O.hook=function(t){var e=t.split(" ");R(e,function(t,a){z.cssHooks[a]={set:function(t,e){var i,s,n="";if("transparent"!==e&&("string"!==z.type(e)||(i=K(e)))){if(e=O(i||e),!H.rgba&&1!==e._rgba[3]){for(s="backgroundColor"===a?t.parentNode:t;(""===n||"transparent"===n)&&s&&s.style;)try{n=z.css(s,"backgroundColor"),s=s.parentNode}catch(t){}e=e.blend(n&&"transparent"!==n?n:"_default")}e=e.toRgbaString()}try{t.style[a]=e}catch(t){}}},z.fx.step[a]=function(t){t.colorInit||(t.start=O(t.elem,a),t.end=O(t.end),t.colorInit=!0),z.cssHooks[a].set(t.elem,t.start.transition(t.end,t.pos))}})},O.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),z.cssHooks.borderColor={expand:function(i){var s={};return R(["Top","Right","Bottom","Left"],function(t,e){s["border"+e+"Color"]=i}),s}},Q=z.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},M=["add","remove","toggle"],j={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},x.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){x.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(X.style(t.elem,e,t.end),t.setAttr=!0)}}),x.fn.addBack||(x.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),x.effects.animateClass=function(n,t,e,i){var a=x.speed(t,e,i);return this.queue(function(){var t,i=x(this),e=i.attr("class")||"",s=(s=a.children?i.find("*").addBack():i).map(function(){return{el:x(this),start:q(this)}});(t=function(){x.each(M,function(t,e){n[e]&&i[e+"Class"](n[e])})})(),s=s.map(function(){return this.end=q(this.el[0]),this.diff=function(t,e){var i,s,n={};for(i in e)s=e[i],t[i]!==s&&(j[i]||!x.fx.step[i]&&isNaN(parseFloat(s))||(n[i]=s));return n}(this.start,this.end),this}),i.attr("class",e),s=s.map(function(){var t=this,e=x.Deferred(),i=x.extend({},a,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),x.when.apply(x,s.get()).done(function(){t(),x.each(arguments,function(){var e=this.el;x.each(this.diff,function(t){e.css(t,"")})}),a.complete.call(i[0])})})},x.fn.extend({addClass:(S=x.fn.addClass,function(t,e,i,s){return e?x.effects.animateClass.call(this,{add:t},e,i,s):S.apply(this,arguments)}),removeClass:(T=x.fn.removeClass,function(t,e,i,s){return 1<arguments.length?x.effects.animateClass.call(this,{remove:t},e,i,s):T.apply(this,arguments)}),toggleClass:(k=x.fn.toggleClass,function(t,e,i,s,n){return"boolean"==typeof e||void 0===e?i?x.effects.animateClass.call(this,e?{add:t}:{remove:t},i,s,n):k.apply(this,arguments):x.effects.animateClass.call(this,{toggle:t},e,i,s)}),switchClass:function(t,e,i,s,n){return x.effects.animateClass.call(this,{add:e,remove:t},i,s,n)}}),x.expr&&x.expr.filters&&x.expr.filters.animated&&(x.expr.filters.animated=(w=x.expr.filters.animated,function(t){return!!x(t).data(V)||w(t)})),!1!==x.uiBackCompat&&x.extend(x.effects,{save:function(t,e){for(var i=0,s=e.length;i<s;i++)null!==e[i]&&t.data(W+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;s<n;s++)null!==e[s]&&(i=t.data(W+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=x("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(t){n=document.body}return i.wrap(t),i[0]!==n&&!x.contains(i[0],n)||x(n).trigger("focus"),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(x.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),x.each(["top","left","bottom","right"],function(t,e){s[e]=i.css(e),isNaN(parseInt(s[e],10))&&(s[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(s).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!x.contains(t[0],e)||x(e).trigger("focus")),t}}),x.extend(x.effects,{version:"1.12.1",define:function(t,e,i){return i||(i=e,e="effect"),x.effects.effect[t]=i,x.effects.effect[t].mode=e,i},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();1<e&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data($,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data($)||"",t.removeData($)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(t){var e,i=t.css("position"),s=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",e=x("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(W+"placeholder",e)),t.css({position:i,left:s.left,top:s.top}),e},removePlaceholder:function(t){var e=W+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(t){x.effects.restoreStyle(t),x.effects.removePlaceholder(t)},setTransition:function(s,t,n,a){return a=a||{},x.each(t,function(t,e){var i=s.cssUnit(e);0<i[0]&&(a[e]=i[0]*n+i[1])}),a}}),x.fn.extend({effect:function(){function t(t){function e(){x.isFunction(r)&&r.call(i[0]),x.isFunction(t)&&t()}var i=x(this);s.mode=h.shift(),!1===x.uiBackCompat||a?"none"===s.mode?(i[l](),e()):n.call(i[0],s,function(){i.removeData(V),x.effects.cleanUp(i),"hide"===s.mode&&i.hide(),e()}):(i.is(":hidden")?"hide"===l:"show"===l)?(i[l](),e()):n.call(i[0],s,e)}function e(t){var e=x(this),i=x.effects.mode(e,l)||a;e.data(V,!0),h.push(i),a&&("show"===i||i===a&&"hide"===i)&&e.show(),a&&"none"===i||x.effects.saveStyle(e),x.isFunction(t)&&t()}var s=F.apply(this,arguments),n=x.effects.effect[s.effect],a=n.mode,i=s.queue,o=i||"fx",r=s.complete,l=s.mode,h=[];return x.fx.off||!n?l?this[l](s.duration,r):this.each(function(){r&&r.call(this)}):!1===i?this.each(e).each(t):this.queue(o,e).queue(o,t)},show:(b=x.fn.show,function(t){if(Y(t))return b.apply(this,arguments);var e=F.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(y=x.fn.hide,function(t){if(Y(t))return y.apply(this,arguments);var e=F.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(v=x.fn.toggle,function(t){if(Y(t)||"boolean"==typeof t)return v.apply(this,arguments);var e=F.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var i=this.css(t),s=[];return x.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):G(this.css("clip"),this)},transfer:function(t,e){var i=x(this),s=x(t.to),n="fixed"===s.css("position"),a=x("body"),o=n?a.scrollTop():0,r=n?a.scrollLeft():0,l=s.offset(),h={top:l.top-o,left:l.left-r,height:s.innerHeight(),width:s.innerWidth()},d=i.offset(),c=x("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-o,left:d.left-r,height:i.innerHeight(),width:i.innerWidth(),position:n?"fixed":"absolute"}).animate(h,t.duration,t.easing,function(){c.remove(),x.isFunction(e)&&e()})}}),x.fx.step.clip=function(t){t.clipInit||(t.start=x(t.elem).cssClip(),"string"==typeof t.end&&(t.end=G(t.end,t.elem)),t.clipInit=!0),x(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})},m={},x.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){m[t]=function(t){return Math.pow(t,e+2)}}),x.extend(m,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),x.each(m,function(t,e){x.easing["easeIn"+t]=e,x.easing["easeOut"+t]=function(t){return 1-e(1-t)},x.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}}),x.effects}),function(t){var e,i,s;function n(t,e){var i,s;1<t.originalEvent.touches.length||(t.preventDefault(),i=t.originalEvent.changedTouches[0],(s=document.createEvent("MouseEvents")).initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s))}t.support.touch="ontouchend"in document,t.support.touch&&(i=t.ui.mouse.prototype,s=i._mouseInit,i._touchStart=function(t){!e&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(e=!0,this._touchMoved=!1,n(t,"mouseover"),n(t,"mousemove"),n(t,"mousedown"))},i._touchMove=function(t){e&&(this._touchMoved=!0,n(t,"mousemove"))},i._touchEnd=function(t){e&&(n(t,"mouseup"),n(t,"mouseout"),this._touchMoved||n(t,"click"),e=!1)},i._mouseInit=function(){this.element.bind("touchstart",t.proxy(this,"_touchStart")).bind("touchmove",t.proxy(this,"_touchMove")).bind("touchend",t.proxy(this,"_touchEnd")),s.call(this)})}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Swiper=e()}(this,function(){"use strict";var f="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,Z="undefined"==typeof window?{document:f,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,l=function(t){for(var e=0;e<t.length;e+=1)this[e]=t[e];return this.length=t.length,this};function z(t,e){var i=[],s=0;if(t&&!e&&t instanceof l)return t;if(t)if("string"==typeof t){var n,a,o=t.trim();if(0<=o.indexOf("<")&&0<=o.indexOf(">")){var r="div";for(0===o.indexOf("<li")&&(r="ul"),0===o.indexOf("<tr")&&(r="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(r="tr"),0===o.indexOf("<tbody")&&(r="table"),0===o.indexOf("<option")&&(r="select"),(a=f.createElement(r)).innerHTML=o,s=0;s<a.childNodes.length;s+=1)i.push(a.childNodes[s])}else for(n=e||"#"!==t[0]||t.match(/[ .<>:~]/)?(e||f).querySelectorAll(t.trim()):[f.getElementById(t.trim().split("#")[1])],s=0;s<n.length;s+=1)n[s]&&i.push(n[s])}else if(t.nodeType||t===Z||t===f)i.push(t);else if(0<t.length&&t[0].nodeType)for(s=0;s<t.length;s+=1)i.push(t[s]);return new l(i)}function a(t){for(var e=[],i=0;i<t.length;i+=1)-1===e.indexOf(t[i])&&e.push(t[i]);return e}z.fn=l.prototype,z.Class=l,z.Dom7=l;var e={addClass:function(t){if(void 0===t)return this;for(var e=t.split(" "),i=0;i<e.length;i+=1)for(var s=0;s<this.length;s+=1)void 0!==this[s]&&void 0!==this[s].classList&&this[s].classList.add(e[i]);return this},removeClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i+=1)for(var s=0;s<this.length;s+=1)void 0!==this[s]&&void 0!==this[s].classList&&this[s].classList.remove(e[i]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i+=1)for(var s=0;s<this.length;s+=1)void 0!==this[s]&&void 0!==this[s].classList&&this[s].classList.toggle(e[i]);return this},attr:function(t,e){var i=arguments;if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var s=0;s<this.length;s+=1)if(2===i.length)this[s].setAttribute(t,e);else for(var n in t)this[s][n]=t[n],this[s].setAttribute(n,t[n]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},data:function(t,e){var i;if(void 0!==e){for(var s=0;s<this.length;s+=1)(i=this[s]).dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[t]=e;return this}if(i=this[0])return i.dom7ElementDataStorage&&t in i.dom7ElementDataStorage?i.dom7ElementDataStorage[t]:i.getAttribute("data-"+t)||void 0},transform:function(t){for(var e=0;e<this.length;e+=1){var i=this[e].style;i.webkitTransform=t,i.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e+=1){var i=this[e].style;i.webkitTransitionDuration=t,i.transitionDuration=t}return this},on:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=t[0],a=t[1],o=t[2],s=t[3];function n(t){var e=t.target;if(e){var i=t.target.dom7EventData||[];if(i.indexOf(t)<0&&i.unshift(t),z(e).is(a))o.apply(e,i);else for(var s=z(e).parents(),n=0;n<s.length;n+=1)z(s[n]).is(a)&&o.apply(s[n],i)}}function r(t){var e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),o.apply(this,e)}"function"==typeof t[1]&&(i=t[0],o=t[1],s=t[2],a=void 0),s=s||!1;for(var l,h=i.split(" "),d=0;d<this.length;d+=1){var c=this[d];if(a)for(l=0;l<h.length;l+=1){var u=h[l];c.dom7LiveListeners||(c.dom7LiveListeners={}),c.dom7LiveListeners[u]||(c.dom7LiveListeners[u]=[]),c.dom7LiveListeners[u].push({listener:o,proxyListener:n}),c.addEventListener(u,n,s)}else for(l=0;l<h.length;l+=1){var p=h[l];c.dom7Listeners||(c.dom7Listeners={}),c.dom7Listeners[p]||(c.dom7Listeners[p]=[]),c.dom7Listeners[p].push({listener:o,proxyListener:r}),c.addEventListener(p,r,s)}}return this},off:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=t[0],s=t[1],n=t[2],a=t[3];"function"==typeof t[1]&&(i=t[0],n=t[1],a=t[2],s=void 0),a=a||!1;for(var o=i.split(" "),r=0;r<o.length;r+=1)for(var l=o[r],h=0;h<this.length;h+=1){var d=this[h],c=void 0;if(!s&&d.dom7Listeners?c=d.dom7Listeners[l]:s&&d.dom7LiveListeners&&(c=d.dom7LiveListeners[l]),c&&c.length)for(var u=c.length-1;0<=u;--u){var p=c[u];(n&&p.listener===n||n&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===n||!n)&&(d.removeEventListener(l,p.proxyListener,a),c.splice(u,1))}}return this},trigger:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=t[0].split(" "),s=t[1],n=0;n<i.length;n+=1)for(var a=i[n],o=0;o<this.length;o+=1){var r=this[o],l=void 0;try{l=new Z.CustomEvent(a,{detail:s,bubbles:!0,cancelable:!0})}catch(t){(l=f.createEvent("Event")).initEvent(a,!0,!0),l.detail=s}r.dom7EventData=t.filter(function(t,e){return 0<e}),r.dispatchEvent(l),r.dom7EventData=[],delete r.dom7EventData}return this},transitionEnd:function(e){var i,s=["webkitTransitionEnd","transitionend"],n=this;function a(t){if(t.target===this)for(e.call(this,t),i=0;i<s.length;i+=1)n.off(s[i],a)}if(e)for(i=0;i<s.length;i+=1)n.on(s[i],a);return this},outerWidth:function(t){if(0<this.length){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(0<this.length){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(0<this.length){var t=this[0],e=t.getBoundingClientRect(),i=f.body,s=t.clientTop||i.clientTop||0,n=t.clientLeft||i.clientLeft||0,a=t===Z?Z.scrollY:t.scrollTop,o=t===Z?Z.scrollX:t.scrollLeft;return{top:e.top+a-s,left:e.left+o-n}}return null},css:function(t,e){var i;if(1===arguments.length){if("string"!=typeof t){for(i=0;i<this.length;i+=1)for(var s in t)this[i].style[s]=t[s];return this}if(this[0])return Z.getComputedStyle(this[0],null).getPropertyValue(t)}if(2!==arguments.length||"string"!=typeof t)return this;for(i=0;i<this.length;i+=1)this[i].style[t]=e;return this},each:function(t){if(!t)return this;for(var e=0;e<this.length;e+=1)if(!1===t.call(this[e],e,this[e]))return this;return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){var e,i,s=this[0];if(!s||void 0===t)return!1;if("string"==typeof t){if(s.matches)return s.matches(t);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(t);if(s.msMatchesSelector)return s.msMatchesSelector(t);for(e=z(t),i=0;i<e.length;i+=1)if(e[i]===s)return!0;return!1}if(t===f)return s===f;if(t===Z)return s===Z;if(t.nodeType||t instanceof l){for(e=t.nodeType?[t]:t,i=0;i<e.length;i+=1)if(e[i]===s)return!0;return!1}return!1},index:function(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;var e,i=this.length;return new l(i-1<t?[]:t<0?(e=i+t)<0?[]:[this[e]]:[this[t]])},append:function(){for(var t,e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var s=0;s<e.length;s+=1){t=e[s];for(var n=0;n<this.length;n+=1)if("string"==typeof t){var a=f.createElement("div");for(a.innerHTML=t;a.firstChild;)this[n].appendChild(a.firstChild)}else if(t instanceof l)for(var o=0;o<t.length;o+=1)this[n].appendChild(t[o]);else this[n].appendChild(t)}return this},prepend:function(t){for(var e,i=0;i<this.length;i+=1)if("string"==typeof t){var s=f.createElement("div");for(s.innerHTML=t,e=s.childNodes.length-1;0<=e;--e)this[i].insertBefore(s.childNodes[e],this[i].childNodes[0])}else if(t instanceof l)for(e=0;e<t.length;e+=1)this[i].insertBefore(t[e],this[i].childNodes[0]);else this[i].insertBefore(t,this[i].childNodes[0]);return this},next:function(t){return 0<this.length?t?this[0].nextElementSibling&&z(this[0].nextElementSibling).is(t)?new l([this[0].nextElementSibling]):new l([]):this[0].nextElementSibling?new l([this[0].nextElementSibling]):new l([]):new l([])},nextAll:function(t){var e=[],i=this[0];if(!i)return new l([]);for(;i.nextElementSibling;){var s=i.nextElementSibling;t&&!z(s).is(t)||e.push(s),i=s}return new l(e)},prev:function(t){if(0<this.length){var e=this[0];return t?e.previousElementSibling&&z(e.previousElementSibling).is(t)?new l([e.previousElementSibling]):new l([]):e.previousElementSibling?new l([e.previousElementSibling]):new l([])}return new l([])},prevAll:function(t){var e=[],i=this[0];if(!i)return new l([]);for(;i.previousElementSibling;){var s=i.previousElementSibling;t&&!z(s).is(t)||e.push(s),i=s}return new l(e)},parent:function(t){for(var e=[],i=0;i<this.length;i+=1)null===this[i].parentNode||t&&!z(this[i].parentNode).is(t)||e.push(this[i].parentNode);return z(a(e))},parents:function(t){for(var e=[],i=0;i<this.length;i+=1)for(var s=this[i].parentNode;s;)t&&!z(s).is(t)||e.push(s),s=s.parentNode;return z(a(e))},closest:function(t){var e=this;return void 0===t?new l([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],i=0;i<this.length;i+=1)for(var s=this[i].querySelectorAll(t),n=0;n<s.length;n+=1)e.push(s[n]);return new l(e)},children:function(t){for(var e=[],i=0;i<this.length;i+=1)for(var s=this[i].childNodes,n=0;n<s.length;n+=1)t?1===s[n].nodeType&&z(s[n]).is(t)&&e.push(s[n]):1===s[n].nodeType&&e.push(s[n]);return new l(a(e))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){for(var t,e=[],i=arguments.length;i--;)e[i]=arguments[i];for(t=0;t<e.length;t+=1)for(var s=z(e[t]),n=0;n<s.length;n+=1)this[this.length]=s[n],this.length+=1;return this},styles:function(){return this[0]?Z.getComputedStyle(this[0],null):{}}};Object.keys(e).forEach(function(t){z.fn[t]=e[t]});function t(t){void 0===t&&(t={});var e=this;e.params=t,e.eventsListeners={},e.params&&e.params.on&&Object.keys(e.params.on).forEach(function(t){e.on(t,e.params.on[t])})}var i,s,n,o,tt={deleteProps:function(t){var e=t;Object.keys(e).forEach(function(t){try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}})},nextTick:function(t,e){return void 0===e&&(e=0),setTimeout(t,e)},now:function(){return Date.now()},getTranslate:function(t,e){var i,s,n;void 0===e&&(e="x");var a=Z.getComputedStyle(t,null);return Z.WebKitCSSMatrix?(6<(s=a.transform||a.webkitTransform).split(",").length&&(s=s.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),n=new Z.WebKitCSSMatrix("none"===s?"":s)):i=(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(s=Z.WebKitCSSMatrix?n.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(s=Z.WebKitCSSMatrix?n.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),s||0},parseUrlQuery:function(t){var e,i,s,n,a={},o=t||Z.location.href;if("string"==typeof o&&o.length)for(n=(i=(o=-1<o.indexOf("?")?o.replace(/\S*\?/,""):"").split("&").filter(function(t){return""!==t})).length,e=0;e<n;e+=1)s=i[e].replace(/#\S+/g,"").split("="),a[decodeURIComponent(s[0])]=void 0===s[1]?void 0:decodeURIComponent(s[1])||"";return a},isObject:function(t){return"object"==typeof t&&null!==t&&t.constructor&&t.constructor===Object},extend:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=Object(t[0]),s=1;s<t.length;s+=1){var n=t[s];if(null!=n)for(var a=Object.keys(Object(n)),o=0,r=a.length;o<r;o+=1){var l=a[o],h=Object.getOwnPropertyDescriptor(n,l);void 0!==h&&h.enumerable&&(tt.isObject(i[l])&&tt.isObject(n[l])?tt.extend(i[l],n[l]):!tt.isObject(i[l])&&tt.isObject(n[l])?(i[l]={},tt.extend(i[l],n[l])):i[l]=n[l])}}return i}},et=(n=f.createElement("div"),{touch:Z.Modernizr&&!0===Z.Modernizr.touch||!!(0<Z.navigator.maxTouchPoints||"ontouchstart"in Z||Z.DocumentTouch&&f instanceof Z.DocumentTouch),pointerEvents:!!(Z.navigator.pointerEnabled||Z.PointerEvent||"maxTouchPoints"in Z.navigator&&0<Z.navigator.maxTouchPoints),prefixedPointerEvents:!!Z.navigator.msPointerEnabled,transition:"transition"in(s=n.style)||"webkitTransition"in s||"MozTransition"in s,transforms3d:Z.Modernizr&&!0===Z.Modernizr.csstransforms3d||("webkitPerspective"in(i=n.style)||"MozPerspective"in i||"OPerspective"in i||"MsPerspective"in i||"perspective"in i),flexbox:function(){for(var t=n.style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<e.length;i+=1)if(e[i]in t)return!0;return!1}(),observer:"MutationObserver"in Z||"WebkitMutationObserver"in Z,passiveListener:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});Z.addEventListener("testPassiveListener",null,e)}catch(t){}return t}(),gestures:"ongesturestart"in Z}),I={isIE:!!Z.navigator.userAgent.match(/Trident/g)||!!Z.navigator.userAgent.match(/MSIE/g),isEdge:!!Z.navigator.userAgent.match(/Edge/g),isSafari:0<=(o=Z.navigator.userAgent.toLowerCase()).indexOf("safari")&&o.indexOf("chrome")<0&&o.indexOf("android")<0,isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(Z.navigator.userAgent)},r={components:{configurable:!0}};t.prototype.on=function(t,e,i){var s=this;if("function"!=typeof e)return s;var n=i?"unshift":"push";return t.split(" ").forEach(function(t){s.eventsListeners[t]||(s.eventsListeners[t]=[]),s.eventsListeners[t][n](e)}),s},t.prototype.once=function(i,s,t){var n=this;if("function"!=typeof s)return n;function a(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];s.apply(n,t),n.off(i,a),a.f7proxy&&delete a.f7proxy}return a.f7proxy=s,n.on(i,a,t)},t.prototype.off=function(t,s){var n=this;return n.eventsListeners&&t.split(" ").forEach(function(i){void 0===s?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].length&&n.eventsListeners[i].forEach(function(t,e){(t===s||t.f7proxy&&t.f7proxy===s)&&n.eventsListeners[i].splice(e,1)})}),n},t.prototype.emit=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i,s,n,a=this;return a.eventsListeners&&(n="string"==typeof t[0]||Array.isArray(t[0])?(i=t[0],s=t.slice(1,t.length),a):(i=t[0].events,s=t[0].data,t[0].context||a),(Array.isArray(i)?i:i.split(" ")).forEach(function(t){var e;a.eventsListeners&&a.eventsListeners[t]&&(e=[],a.eventsListeners[t].forEach(function(t){e.push(t)}),e.forEach(function(t){t.apply(n,s)}))})),a},t.prototype.useModulesParams=function(i){var s=this;s.modules&&Object.keys(s.modules).forEach(function(t){var e=s.modules[t];e.params&&tt.extend(i,e.params)})},t.prototype.useModules=function(s){void 0===s&&(s={});var n=this;n.modules&&Object.keys(n.modules).forEach(function(t){var i=n.modules[t],e=s[t]||{};i.instance&&Object.keys(i.instance).forEach(function(t){var e=i.instance[t];n[t]="function"==typeof e?e.bind(n):e}),i.on&&n.on&&Object.keys(i.on).forEach(function(t){n.on(t,i.on[t])}),i.create&&i.create.bind(n)(e)})},r.components.set=function(t){this.use&&this.use(t)},t.installModule=function(e){for(var t=[],i=arguments.length-1;0<i--;)t[i]=arguments[i+1];var s=this;s.prototype.modules||(s.prototype.modules={});var n=e.name||Object.keys(s.prototype.modules).length+"_"+tt.now();return(s.prototype.modules[n]=e).proto&&Object.keys(e.proto).forEach(function(t){s.prototype[t]=e.proto[t]}),e.static&&Object.keys(e.static).forEach(function(t){s[t]=e.static[t]}),e.install&&e.install.apply(s,t),s},t.use=function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];var s=this;return Array.isArray(t)?(t.forEach(function(t){return s.installModule(t)}),s):s.installModule.apply(s,[t].concat(e))},Object.defineProperties(t,r);var h,d,c,u,p,g,m,v,y,b={updateSize:function(){var t=this.$el,e=void 0!==this.params.width?this.params.width:t[0].clientWidth,i=void 0!==this.params.height?this.params.height:t[0].clientHeight;0===e&&this.isHorizontal()||0===i&&this.isVertical()||(e=e-parseInt(t.css("padding-left"),10)-parseInt(t.css("padding-right"),10),i=i-parseInt(t.css("padding-top"),10)-parseInt(t.css("padding-bottom"),10),tt.extend(this,{width:e,height:i,size:this.isHorizontal()?e:i}))},updateSlides:function(){var t=this,e=t.params,i=t.$wrapperEl,s=t.size,n=t.rtlTranslate,a=t.wrongRTL,o=t.virtual&&e.virtual.enabled,r=o?t.virtual.slides.length:t.slides.length,l=i.children("."+t.params.slideClass),h=o?t.virtual.slides.length:l.length,d=[],c=[],u=[],p=e.slidesOffsetBefore;"function"==typeof p&&(p=e.slidesOffsetBefore.call(t));var g=e.slidesOffsetAfter;"function"==typeof g&&(g=e.slidesOffsetAfter.call(t));var f,m=t.snapGrid.length,v=t.snapGrid.length,y=e.spaceBetween,b=-p,w=0,k=0;if(void 0!==s){"string"==typeof y&&0<=y.indexOf("%")&&(y=parseFloat(y.replace("%",""))/100*s),t.virtualSize=-y,n?l.css({marginLeft:"",marginTop:""}):l.css({marginRight:"",marginBottom:""}),1<e.slidesPerColumn&&(f=Math.floor(h/e.slidesPerColumn)===h/t.params.slidesPerColumn?h:Math.ceil(h/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(f=Math.max(f,e.slidesPerView*e.slidesPerColumn)));for(var x,_,C,E=e.slidesPerColumn,P=f/E,T=Math.floor(h/e.slidesPerColumn),S=0;S<h;S+=1){R=0;var M,j,z,I,Q,L,D,O,B,A,H,N,R,W,$,V,X,F,Y,G=l.eq(S);1<e.slidesPerColumn&&(z=j=M=void 0,"column"===e.slidesPerColumnFill?(z=S-(j=Math.floor(S/E))*E,(T<j||j===T&&z===E-1)&&E<=(z+=1)&&(z=0,j+=1),M=j+z*f/E,G.css({"-webkit-box-ordinal-group":M,"-moz-box-ordinal-group":M,"-ms-flex-order":M,"-webkit-order":M,order:M})):j=S-(z=Math.floor(S/P))*P,G.css("margin-"+(t.isHorizontal()?"top":"left"),0!==z&&e.spaceBetween&&e.spaceBetween+"px").attr("data-swiper-column",j).attr("data-swiper-row",z)),"none"!==G.css("display")&&("auto"===e.slidesPerView?(I=Z.getComputedStyle(G[0],null),Q=G[0].style.transform,L=G[0].style.webkitTransform,Q&&(G[0].style.transform="none"),L&&(G[0].style.webkitTransform="none"),R=e.roundLengths?t.isHorizontal()?G.outerWidth(!0):G.outerHeight(!0):t.isHorizontal()?(D=parseFloat(I.getPropertyValue("width")),O=parseFloat(I.getPropertyValue("padding-left")),B=parseFloat(I.getPropertyValue("padding-right")),A=parseFloat(I.getPropertyValue("margin-left")),H=parseFloat(I.getPropertyValue("margin-right")),(N=I.getPropertyValue("box-sizing"))&&"border-box"===N?D+A+H:D+O+B+A+H):(W=parseFloat(I.getPropertyValue("height")),$=parseFloat(I.getPropertyValue("padding-top")),V=parseFloat(I.getPropertyValue("padding-bottom")),X=parseFloat(I.getPropertyValue("margin-top")),F=parseFloat(I.getPropertyValue("margin-bottom")),(Y=I.getPropertyValue("box-sizing"))&&"border-box"===Y?W+X+F:W+$+V+X+F),Q&&(G[0].style.transform=Q),L&&(G[0].style.webkitTransform=L),e.roundLengths&&(R=Math.floor(R))):(R=(s-(e.slidesPerView-1)*y)/e.slidesPerView,e.roundLengths&&(R=Math.floor(R)),l[S]&&(t.isHorizontal()?l[S].style.width=R+"px":l[S].style.height=R+"px")),l[S]&&(l[S].swiperSlideSize=R),u.push(R),e.centeredSlides?(b=b+R/2+w/2+y,0===w&&0!==S&&(b=b-s/2-y),0===S&&(b=b-s/2-y),Math.abs(b)<.001&&(b=0),e.roundLengths&&(b=Math.floor(b)),k%e.slidesPerGroup==0&&d.push(b),c.push(b)):(e.roundLengths&&(b=Math.floor(b)),k%e.slidesPerGroup==0&&d.push(b),c.push(b),b=b+R+y),t.virtualSize+=R+y,w=R,k+=1)}if(t.virtualSize=Math.max(t.virtualSize,s)+g,n&&a&&("slide"===e.effect||"coverflow"===e.effect)&&i.css({width:t.virtualSize+e.spaceBetween+"px"}),et.flexbox&&!e.setWrapperSize||(t.isHorizontal()?i.css({width:t.virtualSize+e.spaceBetween+"px"}):i.css({height:t.virtualSize+e.spaceBetween+"px"})),1<e.slidesPerColumn&&(t.virtualSize=(R+e.spaceBetween)*f,t.virtualSize=Math.ceil(t.virtualSize/e.slidesPerColumn)-e.spaceBetween,t.isHorizontal()?i.css({width:t.virtualSize+e.spaceBetween+"px"}):i.css({height:t.virtualSize+e.spaceBetween+"px"}),e.centeredSlides)){x=[];for(var q=0;q<d.length;q+=1){var U=d[q];e.roundLengths&&(U=Math.floor(U)),d[q]<t.virtualSize+d[0]&&x.push(U)}d=x}if(!e.centeredSlides){x=[];for(var K=0;K<d.length;K+=1){var J=d[K];e.roundLengths&&(J=Math.floor(J)),d[K]<=t.virtualSize-s&&x.push(J)}d=x,1<Math.floor(t.virtualSize-s)-Math.floor(d[d.length-1])&&d.push(t.virtualSize-s)}0===d.length&&(d=[0]),0!==e.spaceBetween&&(t.isHorizontal()?n?l.css({marginLeft:y+"px"}):l.css({marginRight:y+"px"}):l.css({marginBottom:y+"px"})),e.centerInsufficientSlides&&(_=0,u.forEach(function(t){_+=t+(e.spaceBetween?e.spaceBetween:0)}),(_-=e.spaceBetween)<s&&(C=(s-_)/2,d.forEach(function(t,e){d[e]=t-C}),c.forEach(function(t,e){c[e]=t+C}))),tt.extend(t,{slides:l,snapGrid:d,slidesGrid:c,slidesSizesGrid:u}),h!==r&&t.emit("slidesLengthChange"),d.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),c.length!==v&&t.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&t.updateSlidesOffset()}},updateAutoHeight:function(t){var e,i,s=this,n=[],a=0;if("number"==typeof t?s.setTransition(t):!0===t&&s.setTransition(s.params.speed),"auto"!==s.params.slidesPerView&&1<s.params.slidesPerView)for(e=0;e<Math.ceil(s.params.slidesPerView);e+=1){var o=s.activeIndex+e;if(o>s.slides.length)break;n.push(s.slides.eq(o)[0])}else n.push(s.slides.eq(s.activeIndex)[0]);for(e=0;e<n.length;e+=1){void 0!==n[e]&&(a=a<(i=n[e].offsetHeight)?i:a)}a&&s.$wrapperEl.css("height",a+"px")},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this,i=e.params,s=e.slides,n=e.rtlTranslate;if(0!==s.length){void 0===s[0].swiperSlideOffset&&e.updateSlidesOffset();var a=n?t:-t;s.removeClass(i.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(var o=0;o<s.length;o+=1){var r,l,h=s[o],d=(a+(i.centeredSlides?e.minTranslate():0)-h.swiperSlideOffset)/(h.swiperSlideSize+i.spaceBetween);i.watchSlidesVisibility&&(l=(r=-(a-h.swiperSlideOffset))+e.slidesSizesGrid[o],(0<=r&&r<e.size||0<l&&l<=e.size||r<=0&&l>=e.size)&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(o),s.eq(o).addClass(i.slideVisibleClass))),h.progress=n?-d:d}e.visibleSlides=z(e.visibleSlides)}},updateProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this,i=e.params,s=e.maxTranslate()-e.minTranslate(),n=e.progress,a=e.isBeginning,o=a,r=l=e.isEnd,l=0==s?a=!(n=0):(a=(n=(t-e.minTranslate())/s)<=0,1<=n);tt.extend(e,{progress:n,isBeginning:a,isEnd:l}),(i.watchSlidesProgress||i.watchSlidesVisibility)&&e.updateSlidesProgress(t),a&&!o&&e.emit("reachBeginning toEdge"),l&&!r&&e.emit("reachEnd toEdge"),(o&&!a||r&&!l)&&e.emit("fromEdge"),e.emit("progress",n)},updateSlidesClasses:function(){var t,e=this.slides,i=this.params,s=this.$wrapperEl,n=this.activeIndex,a=this.realIndex,o=this.virtual&&i.virtual.enabled;e.removeClass(i.slideActiveClass+" "+i.slideNextClass+" "+i.slidePrevClass+" "+i.slideDuplicateActiveClass+" "+i.slideDuplicateNextClass+" "+i.slideDuplicatePrevClass),(t=o?this.$wrapperEl.find("."+i.slideClass+'[data-swiper-slide-index="'+n+'"]'):e.eq(n)).addClass(i.slideActiveClass),i.loop&&(t.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+a+'"]').addClass(i.slideDuplicateActiveClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]').addClass(i.slideDuplicateActiveClass));var r=t.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===r.length&&(r=e.eq(0)).addClass(i.slideNextClass);var l=t.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===l.length&&(l=e.eq(-1)).addClass(i.slidePrevClass),i.loop&&(r.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass),l.hasClass(i.slideDuplicateClass)?s.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass):s.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass))},updateActiveIndex:function(t){var e,i,s=this,n=s.rtlTranslate?s.translate:-s.translate,a=s.slidesGrid,o=s.snapGrid,r=s.params,l=s.activeIndex,h=s.realIndex,d=s.snapIndex,c=t;if(void 0===c){for(var u=0;u<a.length;u+=1)void 0!==a[u+1]?n>=a[u]&&n<a[u+1]-(a[u+1]-a[u])/2?c=u:n>=a[u]&&n<a[u+1]&&(c=u+1):n>=a[u]&&(c=u);r.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}(e=0<=o.indexOf(n)?o.indexOf(n):Math.floor(c/r.slidesPerGroup))>=o.length&&(e=o.length-1),c!==l?(i=parseInt(s.slides.eq(c).attr("data-swiper-slide-index")||c,10),tt.extend(s,{snapIndex:e,realIndex:i,previousIndex:l,activeIndex:c}),s.emit("activeIndexChange"),s.emit("snapIndexChange"),h!==i&&s.emit("realIndexChange"),s.emit("slideChange")):e!==d&&(s.snapIndex=e,s.emit("snapIndexChange"))},updateClickedSlide:function(t){var e=this,i=e.params,s=z(t.target).closest("."+i.slideClass)[0],n=!1;if(s)for(var a=0;a<e.slides.length;a+=1)e.slides[a]===s&&(n=!0);if(!s||!n)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=s,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(z(s).attr("data-swiper-slide-index"),10):e.clickedIndex=z(s).index(),i.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},w={getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var e=this.params,i=this.rtlTranslate,s=this.translate,n=this.$wrapperEl;if(e.virtualTranslate)return i?-s:s;var a=tt.getTranslate(n[0],t);return i&&(a=-a),a||0},setTranslate:function(t,e){var i=this,s=i.rtlTranslate,n=i.params,a=i.$wrapperEl,o=i.progress,r=0,l=0;i.isHorizontal()?r=s?-t:t:l=t,n.roundLengths&&(r=Math.floor(r),l=Math.floor(l)),n.virtualTranslate||(et.transforms3d?a.transform("translate3d("+r+"px, "+l+"px, 0px)"):a.transform("translate("+r+"px, "+l+"px)")),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?r:l;var h=i.maxTranslate()-i.minTranslate();(0==h?0:(t-i.minTranslate())/h)!==o&&i.updateProgress(t),i.emit("setTranslate",i.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},k={slideTo:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0);var n=this,a=t;a<0&&(a=0);var o=n.params,r=n.snapGrid,l=n.slidesGrid,h=n.previousIndex,d=n.activeIndex,c=n.rtlTranslate;if(n.animating&&o.preventInteractionOnTransition)return!1;var u=Math.floor(a/o.slidesPerGroup);u>=r.length&&(u=r.length-1),(d||o.initialSlide||0)===(h||0)&&i&&n.emit("beforeSlideChangeStart");var p,g=-r[u];if(n.updateProgress(g),o.normalizeSlideIndex)for(var f=0;f<l.length;f+=1)-Math.floor(100*g)>=Math.floor(100*l[f])&&(a=f);if(n.initialized&&a!==d){if(!n.allowSlideNext&&g<n.translate&&g<n.minTranslate())return!1;if(!n.allowSlidePrev&&g>n.translate&&g>n.maxTranslate()&&(d||0)!==a)return!1}return p=d<a?"next":a<d?"prev":"reset",c&&-g===n.translate||!c&&g===n.translate?(n.updateActiveIndex(a),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),"slide"!==o.effect&&n.setTranslate(g),"reset"!=p&&(n.transitionStart(i,p),n.transitionEnd(i,p)),!1):(0!==e&&et.transition?(n.setTransition(e),n.setTranslate(g),n.updateActiveIndex(a),n.updateSlidesClasses(),n.emit("beforeTransitionStart",e,s),n.transitionStart(i,p),n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(t){n&&!n.destroyed&&t.target===this&&(n.$wrapperEl[0].removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].removeEventListener("webkitTransitionEnd",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(i,p))}),n.$wrapperEl[0].addEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.$wrapperEl[0].addEventListener("webkitTransitionEnd",n.onSlideToWrapperTransitionEnd))):(n.setTransition(0),n.setTranslate(g),n.updateActiveIndex(a),n.updateSlidesClasses(),n.emit("beforeTransitionStart",e,s),n.transitionStart(i,p),n.transitionEnd(i,p)),!0)},slideToLoop:function(t,e,i,s){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0);var n=t;return this.params.loop&&(n+=this.loopedSlides),this.slideTo(n,e,i,s)},slideNext:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var s=this.params,n=this.animating;return s.loop?!n&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+s.slidesPerGroup,t,e,i)):this.slideTo(this.activeIndex+s.slidesPerGroup,t,e,i)},slidePrev:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var s=this,n=s.params,a=s.animating,o=s.snapGrid,r=s.slidesGrid,l=s.rtlTranslate;if(n.loop){if(a)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}function h(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}var d,c=h(l?s.translate:-s.translate),u=o.map(h),p=(r.map(h),o[u.indexOf(c)],o[u.indexOf(c)-1]);return void 0!==p&&(d=r.indexOf(p))<0&&(d=s.activeIndex-1),s.slideTo(d,t,e,i)},slideReset:function(t,e,i){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,i)},slideToClosest:function(t,e,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var s,n,a=this,o=a.activeIndex,r=Math.floor(o/a.params.slidesPerGroup);return r<a.snapGrid.length-1&&(s=a.rtlTranslate?a.translate:-a.translate,n=a.snapGrid[r],(a.snapGrid[r+1]-n)/2<s-n&&(o=a.params.slidesPerGroup)),a.slideTo(o,t,e,i)},slideToClickedSlide:function(){var t,e=this,i=e.params,s=e.$wrapperEl,n="auto"===i.slidesPerView?e.slidesPerViewDynamic():i.slidesPerView,a=e.clickedIndex;if(i.loop){if(e.animating)return;t=parseInt(z(e.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?a<e.loopedSlides-n/2||a>e.slides.length-e.loopedSlides+n/2?(e.loopFix(),a=s.children("."+i.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),tt.nextTick(function(){e.slideTo(a)})):e.slideTo(a):a>e.slides.length-n?(e.loopFix(),a=s.children("."+i.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),tt.nextTick(function(){e.slideTo(a)})):e.slideTo(a)}else e.slideTo(a)}},x={loopCreate:function(){var s=this,t=s.params,e=s.$wrapperEl;e.children("."+t.slideClass+"."+t.slideDuplicateClass).remove();var n=e.children("."+t.slideClass);if(t.loopFillGroupWithBlank){var i=t.slidesPerGroup-n.length%t.slidesPerGroup;if(i!==t.slidesPerGroup){for(var a=0;a<i;a+=1){var o=z(f.createElement("div")).addClass(t.slideClass+" "+t.slideBlankClass);e.append(o)}n=e.children("."+t.slideClass)}}"auto"!==t.slidesPerView||t.loopedSlides||(t.loopedSlides=n.length),s.loopedSlides=parseInt(t.loopedSlides||t.slidesPerView,10),s.loopedSlides+=t.loopAdditionalSlides,s.loopedSlides>n.length&&(s.loopedSlides=n.length);var r=[],l=[];n.each(function(t,e){var i=z(e);t<s.loopedSlides&&l.push(e),t<n.length&&t>=n.length-s.loopedSlides&&r.push(e),i.attr("data-swiper-slide-index",t)});for(var h=0;h<l.length;h+=1)e.append(z(l[h].cloneNode(!0)).addClass(t.slideDuplicateClass));for(var d=r.length-1;0<=d;--d)e.prepend(z(r[d].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function(){var t,e=this,i=e.params,s=e.activeIndex,n=e.slides,a=e.loopedSlides,o=e.allowSlidePrev,r=e.allowSlideNext,l=e.snapGrid,h=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var d=-l[s]-e.getTranslate();s<a?(t=n.length-3*a+s,t+=a,e.slideTo(t,0,!1,!0)&&0!=d&&e.setTranslate((h?-e.translate:e.translate)-d)):("auto"===i.slidesPerView&&2*a<=s||s>=n.length-a)&&(t=-n.length+s+a,t+=a,e.slideTo(t,0,!1,!0)&&0!=d&&e.setTranslate((h?-e.translate:e.translate)-d)),e.allowSlidePrev=o,e.allowSlideNext=r},loopDestroy:function(){var t=this.$wrapperEl,e=this.params,i=this.slides;t.children("."+e.slideClass+"."+e.slideDuplicateClass+",."+e.slideClass+"."+e.slideBlankClass).remove(),i.removeAttr("data-swiper-slide-index")}},_={setGrabCursor:function(t){var e;et.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||((e=this.el).style.cursor="move",e.style.cursor=t?"-webkit-grabbing":"-webkit-grab",e.style.cursor=t?"-moz-grabbin":"-moz-grab",e.style.cursor=t?"grabbing":"grab")},unsetGrabCursor:function(){et.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}},C={appendSlide:function(t){var e=this.$wrapperEl,i=this.params;if(i.loop&&this.loopDestroy(),"object"==typeof t&&"length"in t)for(var s=0;s<t.length;s+=1)t[s]&&e.append(t[s]);else e.append(t);i.loop&&this.loopCreate(),i.observer&&et.observer||this.update()},prependSlide:function(t){var e=this.params,i=this.$wrapperEl,s=this.activeIndex;e.loop&&this.loopDestroy();var n=s+1;if("object"==typeof t&&"length"in t){for(var a=0;a<t.length;a+=1)t[a]&&i.prepend(t[a]);n=s+t.length}else i.prepend(t);e.loop&&this.loopCreate(),e.observer&&et.observer||this.update(),this.slideTo(n,0,!1)},addSlide:function(t,e){var i=this,s=i.$wrapperEl,n=i.params,a=i.activeIndex;n.loop&&(a-=i.loopedSlides,i.loopDestroy(),i.slides=s.children("."+n.slideClass));var o=i.slides.length;if(t<=0)i.prependSlide(e);else if(o<=t)i.appendSlide(e);else{for(var r=t<a?a+1:a,l=[],h=o-1;t<=h;--h){var d=i.slides.eq(h);d.remove(),l.unshift(d)}if("object"==typeof e&&"length"in e){for(var c=0;c<e.length;c+=1)e[c]&&s.append(e[c]);r=t<a?a+e.length:a}else s.append(e);for(var u=0;u<l.length;u+=1)s.append(l[u]);n.loop&&i.loopCreate(),n.observer&&et.observer||i.update(),n.loop?i.slideTo(r+i.loopedSlides,0,!1):i.slideTo(r,0,!1)}},removeSlide:function(t){var e=this,i=e.params,s=e.$wrapperEl,n=e.activeIndex;i.loop&&(n-=e.loopedSlides,e.loopDestroy(),e.slides=s.children("."+i.slideClass));var a,o=n;if("object"==typeof t&&"length"in t){for(var r=0;r<t.length;r+=1)a=t[r],e.slides[a]&&e.slides.eq(a).remove(),a<o&&--o;o=Math.max(o,0)}else a=t,e.slides[a]&&e.slides.eq(a).remove(),a<o&&--o,o=Math.max(o,0);i.loop&&e.loopCreate(),i.observer&&et.observer||e.update(),i.loop?e.slideTo(o+e.loopedSlides,0,!1):e.slideTo(o,0,!1)},removeAllSlides:function(){for(var t=[],e=0;e<this.slides.length;e+=1)t.push(e);this.removeSlide(t)}},E=(c=Z.navigator.userAgent,u={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:Z.cordova||Z.phonegap,phonegap:Z.cordova||Z.phonegap},p=c.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),g=c.match(/(Android);?[\s\/]+([\d.]+)?/),m=c.match(/(iPad).*OS\s([\d_]+)/),v=c.match(/(iPod)(.*OS\s([\d_]+))?/),y=!m&&c.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p&&(u.os="windows",u.osVersion=p[2],u.windows=!0),g&&!p&&(u.os="android",u.osVersion=g[2],u.android=!0,u.androidChrome=0<=c.toLowerCase().indexOf("chrome")),(m||y||v)&&(u.os="ios",u.ios=!0),y&&!v&&(u.osVersion=y[2].replace(/_/g,"."),u.iphone=!0),m&&(u.osVersion=m[2].replace(/_/g,"."),u.ipad=!0),v&&(u.osVersion=v[3]?v[3].replace(/_/g,"."):null,u.iphone=!0),u.ios&&u.osVersion&&0<=c.indexOf("Version/")&&"10"===u.osVersion.split(".")[0]&&(u.osVersion=c.toLowerCase().split("version/")[1].split(" ")[0]),u.desktop=!(u.os||u.android||u.webView),u.webView=(y||m||v)&&c.match(/.*AppleWebKit(?!.*Safari)/i),u.os&&"ios"===u.os&&(h=u.osVersion.split("."),d=f.querySelector('meta[name="viewport"]'),u.minimalUi=!u.webView&&(v||y)&&(7==+h[0]?1<=+h[1]:7<+h[0])&&d&&0<=d.getAttribute("content").indexOf("minimal-ui")),u.pixelRatio=Z.devicePixelRatio||1,u);function P(){var t,e,i,s,n=this,a=n.params,o=n.el;o&&0===o.offsetWidth||(a.breakpoints&&n.setBreakpoint(),t=n.allowSlideNext,e=n.allowSlidePrev,i=n.snapGrid,n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),a.freeMode?(s=Math.min(Math.max(n.translate,n.maxTranslate()),n.minTranslate()),n.setTranslate(s),n.updateActiveIndex(),n.updateSlidesClasses(),a.autoHeight&&n.updateAutoHeight()):(n.updateSlidesClasses(),("auto"===a.slidesPerView||1<a.slidesPerView)&&n.isEnd&&!n.params.centeredSlides?n.slideTo(n.slides.length-1,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0)),n.allowSlidePrev=e,n.allowSlideNext=t,n.params.watchOverflow&&i!==n.snapGrid&&n.checkOverflow())}var T,S,M,j={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},Q={update:b,translate:w,transition:{setTransition:function(t,e){this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);var i=this.activeIndex,s=this.params,n=this.previousIndex;s.autoHeight&&this.updateAutoHeight();var a=(a=e)||(n<i?"next":i<n?"prev":"reset");if(this.emit("transitionStart"),t&&i!==n){if("reset"===a)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===a?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}},transitionEnd:function(t,e){void 0===t&&(t=!0);var i=this.activeIndex,s=this.previousIndex;this.animating=!1,this.setTransition(0);var n=(n=e)||(s<i?"next":i<s?"prev":"reset");if(this.emit("transitionEnd"),t&&i!==s){if("reset"===n)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===n?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}},slide:k,loop:x,grabCursor:_,manipulation:C,events:{attachEvents:function(){var t=this,e=t.params,i=t.touchEvents,s=t.el,n=t.wrapperEl;t.onTouchStart=function(t){var e,i,s,n,a,o,r,l=this,h=l.touchEventsData,d=l.params,c=l.touches;l.animating&&d.preventInteractionOnTransition||((e=t).originalEvent&&(e=e.originalEvent),h.isTouchEvent="touchstart"===e.type,!h.isTouchEvent&&"which"in e&&3===e.which||!h.isTouchEvent&&"button"in e&&0<e.button||h.isTouched&&h.isMoved||(d.noSwiping&&z(e.target).closest(d.noSwipingSelector?d.noSwipingSelector:"."+d.noSwipingClass)[0]?l.allowClick=!0:d.swipeHandler&&!z(e).closest(d.swipeHandler)[0]||(c.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,c.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,i=c.currentX,s=c.currentY,n=d.edgeSwipeDetection||d.iOSEdgeSwipeDetection,a=d.edgeSwipeThreshold||d.iOSEdgeSwipeThreshold,n&&(i<=a||i>=Z.screen.width-a)||(tt.extend(h,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=i,c.startY=s,h.touchStartTime=tt.now(),l.allowClick=!0,l.updateSize(),l.swipeDirection=void 0,0<d.threshold&&(h.allowThresholdMove=!1),"touchstart"!==e.type&&(o=!0,z(e.target).is(h.formElements)&&(o=!1),f.activeElement&&z(f.activeElement).is(h.formElements)&&f.activeElement!==e.target&&f.activeElement.blur(),r=o&&l.allowTouchMove&&d.touchStartPreventDefault,(d.touchStartForcePreventDefault||r)&&e.preventDefault()),l.emit("touchStart",e)))))}.bind(t),t.onTouchMove=function(t){var e=this,i=e.touchEventsData,s=e.params,n=e.touches,a=e.rtlTranslate,o=t;if(o.originalEvent&&(o=o.originalEvent),i.isTouched){if(!i.isTouchEvent||"mousemove"!==o.type){var r="touchmove"===o.type?o.targetTouches[0].pageX:o.pageX,l="touchmove"===o.type?o.targetTouches[0].pageY:o.pageY;if(o.preventedByNestedSwiper)return n.startX=r,void(n.startY=l);if(!e.allowTouchMove)return e.allowClick=!1,void(i.isTouched&&(tt.extend(n,{startX:r,startY:l,currentX:r,currentY:l}),i.touchStartTime=tt.now()));if(i.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop)if(e.isVertical()){if(l<n.startY&&e.translate<=e.maxTranslate()||l>n.startY&&e.translate>=e.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(r<n.startX&&e.translate<=e.maxTranslate()||r>n.startX&&e.translate>=e.minTranslate())return;if(i.isTouchEvent&&f.activeElement&&o.target===f.activeElement&&z(o.target).is(i.formElements))return i.isMoved=!0,void(e.allowClick=!1);if(i.allowTouchCallbacks&&e.emit("touchMove",o),!(o.targetTouches&&1<o.targetTouches.length)){n.currentX=r,n.currentY=l;var h,d=n.currentX-n.startX,c=n.currentY-n.startY;if(!(e.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(c,2))<e.params.threshold))if(void 0===i.isScrolling&&(e.isHorizontal()&&n.currentY===n.startY||e.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:25<=d*d+c*c&&(h=180*Math.atan2(Math.abs(c),Math.abs(d))/Math.PI,i.isScrolling=e.isHorizontal()?h>s.touchAngle:90-h>s.touchAngle)),i.isScrolling&&e.emit("touchMoveOpposite",o),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling)i.isTouched=!1;else if(i.startMoving){e.allowClick=!1,o.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&o.stopPropagation(),i.isMoved||(s.loop&&e.loopFix(),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating&&e.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!s.grabCursor||!0!==e.allowSlideNext&&!0!==e.allowSlidePrev||e.setGrabCursor(!0),e.emit("sliderFirstMove",o)),e.emit("sliderMove",o),i.isMoved=!0;var u=e.isHorizontal()?d:c;n.diff=u,u*=s.touchRatio,a&&(u=-u),e.swipeDirection=0<u?"prev":"next",i.currentTranslate=u+i.startTranslate;var p=!0,g=s.resistanceRatio;if(s.touchReleaseOnEdges&&(g=0),0<u&&i.currentTranslate>e.minTranslate()?(p=!1,s.resistance&&(i.currentTranslate=e.minTranslate()-1+Math.pow(-e.minTranslate()+i.startTranslate+u,g))):u<0&&i.currentTranslate<e.maxTranslate()&&(p=!1,s.resistance&&(i.currentTranslate=e.maxTranslate()+1-Math.pow(e.maxTranslate()-i.startTranslate-u,g))),p&&(o.preventedByNestedSwiper=!0),!e.allowSlideNext&&"next"===e.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&"prev"===e.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),0<s.threshold){if(!(Math.abs(u)>s.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=e.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}s.followFinger&&((s.freeMode||s.watchSlidesProgress||s.watchSlidesVisibility)&&(e.updateActiveIndex(),e.updateSlidesClasses()),s.freeMode&&(0===i.velocities.length&&i.velocities.push({position:n[e.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:n[e.isHorizontal()?"currentX":"currentY"],time:tt.now()})),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}}}}else i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",o)}.bind(t),t.onTouchEnd=function(t){var e=this,i=e.touchEventsData,s=e.params,n=e.touches,a=e.rtlTranslate,o=e.$wrapperEl,r=e.slidesGrid,l=e.snapGrid,h=t;if(h.originalEvent&&(h=h.originalEvent),i.allowTouchCallbacks&&e.emit("touchEnd",h),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&e.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var d,c,u,p,g,f=tt.now(),m=f-i.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(h),e.emit("tap",h),m<300&&300<f-i.lastClickTime&&(i.clickTimeout&&clearTimeout(i.clickTimeout),i.clickTimeout=tt.nextTick(function(){e&&!e.destroyed&&e.emit("click",h)},300)),m<300&&f-i.lastClickTime<300&&(i.clickTimeout&&clearTimeout(i.clickTimeout),e.emit("doubleTap",h))),i.lastClickTime=tt.now(),tt.nextTick(function(){e.destroyed||(e.allowClick=!0)}),!i.isTouched||!i.isMoved||!e.swipeDirection||0===n.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,d=s.followFinger?a?e.translate:-e.translate:-i.currentTranslate,s.freeMode){if(d<-e.minTranslate())return void e.slideTo(e.activeIndex);if(d>-e.maxTranslate())return void(e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1));if(s.freeModeMomentum){1<i.velocities.length?(c=i.velocities.pop(),u=i.velocities.pop(),p=c.position-u.position,g=c.time-u.time,e.velocity=p/g,e.velocity/=2,Math.abs(e.velocity)<s.freeModeMinimumVelocity&&(e.velocity=0),(150<g||300<tt.now()-c.time)&&(e.velocity=0)):e.velocity=0,e.velocity*=s.freeModeMomentumVelocityRatio,i.velocities.length=0;var v=1e3*s.freeModeMomentumRatio,y=e.velocity*v,b=e.translate+y;a&&(b=-b);var w,k,x=!1,_=20*Math.abs(e.velocity)*s.freeModeMomentumBounceRatio;if(b<e.maxTranslate())s.freeModeMomentumBounce?(b+e.maxTranslate()<-_&&(b=e.maxTranslate()-_),w=e.maxTranslate(),x=!0,i.allowMomentumBounce=!0):b=e.maxTranslate(),s.loop&&s.centeredSlides&&(k=!0);else if(b>e.minTranslate())s.freeModeMomentumBounce?(b-e.minTranslate()>_&&(b=e.minTranslate()+_),w=e.minTranslate(),x=!0,i.allowMomentumBounce=!0):b=e.minTranslate(),s.loop&&s.centeredSlides&&(k=!0);else if(s.freeModeSticky){for(var C,E=0;E<l.length;E+=1)if(l[E]>-b){C=E;break}b=-(Math.abs(l[C]-b)<Math.abs(l[C-1]-b)||"next"===e.swipeDirection?l[C]:l[C-1])}if(k&&e.once("transitionEnd",function(){e.loopFix()}),0!==e.velocity)v=a?Math.abs((-b-e.translate)/e.velocity):Math.abs((b-e.translate)/e.velocity);else if(s.freeModeSticky)return void e.slideToClosest();s.freeModeMomentumBounce&&x?(e.updateProgress(w),e.setTransition(v),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating=!0,o.transitionEnd(function(){e&&!e.destroyed&&i.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(s.speed),e.setTranslate(w),o.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))})):e.velocity?(e.updateProgress(b),e.setTransition(v),e.setTranslate(b),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,o.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(b),e.updateActiveIndex(),e.updateSlidesClasses()}else if(s.freeModeSticky)return void e.slideToClosest();(!s.freeModeMomentum||m>=s.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}else{for(var P=0,T=e.slidesSizesGrid[0],S=0;S<r.length;S+=s.slidesPerGroup)void 0!==r[S+s.slidesPerGroup]?d>=r[S]&&d<r[S+s.slidesPerGroup]&&(T=r[(P=S)+s.slidesPerGroup]-r[S]):d>=r[S]&&(P=S,T=r[r.length-1]-r[r.length-2]);var M=(d-r[P])/T;if(m>s.longSwipesMs){if(!s.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(M>=s.longSwipesRatio?e.slideTo(P+s.slidesPerGroup):e.slideTo(P)),"prev"===e.swipeDirection&&(M>1-s.longSwipesRatio?e.slideTo(P+s.slidesPerGroup):e.slideTo(P))}else{if(!s.shortSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(P+s.slidesPerGroup),"prev"===e.swipeDirection&&e.slideTo(P)}}}.bind(t),t.onClick=function(t){this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}.bind(t);var a,o="container"===e.touchEventsTarget?s:n,r=!!e.nested;et.touch||!et.pointerEvents&&!et.prefixedPointerEvents?(et.touch&&(a=!("touchstart"!==i.start||!et.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1},o.addEventListener(i.start,t.onTouchStart,a),o.addEventListener(i.move,t.onTouchMove,et.passiveListener?{passive:!1,capture:r}:r),o.addEventListener(i.end,t.onTouchEnd,a)),(e.simulateTouch&&!E.ios&&!E.android||e.simulateTouch&&!et.touch&&E.ios)&&(o.addEventListener("mousedown",t.onTouchStart,!1),f.addEventListener("mousemove",t.onTouchMove,r),f.addEventListener("mouseup",t.onTouchEnd,!1))):(o.addEventListener(i.start,t.onTouchStart,!1),f.addEventListener(i.move,t.onTouchMove,r),f.addEventListener(i.end,t.onTouchEnd,!1)),(e.preventClicks||e.preventClicksPropagation)&&o.addEventListener("click",t.onClick,!0),t.on(E.ios||E.android?"resize orientationchange observerUpdate":"resize observerUpdate",P,!0)},detachEvents:function(){var t,e=this,i=e.params,s=e.touchEvents,n=e.el,a=e.wrapperEl,o="container"===i.touchEventsTarget?n:a,r=!!i.nested;et.touch||!et.pointerEvents&&!et.prefixedPointerEvents?(et.touch&&(t=!("onTouchStart"!==s.start||!et.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1},o.removeEventListener(s.start,e.onTouchStart,t),o.removeEventListener(s.move,e.onTouchMove,r),o.removeEventListener(s.end,e.onTouchEnd,t)),(i.simulateTouch&&!E.ios&&!E.android||i.simulateTouch&&!et.touch&&E.ios)&&(o.removeEventListener("mousedown",e.onTouchStart,!1),f.removeEventListener("mousemove",e.onTouchMove,r),f.removeEventListener("mouseup",e.onTouchEnd,!1))):(o.removeEventListener(s.start,e.onTouchStart,!1),f.removeEventListener(s.move,e.onTouchMove,r),f.removeEventListener(s.end,e.onTouchEnd,!1)),(i.preventClicks||i.preventClicksPropagation)&&o.removeEventListener("click",e.onClick,!0),e.off(E.ios||E.android?"resize orientationchange observerUpdate":"resize observerUpdate",P)}},breakpoints:{setBreakpoint:function(){var t=this,e=t.activeIndex,i=t.initialized,s=t.loopedSlides;void 0===s&&(s=0);var n,a,o,r,l,h=t.params,d=h.breakpoints;!d||d&&0===Object.keys(d).length||(n=t.getBreakpoint(d))&&t.currentBreakpoint!==n&&((a=n in d?d[n]:void 0)&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(function(t){var e=a[t];void 0!==e&&(a[t]="slidesPerView"!==t||"AUTO"!==e&&"auto"!==e?"slidesPerView"===t?parseFloat(e):parseInt(e,10):"auto")}),r=(o=a||t.originalParams).direction&&o.direction!==h.direction,l=h.loop&&(o.slidesPerView!==h.slidesPerView||r),r&&i&&t.changeDirection(),tt.extend(t.params,o),tt.extend(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),t.currentBreakpoint=n,l&&i&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-s+t.loopedSlides,0,!1)),t.emit("breakpoint",o))},getBreakpoint:function(t){if(t){var e=!1,i=[];Object.keys(t).forEach(function(t){i.push(t)}),i.sort(function(t,e){return parseInt(t,10)-parseInt(e,10)});for(var s=0;s<i.length;s+=1){var n=i[s];this.params.breakpointsInverse?n<=Z.innerWidth&&(e=n):n>=Z.innerWidth&&!e&&(e=n)}return e||"max"}}},checkOverflow:{checkOverflow:function(){var t=this,e=t.isLocked;t.isLocked=1===t.snapGrid.length,t.allowSlideNext=!t.isLocked,t.allowSlidePrev=!t.isLocked,e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock"),e&&e!==t.isLocked&&(t.isEnd=!1,t.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,i=this.params,t=this.rtl,s=this.$el,n=[];n.push("initialized"),n.push(i.direction),i.freeMode&&n.push("free-mode"),et.flexbox||n.push("no-flexbox"),i.autoHeight&&n.push("autoheight"),t&&n.push("rtl"),1<i.slidesPerColumn&&n.push("multirow"),E.android&&n.push("android"),E.ios&&n.push("ios"),(I.isIE||I.isEdge)&&(et.pointerEvents||et.prefixedPointerEvents)&&n.push("wp8-"+i.direction),n.forEach(function(t){e.push(i.containerModifierClass+t)}),s.addClass(e.join(" "))},removeClasses:function(){var t=this.$el,e=this.classNames;t.removeClass(e.join(" "))}},images:{loadImage:function(t,e,i,s,n,a){var o;function r(){a&&a()}(!t.complete||!n)&&e?((o=new Z.Image).onload=r,o.onerror=r,s&&(o.sizes=s),i&&(o.srcset=i),e&&(o.src=e)):r()},preloadImages:function(){var t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var i=0;i<t.imagesToLoad.length;i+=1){var s=t.imagesToLoad[i];t.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,e)}}}},L={},D=function(c){function u(){for(var t,n,e=[],i=arguments.length;i--;)e[i]=arguments[i];n=(n=1===e.length&&e[0].constructor&&e[0].constructor===Object?e[0]:(t=e[0],e[1]))||{},n=tt.extend({},n),t&&!n.el&&(n.el=t),c.call(this,n),Object.keys(Q).forEach(function(e){Object.keys(Q[e]).forEach(function(t){u.prototype[t]||(u.prototype[t]=Q[e][t])})});var a=this;void 0===a.modules&&(a.modules={}),Object.keys(a.modules).forEach(function(t){var e=a.modules[t];if(e.params){var i=Object.keys(e.params)[0],s=e.params[i];if("object"!=typeof s||null===s)return;if(!(i in n&&"enabled"in s))return;!0===n[i]&&(n[i]={enabled:!0}),"object"!=typeof n[i]||"enabled"in n[i]||(n[i].enabled=!0),n[i]||(n[i]={enabled:!1})}});var s=tt.extend({},j);a.useModulesParams(s),a.params=tt.extend({},s,L,n),a.originalParams=tt.extend({},a.params),a.passedParams=tt.extend({},n);var o=(a.$=z)(a.params.el);if(t=o[0]){if(1<o.length){var r=[];return o.each(function(t,e){var i=tt.extend({},n,{el:e});r.push(new u(i))}),r}t.swiper=a,o.data("swiper",a);var l,h,d=o.children("."+a.params.wrapperClass);return tt.extend(a,{$el:o,el:t,$wrapperEl:d,wrapperEl:d[0],classNames:[],slides:z(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===a.params.direction},isVertical:function(){return"vertical"===a.params.direction},rtl:"rtl"===t.dir.toLowerCase()||"rtl"===o.css("direction"),rtlTranslate:"horizontal"===a.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===o.css("direction")),wrongRTL:"-webkit-box"===d.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:(l=["touchstart","touchmove","touchend"],h=["mousedown","mousemove","mouseup"],et.pointerEvents?h=["pointerdown","pointermove","pointerup"]:et.prefixedPointerEvents&&(h=["MSPointerDown","MSPointerMove","MSPointerUp"]),a.touchEventsTouch={start:l[0],move:l[1],end:l[2]},a.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},et.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:tt.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.useModules(),a.params.init&&a.init(),a}}c&&(u.__proto__=c);var t={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return((u.prototype=Object.create(c&&c.prototype)).constructor=u).prototype.slidesPerViewDynamic=function(){var t=this.params,e=this.slides,i=this.slidesGrid,s=this.size,n=this.activeIndex,a=1;if(t.centeredSlides){for(var o,r=e[n].swiperSlideSize,l=n+1;l<e.length;l+=1)e[l]&&!o&&(a+=1,s<(r+=e[l].swiperSlideSize)&&(o=!0));for(var h=n-1;0<=h;--h)e[h]&&!o&&(a+=1,s<(r+=e[h].swiperSlideSize)&&(o=!0))}else for(var d=n+1;d<e.length;d+=1)i[d]-i[n]<s&&(a+=1);return a},u.prototype.update=function(){var t,e,i=this;function s(){var t=i.rtlTranslate?-1*i.translate:i.translate,e=Math.min(Math.max(t,i.maxTranslate()),i.minTranslate());i.setTranslate(e),i.updateActiveIndex(),i.updateSlidesClasses()}i&&!i.destroyed&&(t=i.snapGrid,(e=i.params).breakpoints&&i.setBreakpoint(),i.updateSize(),i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.params.freeMode?(s(),i.params.autoHeight&&i.updateAutoHeight()):(("auto"===i.params.slidesPerView||1<i.params.slidesPerView)&&i.isEnd&&!i.params.centeredSlides?i.slideTo(i.slides.length-1,0,!1,!0):i.slideTo(i.activeIndex,0,!1,!0))||s(),e.watchOverflow&&t!==i.snapGrid&&i.checkOverflow(),i.emit("update"))},u.prototype.changeDirection=function(i,t){void 0===t&&(t=!0);var e=this,s=e.params.direction;return(i=i||("horizontal"===s?"vertical":"horizontal"))===s||"horizontal"!==i&&"vertical"!==i||("vertical"===s&&(e.$el.removeClass(e.params.containerModifierClass+"vertical wp8-vertical").addClass(""+e.params.containerModifierClass+i),(I.isIE||I.isEdge)&&(et.pointerEvents||et.prefixedPointerEvents)&&e.$el.addClass(e.params.containerModifierClass+"wp8-"+i)),"horizontal"===s&&(e.$el.removeClass(e.params.containerModifierClass+"horizontal wp8-horizontal").addClass(""+e.params.containerModifierClass+i),(I.isIE||I.isEdge)&&(et.pointerEvents||et.prefixedPointerEvents)&&e.$el.addClass(e.params.containerModifierClass+"wp8-"+i)),e.params.direction=i,e.slides.each(function(t,e){"vertical"===i?e.style.width="":e.style.height=""}),e.emit("changeDirection"),t&&e.update()),e},u.prototype.init=function(){var t=this;t.initialized||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit),t.attachEvents(),t.initialized=!0,t.emit("init"))},u.prototype.destroy=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var i=this,s=i.params,n=i.$el,a=i.$wrapperEl,o=i.slides;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),e&&(i.removeClasses(),n.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(function(t){i.off(t)}),!1!==t&&(i.$el[0].swiper=null,i.$el.data("swiper",null),tt.deleteProps(i)),i.destroyed=!0),null},u.extendDefaults=function(t){tt.extend(L,t)},t.extendedDefaults.get=function(){return L},t.defaults.get=function(){return j},t.Class.get=function(){return c},t.$.get=function(){return z},Object.defineProperties(u,t),u}(t),O={name:"device",proto:{device:E},static:{device:E}},B={name:"support",proto:{support:et},static:{support:et}},A={name:"browser",proto:{browser:I},static:{browser:I}},H={name:"resize",create:function(){var t=this;tt.extend(t,{resize:{resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(){Z.addEventListener("resize",this.resize.resizeHandler),Z.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){Z.removeEventListener("resize",this.resize.resizeHandler),Z.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},N={func:Z.MutationObserver||Z.WebkitMutationObserver,attach:function(t,e){void 0===e&&(e={});var i=this,s=new N.func(function(t){var e;1!==t.length?(e=function(){i.emit("observerUpdate",t[0])},Z.requestAnimationFrame?Z.requestAnimationFrame(e):Z.setTimeout(e,0)):i.emit("observerUpdate",t[0])});s.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),i.observer.observers.push(s)},init:function(){if(et.observer&&this.params.observer){if(this.params.observeParents)for(var t=this.$el.parents(),e=0;e<t.length;e+=1)this.observer.attach(t[e]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(t){t.disconnect()}),this.observer.observers=[]}},R={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){tt.extend(this,{observer:{init:N.init.bind(this),attach:N.attach.bind(this),destroy:N.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},W={update:function(t){var e=this,i=e.params,s=i.slidesPerView,n=i.slidesPerGroup,a=i.centeredSlides,o=e.params.virtual,r=o.addSlidesBefore,l=o.addSlidesAfter,h=e.virtual,d=h.from,c=h.to,u=h.slides,p=h.slidesGrid,g=h.renderSlide,f=h.offset;e.updateActiveIndex();var m,v=e.activeIndex||0,y=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",b=a?(m=Math.floor(s/2)+n+r,Math.floor(s/2)+n+l):(m=s+(n-1)+r,n+l),w=Math.max((v||0)-b,0),k=Math.min((v||0)+m,u.length-1),x=(e.slidesGrid[w]||0)-(e.slidesGrid[0]||0);function _(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load()}if(tt.extend(e.virtual,{from:w,to:k,offset:x,slidesGrid:e.slidesGrid}),d===w&&c===k&&!t)return e.slidesGrid!==p&&x!==f&&e.slides.css(y,x+"px"),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:x,from:w,to:k,slides:function(){for(var t=[],e=w;e<=k;e+=1)t.push(u[e]);return t}()}),void _();var C=[],E=[];if(t)e.$wrapperEl.find("."+e.params.slideClass).remove();else for(var P=d;P<=c;P+=1)(P<w||k<P)&&e.$wrapperEl.find("."+e.params.slideClass+'[data-swiper-slide-index="'+P+'"]').remove();for(var T=0;T<u.length;T+=1)w<=T&&T<=k&&(void 0===c||t?E.push(T):(c<T&&E.push(T),T<d&&C.push(T)));E.forEach(function(t){e.$wrapperEl.append(g(u[t],t))}),C.sort(function(t,e){return e-t}).forEach(function(t){e.$wrapperEl.prepend(g(u[t],t))}),e.$wrapperEl.children(".swiper-slide").css(y,x+"px"),_()},renderSlide:function(t,e){var i=this.params.virtual;if(i.cache&&this.virtual.cache[e])return this.virtual.cache[e];var s=i.renderSlide?z(i.renderSlide.call(this,t,e)):z('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+e+'">'+t+"</div>");return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",e),i.cache&&(this.virtual.cache[e]=s),s},appendSlide:function(t){if("object"==typeof t&&"length"in t)for(var e=0;e<t.length;e+=1)t[e]&&this.virtual.slides.push(t[e]);else this.virtual.slides.push(t);this.virtual.update(!0)},prependSlide:function(t){var e,i,s=this.activeIndex,n=s+1,a=1;if(Array.isArray(t)){for(var o=0;o<t.length;o+=1)t[o]&&this.virtual.slides.unshift(t[o]);n=s+t.length,a=t.length}else this.virtual.slides.unshift(t);this.params.virtual.cache&&(e=this.virtual.cache,i={},Object.keys(e).forEach(function(t){i[parseInt(t,10)+a]=e[t]}),this.virtual.cache=i),this.virtual.update(!0),this.slideTo(n,0)},removeSlide:function(t){if(null!=t){var e=this.activeIndex;if(Array.isArray(t))for(var i=t.length-1;0<=i;--i)this.virtual.slides.splice(t[i],1),this.params.virtual.cache&&delete this.virtual.cache[t[i]],t[i]<e&&--e,e=Math.max(e,0);else this.virtual.slides.splice(t,1),this.params.virtual.cache&&delete this.virtual.cache[t],t<e&&--e,e=Math.max(e,0);this.virtual.update(!0),this.slideTo(e,0)}},removeAllSlides:function(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}},$={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){tt.extend(this,{virtual:{update:W.update.bind(this),appendSlide:W.appendSlide.bind(this),prependSlide:W.prependSlide.bind(this),removeSlide:W.removeSlide.bind(this),removeAllSlides:W.removeAllSlides.bind(this),renderSlide:W.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){var t;this.params.virtual.enabled&&(this.classNames.push(this.params.containerModifierClass+"virtual"),t={watchSlidesProgress:!0},tt.extend(this.params,t),tt.extend(this.originalParams,t),this.params.initialSlide||this.virtual.update())},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},V={handle:function(t){var e=this,i=e.rtlTranslate,s=t;s.originalEvent&&(s=s.originalEvent);var n=s.keyCode||s.charCode;if(!e.allowSlideNext&&(e.isHorizontal()&&39===n||e.isVertical()&&40===n))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&37===n||e.isVertical()&&38===n))return!1;if(!(s.shiftKey||s.altKey||s.ctrlKey||s.metaKey||f.activeElement&&f.activeElement.nodeName&&("input"===f.activeElement.nodeName.toLowerCase()||"textarea"===f.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(37===n||39===n||38===n||40===n)){var a=!1;if(0<e.$el.parents("."+e.params.slideClass).length&&0===e.$el.parents("."+e.params.slideActiveClass).length)return;var o=Z.innerWidth,r=Z.innerHeight,l=e.$el.offset();i&&(l.left-=e.$el[0].scrollLeft);for(var h=[[l.left,l.top],[l.left+e.width,l.top],[l.left,l.top+e.height],[l.left+e.width,l.top+e.height]],d=0;d<h.length;d+=1){var c=h[d];0<=c[0]&&c[0]<=o&&0<=c[1]&&c[1]<=r&&(a=!0)}if(!a)return}e.isHorizontal()?(37!==n&&39!==n||(s.preventDefault?s.preventDefault():s.returnValue=!1),(39===n&&!i||37===n&&i)&&e.slideNext(),(37===n&&!i||39===n&&i)&&e.slidePrev()):(38!==n&&40!==n||(s.preventDefault?s.preventDefault():s.returnValue=!1),40===n&&e.slideNext(),38===n&&e.slidePrev()),e.emit("keyPress",n)}},enable:function(){this.keyboard.enabled||(z(f).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(z(f).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},X={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){tt.extend(this,{keyboard:{enabled:!1,enable:V.enable.bind(this),disable:V.disable.bind(this),handle:V.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},F={lastScrollTime:tt.now(),event:-1<Z.navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":((M=(S="onwheel")in f)||((T=f.createElement("div")).setAttribute(S,"return;"),M="function"==typeof T[S]),!M&&f.implementation&&f.implementation.hasFeature&&!0!==f.implementation.hasFeature("","")&&(M=f.implementation.hasFeature("Events.wheel","3.0")),M?"wheel":"mousewheel"),normalize:function(t){var e=0,i=0,s=0,n=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),s=10*e,n=10*i,"deltaY"in t&&(n=t.deltaY),"deltaX"in t&&(s=t.deltaX),(s||n)&&t.deltaMode&&(1===t.deltaMode?(s*=40,n*=40):(s*=800,n*=800)),s&&!e&&(e=s<1?-1:1),n&&!i&&(i=n<1?-1:1),{spinX:e,spinY:i,pixelX:s,pixelY:n}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(t){var e=t,i=this,s=i.params.mousewheel;if(!i.mouseEntered&&!s.releaseOnEdges)return!0;e.originalEvent&&(e=e.originalEvent);var n=0,a=i.rtlTranslate?-1:1,o=F.normalize(e);if(s.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(o.pixelX)>Math.abs(o.pixelY)))return!0;n=o.pixelX*a}else{if(!(Math.abs(o.pixelY)>Math.abs(o.pixelX)))return!0;n=o.pixelY}else n=Math.abs(o.pixelX)>Math.abs(o.pixelY)?-o.pixelX*a:-o.pixelY;if(0===n)return!0;if(s.invert&&(n=-n),i.params.freeMode){i.params.loop&&i.loopFix();var r=i.getTranslate()+n*s.sensitivity,l=i.isBeginning,h=i.isEnd;if(r>=i.minTranslate()&&(r=i.minTranslate()),r<=i.maxTranslate()&&(r=i.maxTranslate()),i.setTransition(0),i.setTranslate(r),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!l&&i.isBeginning||!h&&i.isEnd)&&i.updateSlidesClasses(),i.params.freeModeSticky&&(clearTimeout(i.mousewheel.timeout),i.mousewheel.timeout=tt.nextTick(function(){i.slideToClosest()},300)),i.emit("scroll",e),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),r===i.minTranslate()||r===i.maxTranslate())return!0}else{if(60<tt.now()-i.mousewheel.lastScrollTime)if(n<0)if(i.isEnd&&!i.params.loop||i.animating){if(s.releaseOnEdges)return!0}else i.slideNext(),i.emit("scroll",e);else if(i.isBeginning&&!i.params.loop||i.animating){if(s.releaseOnEdges)return!0}else i.slidePrev(),i.emit("scroll",e);i.mousewheel.lastScrollTime=(new Z.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},enable:function(){if(!F.event)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=z(this.params.mousewheel.eventsTarged)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(F.event,this.mousewheel.handle),this.mousewheel.enabled=!0},disable:function(){if(!F.event)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=z(this.params.mousewheel.eventsTarged)),t.off(F.event,this.mousewheel.handle),!(this.mousewheel.enabled=!1)}},Y={update:function(){var t,e,i,s=this.params.navigation;this.params.loop||(e=(t=this.navigation).$nextEl,(i=t.$prevEl)&&0<i.length&&(this.isBeginning?i.addClass(s.disabledClass):i.removeClass(s.disabledClass),i[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](s.lockClass)),e&&0<e.length&&(this.isEnd?e.addClass(s.disabledClass):e.removeClass(s.disabledClass),e[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](s.lockClass)))},onPrevClick:function(t){t.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(t){t.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var t,e,i=this,s=i.params.navigation;(s.nextEl||s.prevEl)&&(s.nextEl&&(t=z(s.nextEl),i.params.uniqueNavElements&&"string"==typeof s.nextEl&&1<t.length&&1===i.$el.find(s.nextEl).length&&(t=i.$el.find(s.nextEl))),s.prevEl&&(e=z(s.prevEl),i.params.uniqueNavElements&&"string"==typeof s.prevEl&&1<e.length&&1===i.$el.find(s.prevEl).length&&(e=i.$el.find(s.prevEl))),t&&0<t.length&&t.on("click",i.navigation.onNextClick),e&&0<e.length&&e.on("click",i.navigation.onPrevClick),tt.extend(i.navigation,{$nextEl:t,nextEl:t&&t[0],$prevEl:e,prevEl:e&&e[0]}))},destroy:function(){var t=this.navigation,e=t.$nextEl,i=t.$prevEl;e&&e.length&&(e.off("click",this.navigation.onNextClick),e.removeClass(this.params.navigation.disabledClass)),i&&i.length&&(i.off("click",this.navigation.onPrevClick),i.removeClass(this.params.navigation.disabledClass))}},G={update:function(){var t=this,e=t.rtl,n=t.params.pagination;if(n.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var a,i,s,o,r,l=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,h=t.pagination.$el,d=t.params.loop?Math.ceil((l-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?((a=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup))>l-1-2*t.loopedSlides&&(a-=l-2*t.loopedSlides),d-1<a&&(a-=d),a<0&&"bullets"!==t.params.paginationType&&(a=d+a)):a=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===n.type&&t.pagination.bullets&&0<t.pagination.bullets.length){var c,u,p,g,f,m,v=t.pagination.bullets;if(n.dynamicBullets&&(t.pagination.bulletSize=v.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),h.css(t.isHorizontal()?"width":"height",t.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),1<n.dynamicMainBullets&&void 0!==t.previousIndex&&(t.pagination.dynamicBulletIndex+=a-t.previousIndex,t.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?t.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:t.pagination.dynamicBulletIndex<0&&(t.pagination.dynamicBulletIndex=0)),c=a-t.pagination.dynamicBulletIndex,p=((u=c+(Math.min(v.length,n.dynamicMainBullets)-1))+c)/2),v.removeClass(n.bulletActiveClass+" "+n.bulletActiveClass+"-next "+n.bulletActiveClass+"-next-next "+n.bulletActiveClass+"-prev "+n.bulletActiveClass+"-prev-prev "+n.bulletActiveClass+"-main"),1<h.length)v.each(function(t,e){var i=z(e),s=i.index();s===a&&i.addClass(n.bulletActiveClass),n.dynamicBullets&&(c<=s&&s<=u&&i.addClass(n.bulletActiveClass+"-main"),s===c&&i.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),s===u&&i.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next"))});else if(v.eq(a).addClass(n.bulletActiveClass),n.dynamicBullets){for(var y=v.eq(c),b=v.eq(u),w=c;w<=u;w+=1)v.eq(w).addClass(n.bulletActiveClass+"-main");y.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),b.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}n.dynamicBullets&&(g=Math.min(v.length,n.dynamicMainBullets+4),f=(t.pagination.bulletSize*g-t.pagination.bulletSize)/2-p*t.pagination.bulletSize,m=e?"right":"left",v.css(t.isHorizontal()?m:"top",f+"px"))}"fraction"===n.type&&(h.find("."+n.currentClass).text(n.formatFractionCurrent(a+1)),h.find("."+n.totalClass).text(n.formatFractionTotal(d))),"progressbar"===n.type&&(i=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical",s=(a+1)/d,r=o=1,"horizontal"==i?o=s:r=s,h.find("."+n.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+o+") scaleY("+r+")").transition(t.params.speed)),"custom"===n.type&&n.renderCustom?(h.html(n.renderCustom(t,a+1,d)),t.emit("paginationRender",t,h[0])):t.emit("paginationUpdate",t,h[0]),h[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var t=this,e=t.params.pagination;if(e.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,s=t.pagination.$el,n="";if("bullets"===e.type){for(var a=t.params.loop?Math.ceil((i-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length,o=0;o<a;o+=1)e.renderBullet?n+=e.renderBullet.call(t,o,e.bulletClass):n+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";s.html(n),t.pagination.bullets=s.find("."+e.bulletClass)}"fraction"===e.type&&(n=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',s.html(n)),"progressbar"===e.type&&(n=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',s.html(n)),"custom"!==e.type&&t.emit("paginationRender",t.pagination.$el[0])}},init:function(){var t,i=this,e=i.params.pagination;!e.el||0!==(t=z(e.el)).length&&(i.params.uniqueNavElements&&"string"==typeof e.el&&1<t.length&&1===i.$el.find(e.el).length&&(t=i.$el.find(e.el)),"bullets"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),"bullets"===e.type&&e.dynamicBullets&&(t.addClass(""+e.modifierClass+e.type+"-dynamic"),i.pagination.dynamicBulletIndex=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on("click","."+e.bulletClass,function(t){t.preventDefault();var e=z(this).index()*i.params.slidesPerGroup;i.params.loop&&(e+=i.loopedSlides),i.slideTo(e)}),tt.extend(i.pagination,{$el:t,el:t[0]}))},destroy:function(){var t,e=this.params.pagination;e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length&&((t=this.pagination.$el).removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click","."+e.bulletClass))}},q={setTranslate:function(){var t,e,i,s,n,a,o,r,l,h;this.params.scrollbar.el&&this.scrollbar.el&&(t=this.scrollbar,e=this.rtlTranslate,i=this.progress,s=t.dragSize,n=t.trackSize,a=t.$dragEl,o=t.$el,r=this.params.scrollbar,h=(n-(l=s))*i,e?0<(h=-h)?(l=s-h,h=0):n<-h+s&&(l=n+h):h<0?(l=s+h,h=0):n<h+s&&(l=n-h),this.isHorizontal()?(et.transforms3d?a.transform("translate3d("+h+"px, 0, 0)"):a.transform("translateX("+h+"px)"),a[0].style.width=l+"px"):(et.transforms3d?a.transform("translate3d(0px, "+h+"px, 0)"):a.transform("translateY("+h+"px)"),a[0].style.height=l+"px"),r.hide&&(clearTimeout(this.scrollbar.timeout),o[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){o[0].style.opacity=0,o.transition(400)},1e3)))},setTransition:function(t){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(t)},updateSize:function(){var t,e,i,s,n,a,o,r=this;r.params.scrollbar.el&&r.scrollbar.el&&(e=(t=r.scrollbar).$dragEl,i=t.$el,e[0].style.width="",e[0].style.height="",s=r.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,a=(n=r.size/r.virtualSize)*(s/r.size),o="auto"===r.params.scrollbar.dragSize?s*n:parseInt(r.params.scrollbar.dragSize,10),r.isHorizontal()?e[0].style.width=o+"px":e[0].style.height=o+"px",i[0].style.display=1<=n?"none":"",r.params.scrollbar.hide&&(i[0].style.opacity=0),tt.extend(t,{trackSize:s,divider:n,moveDivider:a,dragSize:o}),t.$el[r.params.watchOverflow&&r.isLocked?"addClass":"removeClass"](r.params.scrollbar.lockClass))},setDragPosition:function(t){var e=this,i=e.scrollbar,s=e.rtlTranslate,n=i.$el,a=i.dragSize,o=i.trackSize,r=((e.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-n.offset()[e.isHorizontal()?"left":"top"]-a/2)/(o-a);r=Math.max(Math.min(r,1),0),s&&(r=1-r);var l=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*r;e.updateProgress(l),e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()},onDragStart:function(t){var e=this.params.scrollbar,i=this.scrollbar,s=this.$wrapperEl,n=i.$el,a=i.$dragEl;this.scrollbar.isTouched=!0,t.preventDefault(),t.stopPropagation(),s.transition(100),a.transition(100),i.setDragPosition(t),clearTimeout(this.scrollbar.dragTimeout),n.transition(0),e.hide&&n.css("opacity",1),this.emit("scrollbarDragStart",t)},onDragMove:function(t){var e=this.scrollbar,i=this.$wrapperEl,s=e.$el,n=e.$dragEl;this.scrollbar.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),i.transition(0),s.transition(0),n.transition(0),this.emit("scrollbarDragMove",t))},onDragEnd:function(t){var e=this.params.scrollbar,i=this.scrollbar.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,e.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=tt.nextTick(function(){i.css("opacity",0),i.transition(400)},1e3)),this.emit("scrollbarDragEnd",t),e.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){var t,e,i,s,n,a,o,r=this;r.params.scrollbar.el&&(t=r.scrollbar,e=r.touchEventsTouch,i=r.touchEventsDesktop,s=r.params,n=t.$el[0],a=!(!et.passiveListener||!s.passiveListeners)&&{passive:!1,capture:!1},o=!(!et.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1},et.touch?(n.addEventListener(e.start,r.scrollbar.onDragStart,a),n.addEventListener(e.move,r.scrollbar.onDragMove,a),n.addEventListener(e.end,r.scrollbar.onDragEnd,o)):(n.addEventListener(i.start,r.scrollbar.onDragStart,a),f.addEventListener(i.move,r.scrollbar.onDragMove,a),f.addEventListener(i.end,r.scrollbar.onDragEnd,o)))},disableDraggable:function(){var t,e,i,s,n,a,o,r=this;r.params.scrollbar.el&&(t=r.scrollbar,e=r.touchEventsTouch,i=r.touchEventsDesktop,s=r.params,n=t.$el[0],a=!(!et.passiveListener||!s.passiveListeners)&&{passive:!1,capture:!1},o=!(!et.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1},et.touch?(n.removeEventListener(e.start,r.scrollbar.onDragStart,a),n.removeEventListener(e.move,r.scrollbar.onDragMove,a),n.removeEventListener(e.end,r.scrollbar.onDragEnd,o)):(n.removeEventListener(i.start,r.scrollbar.onDragStart,a),f.removeEventListener(i.move,r.scrollbar.onDragMove,a),f.removeEventListener(i.end,r.scrollbar.onDragEnd,o)))},init:function(){var t,e,i,s,n;this.params.scrollbar.el&&(t=this.scrollbar,e=this.$el,s=z((i=this.params.scrollbar).el),this.params.uniqueNavElements&&"string"==typeof i.el&&1<s.length&&1===e.find(i.el).length&&(s=e.find(i.el)),0===(n=s.find("."+this.params.scrollbar.dragClass)).length&&(n=z('<div class="'+this.params.scrollbar.dragClass+'"></div>'),s.append(n)),tt.extend(t,{$el:s,el:s[0],$dragEl:n,dragEl:n[0]}),i.draggable&&t.enableDraggable())},destroy:function(){this.scrollbar.disableDraggable()}},U={setTransform:function(t,e){var i,s,n=this.rtl,a=z(t),o=n?-1:1,r=a.attr("data-swiper-parallax")||"0",l=a.attr("data-swiper-parallax-x"),h=a.attr("data-swiper-parallax-y"),d=a.attr("data-swiper-parallax-scale"),c=a.attr("data-swiper-parallax-opacity");l||h?(l=l||"0",h=h||"0"):this.isHorizontal()?(l=r,h="0"):(h=r,l="0"),l=0<=l.indexOf("%")?parseInt(l,10)*e*o+"%":l*e*o+"px",h=0<=h.indexOf("%")?parseInt(h,10)*e+"%":h*e+"px",null!=c&&(i=c-(c-1)*(1-Math.abs(e)),a[0].style.opacity=i),null==d?a.transform("translate3d("+l+", "+h+", 0px)"):(s=d-(d-1)*(1-Math.abs(e)),a.transform("translate3d("+l+", "+h+", 0px) scale("+s+")"))},setTranslate:function(){var s=this,t=s.$el,e=s.slides,n=s.progress,a=s.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,e){s.parallax.setTransform(e,n)}),e.each(function(t,e){var i=e.progress;1<s.params.slidesPerGroup&&"auto"!==s.params.slidesPerView&&(i+=Math.ceil(t/2)-n*(a.length-1)),i=Math.min(Math.max(i,-1),1),z(e).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,e){s.parallax.setTransform(e,i)})})},setTransition:function(n){void 0===n&&(n=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,e){var i=z(e),s=parseInt(i.attr("data-swiper-parallax-duration"),10)||n;0===n&&(s=0),i.transition(s)})}},K={getDistanceBetweenTouches:function(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,i=t.targetTouches[0].pageY,s=t.targetTouches[1].pageX,n=t.targetTouches[1].pageY;return Math.sqrt(Math.pow(s-e,2)+Math.pow(n-i,2))},onGestureStart:function(t){var e=this.params.zoom,i=this.zoom,s=i.gesture;if(i.fakeGestureTouched=!1,i.fakeGestureMoved=!1,!et.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;i.fakeGestureTouched=!0,s.scaleStart=K.getDistanceBetweenTouches(t)}s.$slideEl&&s.$slideEl.length||(s.$slideEl=z(t.target).closest(".swiper-slide"),0===s.$slideEl.length&&(s.$slideEl=this.slides.eq(this.activeIndex)),s.$imageEl=s.$slideEl.find("img, svg, canvas"),s.$imageWrapEl=s.$imageEl.parent("."+e.containerClass),s.maxRatio=s.$imageWrapEl.attr("data-swiper-zoom")||e.maxRatio,0!==s.$imageWrapEl.length)?(s.$imageEl.transition(0),this.zoom.isScaling=!0):s.$imageEl=void 0},onGestureChange:function(t){var e=this.params.zoom,i=this.zoom,s=i.gesture;if(!et.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;i.fakeGestureMoved=!0,s.scaleMove=K.getDistanceBetweenTouches(t)}s.$imageEl&&0!==s.$imageEl.length&&(i.scale=et.gestures?t.scale*i.currentScale:s.scaleMove/s.scaleStart*i.currentScale,i.scale>s.maxRatio&&(i.scale=s.maxRatio-1+Math.pow(i.scale-s.maxRatio+1,.5)),i.scale<e.minRatio&&(i.scale=e.minRatio+1-Math.pow(e.minRatio-i.scale+1,.5)),s.$imageEl.transform("translate3d(0,0,0) scale("+i.scale+")"))},onGestureEnd:function(t){var e=this.params.zoom,i=this.zoom,s=i.gesture;if(!et.gestures){if(!i.fakeGestureTouched||!i.fakeGestureMoved)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!E.android)return;i.fakeGestureTouched=!1,i.fakeGestureMoved=!1}s.$imageEl&&0!==s.$imageEl.length&&(i.scale=Math.max(Math.min(i.scale,s.maxRatio),e.minRatio),s.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+i.scale+")"),i.currentScale=i.scale,i.isScaling=!1,1===i.scale&&(s.$slideEl=void 0))},onTouchStart:function(t){var e=this.zoom,i=e.gesture,s=e.image;i.$imageEl&&0!==i.$imageEl.length&&(s.isTouched||(E.android&&t.preventDefault(),s.isTouched=!0,s.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,s.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(t){var e=this.zoom,i=e.gesture,s=e.image,n=e.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(this.allowClick=!1,s.isTouched&&i.$slideEl)){s.isMoved||(s.width=i.$imageEl[0].offsetWidth,s.height=i.$imageEl[0].offsetHeight,s.startX=tt.getTranslate(i.$imageWrapEl[0],"x")||0,s.startY=tt.getTranslate(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),this.rtl&&(s.startX=-s.startX,s.startY=-s.startY));var a=s.width*e.scale,o=s.height*e.scale;if(!(a<i.slideWidth&&o<i.slideHeight)){if(s.minX=Math.min(i.slideWidth/2-a/2,0),s.maxX=-s.minX,s.minY=Math.min(i.slideHeight/2-o/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,s.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!s.isMoved&&!e.isScaling){if(this.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x))return void(s.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y))return void(s.isTouched=!1)}t.preventDefault(),t.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),n.prevPositionX||(n.prevPositionX=s.touchesCurrent.x),n.prevPositionY||(n.prevPositionY=s.touchesCurrent.y),n.prevTime||(n.prevTime=Date.now()),n.x=(s.touchesCurrent.x-n.prevPositionX)/(Date.now()-n.prevTime)/2,n.y=(s.touchesCurrent.y-n.prevPositionY)/(Date.now()-n.prevTime)/2,Math.abs(s.touchesCurrent.x-n.prevPositionX)<2&&(n.x=0),Math.abs(s.touchesCurrent.y-n.prevPositionY)<2&&(n.y=0),n.prevPositionX=s.touchesCurrent.x,n.prevPositionY=s.touchesCurrent.y,n.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},onTouchEnd:function(){var t=this.zoom,e=t.gesture,i=t.image,s=t.velocity;if(e.$imageEl&&0!==e.$imageEl.length){if(!i.isTouched||!i.isMoved)return i.isTouched=!1,void(i.isMoved=!1);i.isTouched=!1,i.isMoved=!1;var n=300,a=300,o=s.x*n,r=i.currentX+o,l=s.y*a,h=i.currentY+l;0!==s.x&&(n=Math.abs((r-i.currentX)/s.x)),0!==s.y&&(a=Math.abs((h-i.currentY)/s.y));var d=Math.max(n,a);i.currentX=r,i.currentY=h;var c=i.width*t.scale,u=i.height*t.scale;i.minX=Math.min(e.slideWidth/2-c/2,0),i.maxX=-i.minX,i.minY=Math.min(e.slideHeight/2-u/2,0),i.maxY=-i.minY,i.currentX=Math.max(Math.min(i.currentX,i.maxX),i.minX),i.currentY=Math.max(Math.min(i.currentY,i.maxY),i.minY),e.$imageWrapEl.transition(d).transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTransitionEnd:function(){var t=this.zoom,e=t.gesture;e.$slideEl&&this.previousIndex!==this.activeIndex&&(e.$imageEl.transform("translate3d(0,0,0) scale(1)"),e.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,e.$slideEl=void 0,e.$imageEl=void 0,e.$imageWrapEl=void 0)},toggle:function(t){var e=this.zoom;e.scale&&1!==e.scale?e.out():e.in(t)},in:function(t){var e,i,s,n,a,o,r,l,h,d,c,u,p,g,f,m,v=this.zoom,y=this.params.zoom,b=v.gesture,w=v.image;b.$slideEl||(b.$slideEl=this.clickedSlide?z(this.clickedSlide):this.slides.eq(this.activeIndex),b.$imageEl=b.$slideEl.find("img, svg, canvas"),b.$imageWrapEl=b.$imageEl.parent("."+y.containerClass)),b.$imageEl&&0!==b.$imageEl.length&&(b.$slideEl.addClass(""+y.zoomedSlideClass),i=void 0===w.touchesStart.x&&t?(e="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,"touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(e=w.touchesStart.x,w.touchesStart.y),v.scale=b.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,v.currentScale=b.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,t?(f=b.$slideEl[0].offsetWidth,m=b.$slideEl[0].offsetHeight,s=b.$slideEl.offset().left+f/2-e,n=b.$slideEl.offset().top+m/2-i,r=b.$imageEl[0].offsetWidth,l=b.$imageEl[0].offsetHeight,h=r*v.scale,d=l*v.scale,p=-(c=Math.min(f/2-h/2,0)),g=-(u=Math.min(m/2-d/2,0)),(a=s*v.scale)<c&&(a=c),p<a&&(a=p),(o=n*v.scale)<u&&(o=u),g<o&&(o=g)):o=a=0,b.$imageWrapEl.transition(300).transform("translate3d("+a+"px, "+o+"px,0)"),b.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+v.scale+")"))},out:function(){var t=this.zoom,e=this.params.zoom,i=t.gesture;i.$slideEl||(i.$slideEl=this.clickedSlide?z(this.clickedSlide):this.slides.eq(this.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas"),i.$imageWrapEl=i.$imageEl.parent("."+e.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&(t.scale=1,t.currentScale=1,i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),i.$slideEl.removeClass(""+e.zoomedSlideClass),i.$slideEl=void 0)},enable:function(){var t,e=this,i=e.zoom;i.enabled||(i.enabled=!0,t=!("touchstart"!==e.touchEvents.start||!et.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},et.gestures?(e.$wrapperEl.on("gesturestart",".swiper-slide",i.onGestureStart,t),e.$wrapperEl.on("gesturechange",".swiper-slide",i.onGestureChange,t),e.$wrapperEl.on("gestureend",".swiper-slide",i.onGestureEnd,t)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,".swiper-slide",i.onGestureStart,t),e.$wrapperEl.on(e.touchEvents.move,".swiper-slide",i.onGestureChange,t),e.$wrapperEl.on(e.touchEvents.end,".swiper-slide",i.onGestureEnd,t)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,i.onTouchMove))},disable:function(){var t,e=this,i=e.zoom;i.enabled&&(e.zoom.enabled=!1,t=!("touchstart"!==e.touchEvents.start||!et.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},et.gestures?(e.$wrapperEl.off("gesturestart",".swiper-slide",i.onGestureStart,t),e.$wrapperEl.off("gesturechange",".swiper-slide",i.onGestureChange,t),e.$wrapperEl.off("gestureend",".swiper-slide",i.onGestureEnd,t)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,".swiper-slide",i.onGestureStart,t),e.$wrapperEl.off(e.touchEvents.move,".swiper-slide",i.onGestureChange,t),e.$wrapperEl.off(e.touchEvents.end,".swiper-slide",i.onGestureEnd,t)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,i.onTouchMove))}},J={loadInSlide:function(t,l){void 0===l&&(l=!0);var h,e,d=this,c=d.params.lazy;void 0!==t&&0!==d.slides.length&&(e=(h=d.virtual&&d.params.virtual.enabled?d.$wrapperEl.children("."+d.params.slideClass+'[data-swiper-slide-index="'+t+'"]'):d.slides.eq(t)).find("."+c.elementClass+":not(."+c.loadedClass+"):not(."+c.loadingClass+")"),!h.hasClass(c.elementClass)||h.hasClass(c.loadedClass)||h.hasClass(c.loadingClass)||(e=e.add(h[0])),0!==e.length&&e.each(function(t,e){var s=z(e);s.addClass(c.loadingClass);var n=s.attr("data-background"),a=s.attr("data-src"),o=s.attr("data-srcset"),r=s.attr("data-sizes");d.loadImage(s[0],a||n,o,r,!1,function(){var t,e,i;null==d||!d||d&&!d.params||d.destroyed||(n?(s.css("background-image",'url("'+n+'")'),s.removeAttr("data-background")):(o&&(s.attr("srcset",o),s.removeAttr("data-srcset")),r&&(s.attr("sizes",r),s.removeAttr("data-sizes")),a&&(s.attr("src",a),s.removeAttr("data-src"))),s.addClass(c.loadedClass).removeClass(c.loadingClass),h.find("."+c.preloaderClass).remove(),d.params.loop&&l&&(t=h.attr("data-swiper-slide-index"),h.hasClass(d.params.slideDuplicateClass)?(e=d.$wrapperEl.children('[data-swiper-slide-index="'+t+'"]:not(.'+d.params.slideDuplicateClass+")"),d.lazy.loadInSlide(e.index(),!1)):(i=d.$wrapperEl.children("."+d.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]'),d.lazy.loadInSlide(i.index(),!1))),d.emit("lazyImageReady",h[0],s[0]))}),d.emit("lazyImageLoad",h[0],s[0])}))},load:function(){var s=this,e=s.$wrapperEl,i=s.params,n=s.slides,t=s.activeIndex,a=s.virtual&&i.virtual.enabled,o=i.lazy,r=i.slidesPerView;function l(t){if(a){if(e.children("."+i.slideClass+'[data-swiper-slide-index="'+t+'"]').length)return 1}else if(n[t])return 1}function h(t){return a?z(t).attr("data-swiper-slide-index"):z(t).index()}if("auto"===r&&(r=0),s.lazy.initialImageLoaded||(s.lazy.initialImageLoaded=!0),s.params.watchSlidesVisibility)e.children("."+i.slideVisibleClass).each(function(t,e){var i=a?z(e).attr("data-swiper-slide-index"):z(e).index();s.lazy.loadInSlide(i)});else if(1<r)for(var d=t;d<t+r;d+=1)l(d)&&s.lazy.loadInSlide(d);else s.lazy.loadInSlide(t);if(o.loadPrevNext)if(1<r||o.loadPrevNextAmount&&1<o.loadPrevNextAmount){for(var c=o.loadPrevNextAmount,u=r,p=Math.min(t+u+Math.max(c,u),n.length),g=Math.max(t-Math.max(u,c),0),f=t+r;f<p;f+=1)l(f)&&s.lazy.loadInSlide(f);for(var m=g;m<t;m+=1)l(m)&&s.lazy.loadInSlide(m)}else{var v=e.children("."+i.slideNextClass);0<v.length&&s.lazy.loadInSlide(h(v));var y=e.children("."+i.slidePrevClass);0<y.length&&s.lazy.loadInSlide(h(y))}}},it={LinearSpline:function(t,e){var i,s,n,a,o;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(o=function(t,e){for(s=-1,i=t.length;1<i-s;)t[n=i+s>>1]<=e?s=n:i=n;return i}(this.x,t),a=o-1,(t-this.x[a])*(this.y[o]-this.y[a])/(this.x[o]-this.x[a])+this.y[a]):0},this},getInterpolateFunction:function(t){this.controller.spline||(this.controller.spline=this.params.loop?new it.LinearSpline(this.slidesGrid,t.slidesGrid):new it.LinearSpline(this.snapGrid,t.snapGrid))},setTranslate:function(t,e){var i,s,n=this,a=n.controller.control;function o(t){var e=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(n.controller.getInterpolateFunction(t),s=-n.controller.spline.interpolate(-e)),s&&"container"!==n.params.controller.by||(i=(t.maxTranslate()-t.minTranslate())/(n.maxTranslate()-n.minTranslate()),s=(e-n.minTranslate())*i+t.minTranslate()),n.params.controller.inverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setTranslate(s,n),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(a))for(var r=0;r<a.length;r+=1)a[r]!==e&&a[r]instanceof D&&o(a[r]);else a instanceof D&&e!==a&&o(a)},setTransition:function(e,t){var i,s=this,n=s.controller.control;function a(t){t.setTransition(e,s),0!==e&&(t.transitionStart(),t.params.autoHeight&&tt.nextTick(function(){t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(function(){n&&(t.params.loop&&"slide"===s.params.controller.by&&t.loopFix(),t.transitionEnd())}))}if(Array.isArray(n))for(i=0;i<n.length;i+=1)n[i]!==t&&n[i]instanceof D&&a(n[i]);else n instanceof D&&t!==n&&a(n)}},st={makeElFocusable:function(t){return t.attr("tabIndex","0"),t},addElRole:function(t,e){return t.attr("role",e),t},addElLabel:function(t,e){return t.attr("aria-label",e),t},disableEl:function(t){return t.attr("aria-disabled",!0),t},enableEl:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){var e,i=this,s=i.params.a11y;13===t.keyCode&&(e=z(t.target),i.navigation&&i.navigation.$nextEl&&e.is(i.navigation.$nextEl)&&(i.isEnd&&!i.params.loop||i.slideNext(),i.isEnd?i.a11y.notify(s.lastSlideMessage):i.a11y.notify(s.nextSlideMessage)),i.navigation&&i.navigation.$prevEl&&e.is(i.navigation.$prevEl)&&(i.isBeginning&&!i.params.loop||i.slidePrev(),i.isBeginning?i.a11y.notify(s.firstSlideMessage):i.a11y.notify(s.prevSlideMessage)),i.pagination&&e.is("."+i.params.pagination.bulletClass)&&e[0].click())},notify:function(t){var e=this.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},updateNavigation:function(){var t,e,i;this.params.loop||(e=(t=this.navigation).$nextEl,(i=t.$prevEl)&&0<i.length&&(this.isBeginning?this.a11y.disableEl(i):this.a11y.enableEl(i)),e&&0<e.length&&(this.isEnd?this.a11y.disableEl(e):this.a11y.enableEl(e)))},updatePagination:function(){var s=this,n=s.params.a11y;s.pagination&&s.params.pagination.clickable&&s.pagination.bullets&&s.pagination.bullets.length&&s.pagination.bullets.each(function(t,e){var i=z(e);s.a11y.makeElFocusable(i),s.a11y.addElRole(i,"button"),s.a11y.addElLabel(i,n.paginationBulletMessage.replace(/{{index}}/,i.index()+1))})},init:function(){var t=this;t.$el.append(t.a11y.liveRegion);var e,i,s=t.params.a11y;t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(i=t.navigation.$prevEl),e&&(t.a11y.makeElFocusable(e),t.a11y.addElRole(e,"button"),t.a11y.addElLabel(e,s.nextSlideMessage),e.on("keydown",t.a11y.onEnterKey)),i&&(t.a11y.makeElFocusable(i),t.a11y.addElRole(i,"button"),t.a11y.addElLabel(i,s.prevSlideMessage),i.on("keydown",t.a11y.onEnterKey)),t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.$el.on("keydown","."+t.params.pagination.bulletClass,t.a11y.onEnterKey)},destroy:function(){var t,e,i=this;i.a11y.liveRegion&&0<i.a11y.liveRegion.length&&i.a11y.liveRegion.remove(),i.navigation&&i.navigation.$nextEl&&(t=i.navigation.$nextEl),i.navigation&&i.navigation.$prevEl&&(e=i.navigation.$prevEl),t&&t.off("keydown",i.a11y.onEnterKey),e&&e.off("keydown",i.a11y.onEnterKey),i.pagination&&i.params.pagination.clickable&&i.pagination.bullets&&i.pagination.bullets.length&&i.pagination.$el.off("keydown","."+i.params.pagination.bulletClass,i.a11y.onEnterKey)}},nt={init:function(){if(this.params.history){if(!Z.history||!Z.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var t=this.history;t.initialized=!0,t.paths=nt.getPathValues(),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||Z.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||Z.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=nt.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var t=Z.location.pathname.slice(1).split("/").filter(function(t){return""!==t}),e=t.length;return{key:t[e-2],value:t[e-1]}},setHistory:function(t,e){var i,s,n;this.history.initialized&&this.params.history.enabled&&(i=this.slides.eq(e),s=nt.slugify(i.attr("data-history")),Z.location.pathname.includes(t)||(s=t+"/"+s),(n=Z.history.state)&&n.value===s||(this.params.history.replaceState?Z.history.replaceState({value:s},null,s):Z.history.pushState({value:s},null,s)))},slugify:function(t){return t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(t,e,i){if(e)for(var s=0,n=this.slides.length;s<n;s+=1){var a,o=this.slides.eq(s);nt.slugify(o.attr("data-history"))!==e||o.hasClass(this.params.slideDuplicateClass)||(a=o.index(),this.slideTo(a,t,i))}else this.slideTo(0,t,i)}},at={onHashCange:function(){var t=f.location.hash.replace("#","");if(t!==this.slides.eq(this.activeIndex).attr("data-hash")){var e=this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+t+'"]').index();if(void 0===e)return;this.slideTo(e)}},setHash:function(){var t,e;this.hashNavigation.initialized&&this.params.hashNavigation.enabled&&(this.params.hashNavigation.replaceState&&Z.history&&Z.history.replaceState?Z.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||""):(e=(t=this.slides.eq(this.activeIndex)).attr("data-hash")||t.attr("data-history"),f.location.hash=e||""))},init:function(){var t=this;if(!(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)){t.hashNavigation.initialized=!0;var e=f.location.hash.replace("#","");if(e)for(var i=0,s=t.slides.length;i<s;i+=1){var n,a=t.slides.eq(i);(a.attr("data-hash")||a.attr("data-history"))!==e||a.hasClass(t.params.slideDuplicateClass)||(n=a.index(),t.slideTo(n,0,t.params.runCallbacksOnInit,!0))}t.params.hashNavigation.watchState&&z(Z).on("hashchange",t.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&z(Z).off("hashchange",this.hashNavigation.onHashCange)}},ot={run:function(){var t=this,e=t.slides.eq(t.activeIndex),i=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(i=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),t.autoplay.timeout=tt.nextTick(function(){t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay"))},i)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(t){var e=this;e.autoplay.running&&(e.autoplay.paused||(e.autoplay.timeout&&clearTimeout(e.autoplay.timeout),e.autoplay.paused=!0,0!==t&&e.params.autoplay.waitForTransition?(e.$wrapperEl[0].addEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].addEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd)):(e.autoplay.paused=!1,e.autoplay.run())))}},rt={setTranslate:function(){for(var t=this.slides,e=0;e<t.length;e+=1){var i=this.slides.eq(e),s=-i[0].swiperSlideOffset;this.params.virtualTranslate||(s-=this.translate);var n=0;this.isHorizontal()||(n=s,s=0);var a=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:a}).transform("translate3d("+s+"px, "+n+"px, 0px)")}},setTransition:function(t){var i,s=this,e=s.slides,n=s.$wrapperEl;e.transition(t),s.params.virtualTranslate&&0!==t&&(i=!1,e.transitionEnd(function(){if(!i&&s&&!s.destroyed){i=!0,s.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],e=0;e<t.length;e+=1)n.trigger(t[e])}}))}},lt={setTranslate:function(){var t,e=this,i=e.$el,s=e.$wrapperEl,n=e.slides,a=e.width,o=e.height,r=e.rtlTranslate,l=e.size,h=e.params.cubeEffect,d=e.isHorizontal(),c=e.virtual&&e.params.virtual.enabled,u=0;h.shadow&&(d?(0===(t=s.find(".swiper-cube-shadow")).length&&(t=z('<div class="swiper-cube-shadow"></div>'),s.append(t)),t.css({height:a+"px"})):0===(t=i.find(".swiper-cube-shadow")).length&&(t=z('<div class="swiper-cube-shadow"></div>'),i.append(t)));for(var p,g,f,m,v,y=0;y<n.length;y+=1){var b=n.eq(y),w=y;c&&(w=parseInt(b.attr("data-swiper-slide-index"),10));var k=90*w,x=Math.floor(k/360);r&&(k=-k,x=Math.floor(-k/360));var _=Math.max(Math.min(b[0].progress,1),-1),C=0,E=0,P=0;w%4==0?(C=4*-x*l,P=0):(w-1)%4==0?(C=0,P=4*-x*l):(w-2)%4==0?(C=l+4*x*l,P=l):(w-3)%4==0&&(C=-l,P=3*l+4*l*x),r&&(C=-C),d||(E=C,C=0);var T,S,M="rotateX("+(d?0:-k)+"deg) rotateY("+(d?k:0)+"deg) translate3d("+C+"px, "+E+"px, "+P+"px)";_<=1&&-1<_&&(u=r?90*-w-90*_:90*w+90*_),b.transform(M),h.slideShadows&&(T=d?b.find(".swiper-slide-shadow-left"):b.find(".swiper-slide-shadow-top"),S=d?b.find(".swiper-slide-shadow-right"):b.find(".swiper-slide-shadow-bottom"),0===T.length&&(T=z('<div class="swiper-slide-shadow-'+(d?"left":"top")+'"></div>'),b.append(T)),0===S.length&&(S=z('<div class="swiper-slide-shadow-'+(d?"right":"bottom")+'"></div>'),b.append(S)),T.length&&(T[0].style.opacity=Math.max(-_,0)),S.length&&(S[0].style.opacity=Math.max(_,0)))}s.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),h.shadow&&(d?t.transform("translate3d(0px, "+(a/2+h.shadowOffset)+"px, "+-a/2+"px) rotateX(90deg) rotateZ(0deg) scale("+h.shadowScale+")"):(p=Math.abs(u)-90*Math.floor(Math.abs(u)/90),g=1.5-(Math.sin(2*p*Math.PI/360)/2+Math.cos(2*p*Math.PI/360)/2),f=h.shadowScale,m=h.shadowScale/g,v=h.shadowOffset,t.transform("scale3d("+f+", 1, "+m+") translate3d(0px, "+(o/2+v)+"px, "+-o/2/m+"px) rotateX(-90deg)")));var j=I.isSafari||I.isUiWebView?-l/2:0;s.transform("translate3d(0px,0,"+j+"px) rotateX("+(e.isHorizontal()?0:u)+"deg) rotateY("+(e.isHorizontal()?-u:0)+"deg)")},setTransition:function(t){var e=this.$el;this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}},ht={setTranslate:function(){for(var t=this.slides,e=this.rtlTranslate,i=0;i<t.length;i+=1){var s=t.eq(i),n=s[0].progress;this.params.flipEffect.limitRotation&&(n=Math.max(Math.min(s[0].progress,1),-1));var a,o,r=-180*n,l=0,h=-s[0].swiperSlideOffset,d=0;this.isHorizontal()?e&&(r=-r):(d=h,l=-r,r=h=0),s[0].style.zIndex=-Math.abs(Math.round(n))+t.length,this.params.flipEffect.slideShadows&&(a=this.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),o=this.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom"),0===a.length&&(a=z('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),s.append(a)),0===o.length&&(o=z('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),s.append(o)),a.length&&(a[0].style.opacity=Math.max(-n,0)),o.length&&(o[0].style.opacity=Math.max(n,0))),s.transform("translate3d("+h+"px, "+d+"px, 0px) rotateX("+l+"deg) rotateY("+r+"deg)")}},setTransition:function(t){var i,s=this,e=s.slides,n=s.activeIndex,a=s.$wrapperEl;e.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),s.params.virtualTranslate&&0!==t&&(i=!1,e.eq(n).transitionEnd(function(){if(!i&&s&&!s.destroyed){i=!0,s.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],e=0;e<t.length;e+=1)a.trigger(t[e])}}))}},dt={setTranslate:function(){for(var t=this.width,e=this.height,i=this.slides,s=this.$wrapperEl,n=this.slidesSizesGrid,a=this.params.coverflowEffect,o=this.isHorizontal(),r=this.translate,l=o?t/2-r:e/2-r,h=o?a.rotate:-a.rotate,d=a.depth,c=0,u=i.length;c<u;c+=1){var p=i.eq(c),g=n[c],f=(l-p[0].swiperSlideOffset-g/2)/g*a.modifier,m=o?h*f:0,v=o?0:h*f,y=-d*Math.abs(f),b=o?0:a.stretch*f,w=o?a.stretch*f:0;Math.abs(w)<.001&&(w=0),Math.abs(b)<.001&&(b=0),Math.abs(y)<.001&&(y=0),Math.abs(m)<.001&&(m=0),Math.abs(v)<.001&&(v=0);var k,x,_="translate3d("+w+"px,"+b+"px,"+y+"px)  rotateX("+v+"deg) rotateY("+m+"deg)";p.transform(_),p[0].style.zIndex=1-Math.abs(Math.round(f)),a.slideShadows&&(k=o?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top"),x=o?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom"),0===k.length&&(k=z('<div class="swiper-slide-shadow-'+(o?"left":"top")+'"></div>'),p.append(k)),0===x.length&&(x=z('<div class="swiper-slide-shadow-'+(o?"right":"bottom")+'"></div>'),p.append(x)),k.length&&(k[0].style.opacity=0<f?f:0),x.length&&(x[0].style.opacity=0<-f?-f:0))}(et.pointerEvents||et.prefixedPointerEvents)&&(s[0].style.perspectiveOrigin=l+"px 50%")},setTransition:function(t){this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}},ct={init:function(){var t=this,e=t.params.thumbs,i=t.constructor;e.swiper instanceof i?(t.thumbs.swiper=e.swiper,tt.extend(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),tt.extend(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):tt.isObject(e.swiper)&&(t.thumbs.swiper=new i(tt.extend({},e.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),t.thumbs.swiperCreated=!0),t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",t.thumbs.onThumbClick)},onThumbClick:function(){var t,e,i,s,n,a,o=this,r=o.thumbs.swiper;r&&(t=r.clickedIndex,(e=r.clickedSlide)&&z(e).hasClass(o.params.thumbs.slideThumbActiveClass)||null==t||(a=r.params.loop?parseInt(z(r.clickedSlide).attr("data-swiper-slide-index"),10):t,o.params.loop&&(i=o.activeIndex,o.slides.eq(i).hasClass(o.params.slideDuplicateClass)&&(o.loopFix(),o._clientLeft=o.$wrapperEl[0].clientLeft,i=o.activeIndex),s=o.slides.eq(i).prevAll('[data-swiper-slide-index="'+a+'"]').eq(0).index(),n=o.slides.eq(i).nextAll('[data-swiper-slide-index="'+a+'"]').eq(0).index(),a=void 0===s||void 0!==n&&n-i<i-s?n:s),o.slideTo(a)))},update:function(t){var e=this,i=e.thumbs.swiper;if(i){var s,n,a,o,r="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView;e.realIndex!==i.realIndex&&(s=i.activeIndex,o=i.params.loop?(i.slides.eq(s).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,s=i.activeIndex),n=i.slides.eq(s).prevAll('[data-swiper-slide-index="'+e.realIndex+'"]').eq(0).index(),a=i.slides.eq(s).nextAll('[data-swiper-slide-index="'+e.realIndex+'"]').eq(0).index(),void 0===n?a:void 0===a?n:a-s==s-n?s:a-s<s-n?a:n):e.realIndex,i.visibleSlidesIndexes.indexOf(o)<0&&(i.params.centeredSlides?o=s<o?o-Math.floor(r/2)+1:o+Math.floor(r/2)-1:s<o&&(o=o-r+1),i.slideTo(o,t?0:void 0)));var l=1,h=e.params.thumbs.slideThumbActiveClass;if(1<e.params.slidesPerView&&!e.params.centeredSlides&&(l=e.params.slidesPerView),i.slides.removeClass(h),i.params.loop)for(var d=0;d<l;d+=1)i.$wrapperEl.children('[data-swiper-slide-index="'+(e.realIndex+d)+'"]').addClass(h);else for(var c=0;c<l;c+=1)i.slides.eq(e.realIndex+c).addClass(h)}}},ut=[O,B,A,H,R,$,X,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){tt.extend(this,{mousewheel:{enabled:!1,enable:F.enable.bind(this),disable:F.disable.bind(this),handle:F.handle.bind(this),handleMouseEnter:F.handleMouseEnter.bind(this),handleMouseLeave:F.handleMouseLeave.bind(this),lastScrollTime:tt.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){tt.extend(this,{navigation:{init:Y.init.bind(this),update:Y.update.bind(this),destroy:Y.destroy.bind(this),onNextClick:Y.onNextClick.bind(this),onPrevClick:Y.onPrevClick.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(t){var e,i=this,s=i.navigation,n=s.$nextEl,a=s.$prevEl;!i.params.navigation.hideOnClick||z(t.target).is(a)||z(t.target).is(n)||(n?e=n.hasClass(i.params.navigation.hiddenClass):a&&(e=a.hasClass(i.params.navigation.hiddenClass)),!0===e?i.emit("navigationShow",i):i.emit("navigationHide",i),n&&n.toggleClass(i.params.navigation.hiddenClass),a&&a.toggleClass(i.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(t){return t},formatFractionTotal:function(t){return t},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){tt.extend(this,{pagination:{init:G.init.bind(this),render:G.render.bind(this),update:G.update.bind(this),destroy:G.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){!this.params.loop&&void 0!==this.snapIndex||this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(t){var e=this;e.params.pagination.el&&e.params.pagination.hideOnClick&&0<e.pagination.$el.length&&!z(t.target).hasClass(e.params.pagination.bulletClass)&&(!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow",e):e.emit("paginationHide",e),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass))}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){var t=this;tt.extend(t,{scrollbar:{init:q.init.bind(t),destroy:q.destroy.bind(t),updateSize:q.updateSize.bind(t),setTranslate:q.setTranslate.bind(t),setTransition:q.setTransition.bind(t),enableDraggable:q.enableDraggable.bind(t),disableDraggable:q.disableDraggable.bind(t),setDragPosition:q.setDragPosition.bind(t),onDragStart:q.onDragStart.bind(t),onDragMove:q.onDragMove.bind(t),onDragEnd:q.onDragEnd.bind(t),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(t){this.scrollbar.setTransition(t)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){tt.extend(this,{parallax:{setTransform:U.setTransform.bind(this),setTranslate:U.setTranslate.bind(this),setTransition:U.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax.enabled&&this.parallax.setTranslate()},setTransition:function(t){this.params.parallax.enabled&&this.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var s=this,e={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(t){e[t]=K[t].bind(s)}),tt.extend(s,{zoom:e});var n=1;Object.defineProperty(s.zoom,"scale",{get:function(){return n},set:function(t){var e,i;n!==t&&(e=s.zoom.gesture.$imageEl?s.zoom.gesture.$imageEl[0]:void 0,i=s.zoom.gesture.$slideEl?s.zoom.gesture.$slideEl[0]:void 0,s.emit("zoomChange",t,e,i)),n=t}})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(t){this.zoom.enabled&&this.zoom.onTouchStart(t)},touchEnd:function(t){this.zoom.enabled&&this.zoom.onTouchEnd(t)},doubleTap:function(t){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(t)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){tt.extend(this,{lazy:{initialImageLoaded:!1,load:J.load.bind(this),loadInSlide:J.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){tt.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:it.getInterpolateFunction.bind(this),setTranslate:it.setTranslate.bind(this),setTransition:it.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(t,e){this.controller.control&&this.controller.setTranslate(t,e)},setTransition:function(t,e){this.controller.control&&this.controller.setTransition(t,e)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var e=this;tt.extend(e,{a11y:{liveRegion:z('<span class="'+e.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),Object.keys(st).forEach(function(t){e.a11y[t]=st[t].bind(e)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){tt.extend(this,{history:{init:nt.init.bind(this),setHistory:nt.setHistory.bind(this),setHistoryPopState:nt.setHistoryPopState.bind(this),scrollToSlide:nt.scrollToSlide.bind(this),destroy:nt.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){tt.extend(this,{hashNavigation:{initialized:!1,init:at.init.bind(this),destroy:at.destroy.bind(this),setHash:at.setHash.bind(this),onHashCange:at.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var e=this;tt.extend(e,{autoplay:{running:!1,paused:!1,run:ot.run.bind(e),start:ot.start.bind(e),stop:ot.stop.bind(e),pause:ot.pause.bind(e),onTransitionEnd:function(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.autoplay.onTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.autoplay.onTransitionEnd),e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(t,e){this.autoplay.running&&(e||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(t):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){tt.extend(this,{fadeEffect:{setTranslate:rt.setTranslate.bind(this),setTransition:rt.setTransition.bind(this)}})},on:{beforeInit:function(){var t;"fade"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"fade"),t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0},tt.extend(this.params,t),tt.extend(this.originalParams,t))},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(t){"fade"===this.params.effect&&this.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){tt.extend(this,{cubeEffect:{setTranslate:lt.setTranslate.bind(this),setTransition:lt.setTransition.bind(this)}})},on:{beforeInit:function(){var t;"cube"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d"),t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0},tt.extend(this.params,t),tt.extend(this.originalParams,t))},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(t){"cube"===this.params.effect&&this.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){tt.extend(this,{flipEffect:{setTranslate:ht.setTranslate.bind(this),setTransition:ht.setTransition.bind(this)}})},on:{beforeInit:function(){var t;"flip"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d"),t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0},tt.extend(this.params,t),tt.extend(this.originalParams,t))},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(t){"flip"===this.params.effect&&this.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){tt.extend(this,{coverflowEffect:{setTranslate:dt.setTranslate.bind(this),setTransition:dt.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(t){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){tt.extend(this,{thumbs:{swiper:null,init:ct.init.bind(this),update:ct.update.bind(this),onThumbClick:ct.onThumbClick.bind(this)}})},on:{beforeInit:function(){var t=this.params.thumbs;t&&t.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(t){var e=this.thumbs.swiper;e&&e.setTransition(t)},beforeDestroy:function(){var t=this.thumbs.swiper;t&&this.thumbs.swiperCreated&&t&&t.destroy()}}}];return void 0===D.use&&(D.use=D.Class.use,D.installModule=D.Class.installModule),D.use(ut),D}),function(t){"use strict";function c(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function r(t,e,i,s,n,a){return c((o=c(c(e,t),c(s,a)))<<n|o>>>32-n,i);var o}function u(t,e,i,s,n,a,o){return r(e&i|~e&s,t,e,n,a,o)}function p(t,e,i,s,n,a,o){return r(e&s|i&~s,t,e,n,a,o)}function g(t,e,i,s,n,a,o){return r(e^i^s,t,e,n,a,o)}function f(t,e,i,s,n,a,o){return r(i^(e|~s),t,e,n,a,o)}function l(t,e){var i,s,n,a;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var o=1732584193,r=-271733879,l=-1732584194,h=271733878,d=0;d<t.length;d+=16)r=f(r=f(r=f(r=f(r=g(r=g(r=g(r=g(r=p(r=p(r=p(r=p(r=u(r=u(r=u(r=u(s=r,l=u(n=l,h=u(a=h,o=u(i=o,r,l,h,t[d],7,-680876936),r,l,t[d+1],12,-389564586),o,r,t[d+2],17,606105819),h,o,t[d+3],22,-1044525330),l=u(l,h=u(h,o=u(o,r,l,h,t[d+4],7,-176418897),r,l,t[d+5],12,1200080426),o,r,t[d+6],17,-1473231341),h,o,t[d+7],22,-45705983),l=u(l,h=u(h,o=u(o,r,l,h,t[d+8],7,1770035416),r,l,t[d+9],12,-1958414417),o,r,t[d+10],17,-42063),h,o,t[d+11],22,-1990404162),l=u(l,h=u(h,o=u(o,r,l,h,t[d+12],7,1804603682),r,l,t[d+13],12,-40341101),o,r,t[d+14],17,-1502002290),h,o,t[d+15],22,1236535329),l=p(l,h=p(h,o=p(o,r,l,h,t[d+1],5,-165796510),r,l,t[d+6],9,-1069501632),o,r,t[d+11],14,643717713),h,o,t[d],20,-373897302),l=p(l,h=p(h,o=p(o,r,l,h,t[d+5],5,-701558691),r,l,t[d+10],9,38016083),o,r,t[d+15],14,-660478335),h,o,t[d+4],20,-405537848),l=p(l,h=p(h,o=p(o,r,l,h,t[d+9],5,568446438),r,l,t[d+14],9,-1019803690),o,r,t[d+3],14,-187363961),h,o,t[d+8],20,1163531501),l=p(l,h=p(h,o=p(o,r,l,h,t[d+13],5,-1444681467),r,l,t[d+2],9,-51403784),o,r,t[d+7],14,1735328473),h,o,t[d+12],20,-1926607734),l=g(l,h=g(h,o=g(o,r,l,h,t[d+5],4,-378558),r,l,t[d+8],11,-2022574463),o,r,t[d+11],16,1839030562),h,o,t[d+14],23,-35309556),l=g(l,h=g(h,o=g(o,r,l,h,t[d+1],4,-1530992060),r,l,t[d+4],11,1272893353),o,r,t[d+7],16,-155497632),h,o,t[d+10],23,-1094730640),l=g(l,h=g(h,o=g(o,r,l,h,t[d+13],4,681279174),r,l,t[d],11,-358537222),o,r,t[d+3],16,-722521979),h,o,t[d+6],23,76029189),l=g(l,h=g(h,o=g(o,r,l,h,t[d+9],4,-640364487),r,l,t[d+12],11,-421815835),o,r,t[d+15],16,530742520),h,o,t[d+2],23,-995338651),l=f(l,h=f(h,o=f(o,r,l,h,t[d],6,-198630844),r,l,t[d+7],10,1126891415),o,r,t[d+14],15,-1416354905),h,o,t[d+5],21,-57434055),l=f(l,h=f(h,o=f(o,r,l,h,t[d+12],6,1700485571),r,l,t[d+3],10,-1894986606),o,r,t[d+10],15,-1051523),h,o,t[d+1],21,-2054922799),l=f(l,h=f(h,o=f(o,r,l,h,t[d+8],6,1873313359),r,l,t[d+15],10,-30611744),o,r,t[d+6],15,-1560198380),h,o,t[d+13],21,1309151649),l=f(l,h=f(h,o=f(o,r,l,h,t[d+4],6,-145523070),r,l,t[d+11],10,-1120210379),o,r,t[d+2],15,718787259),h,o,t[d+9],21,-343485551),o=c(o,i),r=c(r,s),l=c(l,n),h=c(h,a);return[o,r,l,h]}function h(t){for(var e="",i=32*t.length,s=0;s<i;s+=8)e+=String.fromCharCode(t[s>>5]>>>s%32&255);return e}function d(t){var e=[];for(e[(t.length>>2)-1]=void 0,s=0;s<e.length;s+=1)e[s]=0;for(var i=8*t.length,s=0;s<i;s+=8)e[s>>5]|=(255&t.charCodeAt(s/8))<<s%32;return e}function s(t){for(var e,i="0123456789abcdef",s="",n=0;n<t.length;n+=1)e=t.charCodeAt(n),s+=i.charAt(e>>>4&15)+i.charAt(15&e);return s}function i(t){return unescape(encodeURIComponent(t))}function n(t){return h(l(d(e=i(t)),8*e.length));var e}function a(t,e){return function(t,e){var i,s,n=d(t),a=[],o=[];for(a[15]=o[15]=void 0,16<n.length&&(n=l(n,8*t.length)),i=0;i<16;i+=1)a[i]=909522486^n[i],o[i]=1549556828^n[i];return s=l(a.concat(d(e)),512+8*e.length),h(l(o.concat(s),640))}(i(t),i(e))}function e(t,e,i){return e?i?a(e,t):s(a(e,t)):i?n(t):s(n(t))}"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:t.md5=e}(this);